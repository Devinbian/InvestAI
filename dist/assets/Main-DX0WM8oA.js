var Co=Object.defineProperty;var xo=(t,e,s)=>e in t?Co(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Le=(t,e,s)=>xo(t,typeof e!="symbol"?e+"":e,s);import{u as useUserStore,r as router,E as ElMessage,d as defineStore,g as getDefaultExportFromCjs,c as commonjsGlobal,a as ref,o as onUnmounted,b as computed,e as onMounted,f as createElementBlock,h as openBlock,i as createBaseVNode,n as normalizeClass,t as toDisplayString,F as Fragment,j as renderList,k as normalizeStyle,l as resolveComponent,m as createCommentVNode,p as createBlock,w as withCtx,q as createTextVNode,s as resolveDynamicComponent,v as withModifiers,T as Teleport,x as h,y as renderSlot,z as createVNode,A as unref,B as question_filled_default,C as watch,D as withDirectives,G as vShow,H as vModelText,I as vModelSelect,J as vModelRadio,K as vModelCheckbox,L as ElMessageBox,M as reactive,N as close_default,O as circle_check_default,P as warning_default,Q as edit_default,R as arrow_right_default,S as bell_default,U as lock_default,V as trend_charts_default,W as plus_default,X as switch_default,Y as star_default,Z as list_default,_ as vModelDynamic,$ as createStaticVNode,a0 as phone_default,a1 as message_default,a2 as user_filled_default,a3 as video_play_default,a4 as chat_dot_square_default,a5 as edit_pen_default,a6 as resolveDirective,a7 as download_default,a8 as search_default,a9 as more_default,aa as ElButton,ab as clock_default,ac as circle_close_default,ad as useRouter,ae as toRaw,af as isNumber$1,ag as nextTick,ah as arrow_down_default,ai as arrow_up_default,aj as delete_default,ak as withKeys,al as useRoute,am as isRef,an as createSlots,ao as mergeProps}from"./index-BLlK5bi5.js";import{_ as _export_sfc}from"./_plugin-vue_export-helper-DlAUqK2U.js";function bind(t,e){return function(){return t.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,{iterator,toStringTag}=Symbol,kindOf=(t=>e=>{const s=toString.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf$1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(toStringTag in t)&&!(iterator in t)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject(t)&&isFunction(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),isArray(t))for(o=0,a=t.length;o<a;o++)e.call(null,t[o],o,t);else{const n=s?Object.getOwnPropertyNames(t):Object.keys(t),r=n.length;let d;for(o=0;o<r;o++)d=n[o],e.call(null,t[d],d,t)}}function findKey(t,e){e=e.toLowerCase();const s=Object.keys(t);let o=s.length,a;for(;o-- >0;)if(a=s[o],e===a.toLowerCase())return a;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge(){const{caseless:t}=isContextDefined(this)&&this||{},e={},s=(o,a)=>{const n=t&&findKey(e,a)||a;isPlainObject(e[n])&&isPlainObject(o)?e[n]=merge(e[n],o):isPlainObject(o)?e[n]=merge({},o):isArray(o)?e[n]=o.slice():e[n]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&forEach(arguments[o],s);return e}const extend=(t,e,s,{allOwnKeys:o}={})=>(forEach(e,(a,n)=>{s&&isFunction(a)?t[n]=bind(a,s):t[n]=a},{allOwnKeys:o}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,s,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},toFlatObject=(t,e,s,o)=>{let a,n,r;const d={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),n=a.length;n-- >0;)r=a[n],(!o||o(r,t,e))&&!d[r]&&(e[r]=t[r],d[r]=!0);t=s!==!1&&getPrototypeOf$1(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const o=t.indexOf(e,s);return o!==-1&&o===s},toArray=t=>{if(!t)return null;if(isArray(t))return t;let e=t.length;if(!isNumber(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},isTypedArray=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(t,e)=>{const o=(t&&t[iterator]).call(t);let a;for(;(a=o.next())&&!a.done;){const n=a.value;e.call(t,n[0],n[1])}},matchAll=(t,e)=>{let s;const o=[];for(;(s=t.exec(e))!==null;)o.push(s);return o},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,a){return o.toUpperCase()+a}),hasOwnProperty=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),o={};forEach(s,(a,n)=>{let r;(r=e(a,n,t))!==!1&&(o[n]=r||a)}),Object.defineProperties(t,o)},freezeMethods=t=>{reduceDescriptors(t,(e,s)=>{if(isFunction(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=t[s];if(isFunction(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},toObjectSet=(t,e)=>{const s={},o=a=>{a.forEach(n=>{s[n]=!0})};return isArray(t)?o(t):o(String(t).split(e)),s},noop=()=>{},toFiniteNumber=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function isSpecCompliantForm(t){return!!(t&&isFunction(t.append)&&t[toStringTag]==="FormData"&&t[iterator])}const toJSONObject=t=>{const e=new Array(10),s=(o,a)=>{if(isObject(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[a]=o;const n=isArray(o)?[]:{};return forEach(o,(r,d)=>{const m=s(r,a+1);!isUndefined(m)&&(n[d]=m)}),e[a]=void 0,n}}return o};return s(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject(t)||isFunction(t))&&isFunction(t.then)&&isFunction(t.catch),_setImmediate=((t,e)=>t?setImmediate:e?((s,o)=>(_global.addEventListener("message",({source:a,data:n})=>{a===_global&&n===s&&o.length&&o.shift()()},!1),a=>{o.push(a),_global.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=t=>t!=null&&isFunction(t[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(t,e,s,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(t,e,s,o,a,n)=>{const r=Object.create(prototype$1);return utils$1.toFlatObject(t,r,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),AxiosError$1.call(r,t.message,e,s,o,a),r.cause=t,r.name=t.name,n&&Object.assign(r,n),r};const httpAdapter=null;function isVisitable(t){return utils$1.isPlainObject(t)||utils$1.isArray(t)}function removeBrackets(t){return utils$1.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,s){return t?t.concat(e).map(function(a,n){return a=removeBrackets(a),!s&&n?"["+a+"]":a}).join(s?".":""):e}function isFlatArray(t){return utils$1.isArray(t)&&!t.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData$1(t,e,s){if(!utils$1.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=utils$1.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,f){return!utils$1.isUndefined(f[N])});const o=s.metaTokens,a=s.visitor||l,n=s.dots,r=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(a))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(utils$1.isDate(g))return g.toISOString();if(!m&&utils$1.isBlob(g))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(g)||utils$1.isTypedArray(g)?m&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function l(g,N,f){let E=g;if(g&&!f&&typeof g=="object"){if(utils$1.endsWith(N,"{}"))N=o?N:N.slice(0,-2),g=JSON.stringify(g);else if(utils$1.isArray(g)&&isFlatArray(g)||(utils$1.isFileList(g)||utils$1.endsWith(N,"[]"))&&(E=utils$1.toArray(g)))return N=removeBrackets(N),E.forEach(function(y,$){!(utils$1.isUndefined(y)||y===null)&&e.append(r===!0?renderKey([N],$,n):r===null?N:N+"[]",c(y))}),!1}return isVisitable(g)?!0:(e.append(renderKey(f,N,n),c(g)),!1)}const _=[],k=Object.assign(predicates,{defaultVisitor:l,convertValue:c,isVisitable});function S(g,N){if(!utils$1.isUndefined(g)){if(_.indexOf(g)!==-1)throw Error("Circular reference detected in "+N.join("."));_.push(g),utils$1.forEach(g,function(E,b){(!(utils$1.isUndefined(E)||E===null)&&a.call(e,E,utils$1.isString(b)?b.trim():b,N,k))===!0&&S(E,N?N.concat(b):[b])}),_.pop()}}if(!utils$1.isObject(t))throw new TypeError("data must be an object");return S(t),e}function encode$1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData$1(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,s){this._pairs.push([e,s])};prototype.toString=function(e){const s=e?function(o){return e.call(this,o,encode$1)}:encode$1;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,s){if(!e)return t;const o=s&&s.encode||encode;utils$1.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let n;if(a?n=a(e,s):n=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,s).toString(o),n){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,s,o){return this.handlers.push({fulfilled:e,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(o){o!==null&&e(o)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(t,e){return toFormData$1(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(s,o,a,n){return platform.isNode&&utils$1.isBuffer(s)?(this.append(o,s.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils$1.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},s=Object.keys(t);let o;const a=s.length;let n;for(o=0;o<a;o++)n=s[o],e[n]=t[n];return e}function formDataToJSON(t){function e(s,o,a,n){let r=s[n++];if(r==="__proto__")return!0;const d=Number.isFinite(+r),m=n>=s.length;return r=!r&&utils$1.isArray(a)?a.length:r,m?(utils$1.hasOwnProp(a,r)?a[r]=[a[r],o]:a[r]=o,!d):((!a[r]||!utils$1.isObject(a[r]))&&(a[r]=[]),e(s,o,a[r],n)&&utils$1.isArray(a[r])&&(a[r]=arrayToObject(a[r])),!d)}if(utils$1.isFormData(t)&&utils$1.isFunction(t.entries)){const s={};return utils$1.forEachEntry(t,(o,a)=>{e(parsePropPath(o),a,s,0)}),s}return null}function stringifySafely(t,e,s){if(utils$1.isString(t))try{return(e||JSON.parse)(t),utils$1.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(t)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const o=s.getContentType()||"",a=o.indexOf("application/json")>-1,n=utils$1.isObject(e);if(n&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return a?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(n){if(o.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((d=utils$1.isFileList(e))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return toFormData$1(d?{"files[]":e}:e,m&&new m,this.formSerializer)}}return n||a?(s.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const s=this.transitional||defaults.transitional,o=s&&s.forcedJSONParsing,a=this.responseType==="json";if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(o&&!this.responseType||a)){const r=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(r)throw d.name==="SyntaxError"?AxiosError$1.from(d,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],t=>{defaults.headers[t]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const e={};let s,o,a;return t&&t.split(`
`).forEach(function(r){a=r.indexOf(":"),s=r.substring(0,a).trim().toLowerCase(),o=r.substring(a+1).trim(),!(!s||e[s]&&ignoreDuplicateOf[s])&&(s==="set-cookie"?e[s]?e[s].push(o):e[s]=[o]:e[s]=e[s]?e[s]+", "+o:o)}),e},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$1.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(t);)e[o[1]]=o[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,s,o,a){if(utils$1.isFunction(o))return o.call(this,e,s);if(a&&(e=s),!!utils$1.isString(e)){if(utils$1.isString(o))return e.indexOf(o)!==-1;if(utils$1.isRegExp(o))return o.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,o)=>s.toUpperCase()+o)}function buildAccessors(t,e){const s=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+s,{value:function(a,n,r){return this[o].call(this,e,a,n,r)},configurable:!0})})}let AxiosHeaders$1=class{constructor(e){e&&this.set(e)}set(e,s,o){const a=this;function n(d,m,c){const l=normalizeHeader(m);if(!l)throw new Error("header name must be a non-empty string");const _=utils$1.findKey(a,l);(!_||a[_]===void 0||c===!0||c===void 0&&a[_]!==!1)&&(a[_||m]=normalizeValue(d))}const r=(d,m)=>utils$1.forEach(d,(c,l)=>n(c,l,m));if(utils$1.isPlainObject(e)||e instanceof this.constructor)r(e,s);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))r(parseHeaders(e),s);else if(utils$1.isObject(e)&&utils$1.isIterable(e)){let d={},m,c;for(const l of e){if(!utils$1.isArray(l))throw TypeError("Object iterator must return a key-value pair");d[c=l[0]]=(m=d[c])?utils$1.isArray(m)?[...m,l[1]]:[m,l[1]]:l[1]}r(d,s)}else e!=null&&n(s,e,o);return this}get(e,s){if(e=normalizeHeader(e),e){const o=utils$1.findKey(this,e);if(o){const a=this[o];if(!s)return a;if(s===!0)return parseTokens(a);if(utils$1.isFunction(s))return s.call(this,a,o);if(utils$1.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=normalizeHeader(e),e){const o=utils$1.findKey(this,e);return!!(o&&this[o]!==void 0&&(!s||matchHeaderValue(this,this[o],o,s)))}return!1}delete(e,s){const o=this;let a=!1;function n(r){if(r=normalizeHeader(r),r){const d=utils$1.findKey(o,r);d&&(!s||matchHeaderValue(o,o[d],d,s))&&(delete o[d],a=!0)}}return utils$1.isArray(e)?e.forEach(n):n(e),a}clear(e){const s=Object.keys(this);let o=s.length,a=!1;for(;o--;){const n=s[o];(!e||matchHeaderValue(this,this[n],n,e,!0))&&(delete this[n],a=!0)}return a}normalize(e){const s=this,o={};return utils$1.forEach(this,(a,n)=>{const r=utils$1.findKey(o,n);if(r){s[r]=normalizeValue(a),delete s[n];return}const d=e?formatHeader(n):String(n).trim();d!==n&&delete s[n],s[d]=normalizeValue(a),o[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return utils$1.forEach(this,(o,a)=>{o!=null&&o!==!1&&(s[a]=e&&utils$1.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const o=new this(e);return s.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[$internals]=this[$internals]={accessors:{}}).accessors,a=this.prototype;function n(r){const d=normalizeHeader(r);o[d]||(buildAccessors(a,r),o[d]=!0)}return utils$1.isArray(e)?e.forEach(n):n(e),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[s]=o}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(t,e){const s=this||defaults,o=e||s,a=AxiosHeaders$1.from(o.headers);let n=o.data;return utils$1.forEach(t,function(d){n=d.call(s,n,a.normalize(),e?e.status:void 0)}),a.normalize(),n}function isCancel$1(t){return!!(t&&t.__CANCEL__)}function CanceledError$1(t,e,s){AxiosError$1.call(this,t??"canceled",AxiosError$1.ERR_CANCELED,e,s),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(t,e,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?t(s):e(new AxiosError$1("Request failed with status code "+s.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const s=new Array(t),o=new Array(t);let a=0,n=0,r;return e=e!==void 0?e:1e3,function(m){const c=Date.now(),l=o[n];r||(r=c),s[a]=m,o[a]=c;let _=n,k=0;for(;_!==a;)k+=s[_++],_=_%t;if(a=(a+1)%t,a===n&&(n=(n+1)%t),c-r<e)return;const S=l&&c-l;return S?Math.round(k*1e3/S):void 0}}function throttle(t,e){let s=0,o=1e3/e,a,n;const r=(c,l=Date.now())=>{s=l,a=null,n&&(clearTimeout(n),n=null),t.apply(null,c)};return[(...c)=>{const l=Date.now(),_=l-s;_>=o?r(c,l):(a=c,n||(n=setTimeout(()=>{n=null,r(a)},o-_)))},()=>a&&r(a)]}const progressEventReducer=(t,e,s=3)=>{let o=0;const a=speedometer(50,250);return throttle(n=>{const r=n.loaded,d=n.lengthComputable?n.total:void 0,m=r-o,c=a(m),l=r<=d;o=r;const _={loaded:r,total:d,progress:d?r/d:void 0,bytes:m,rate:c||void 0,estimated:c&&d&&l?(d-r)/c:void 0,event:n,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(_)},s)},progressEventDecorator=(t,e)=>{const s=t!=null;return[o=>e[0]({lengthComputable:s,total:t,loaded:o}),e[1]]},asyncDecorator=t=>(...e)=>utils$1.asap(()=>t(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,platform.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,e,s,o,a,n){const r=[t+"="+encodeURIComponent(e)];utils$1.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),utils$1.isString(o)&&r.push("path="+o),utils$1.isString(a)&&r.push("domain="+a),n===!0&&r.push("secure"),document.cookie=r.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e,s){let o=!isAbsoluteURL(e);return t&&(o||s==!1)?combineURLs(t,e):e}const headersToObject=t=>t instanceof AxiosHeaders$1?{...t}:t;function mergeConfig$1(t,e){e=e||{};const s={};function o(c,l,_,k){return utils$1.isPlainObject(c)&&utils$1.isPlainObject(l)?utils$1.merge.call({caseless:k},c,l):utils$1.isPlainObject(l)?utils$1.merge({},l):utils$1.isArray(l)?l.slice():l}function a(c,l,_,k){if(utils$1.isUndefined(l)){if(!utils$1.isUndefined(c))return o(void 0,c,_,k)}else return o(c,l,_,k)}function n(c,l){if(!utils$1.isUndefined(l))return o(void 0,l)}function r(c,l){if(utils$1.isUndefined(l)){if(!utils$1.isUndefined(c))return o(void 0,c)}else return o(void 0,l)}function d(c,l,_){if(_ in e)return o(c,l);if(_ in t)return o(void 0,c)}const m={url:n,method:n,data:n,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:d,headers:(c,l,_)=>a(headersToObject(c),headersToObject(l),_,!0)};return utils$1.forEach(Object.keys(Object.assign({},t,e)),function(l){const _=m[l]||a,k=_(t[l],e[l],l);utils$1.isUndefined(k)&&_!==d||(s[l]=k)}),s}const resolveConfig=t=>{const e=mergeConfig$1({},t);let{data:s,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:n,headers:r,auth:d}=e;e.headers=r=AxiosHeaders$1.from(r),e.url=buildURL(buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&r.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let m;if(utils$1.isFormData(s)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((m=r.getContentType())!==!1){const[c,...l]=m?m.split(";").map(_=>_.trim()).filter(Boolean):[];r.setContentType([c||"multipart/form-data",...l].join("; "))}}if(platform.hasStandardBrowserEnv&&(o&&utils$1.isFunction(o)&&(o=o(e)),o||o!==!1&&isURLSameOrigin(e.url))){const c=a&&n&&cookies.read(n);c&&r.set(a,c)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(s,o){const a=resolveConfig(t);let n=a.data;const r=AxiosHeaders$1.from(a.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:c}=a,l,_,k,S,g;function N(){S&&S(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let f=new XMLHttpRequest;f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout;function E(){if(!f)return;const y=AxiosHeaders$1.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),w={data:!d||d==="text"||d==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:y,config:t,request:f};settle(function(v){s(v),N()},function(v){o(v),N()},w),f=null}"onloadend"in f?f.onloadend=E:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(E)},f.onabort=function(){f&&(o(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,t,f)),f=null)},f.onerror=function(){o(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let $=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||transitionalDefaults;a.timeoutErrorMessage&&($=a.timeoutErrorMessage),o(new AxiosError$1($,w.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,t,f)),f=null},n===void 0&&r.setContentType(null),"setRequestHeader"in f&&utils$1.forEach(r.toJSON(),function($,w){f.setRequestHeader(w,$)}),utils$1.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),d&&d!=="json"&&(f.responseType=a.responseType),c&&([k,g]=progressEventReducer(c,!0),f.addEventListener("progress",k)),m&&f.upload&&([_,S]=progressEventReducer(m),f.upload.addEventListener("progress",_),f.upload.addEventListener("loadend",S)),(a.cancelToken||a.signal)&&(l=y=>{f&&(o(!y||y.type?new CanceledError$1(null,t,f):y),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const b=parseProtocol(a.url);if(b&&platform.protocols.indexOf(b)===-1){o(new AxiosError$1("Unsupported protocol "+b+":",AxiosError$1.ERR_BAD_REQUEST,t));return}f.send(n||null)})},composeSignals=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let o=new AbortController,a;const n=function(c){if(!a){a=!0,d();const l=c instanceof Error?c:this.reason;o.abort(l instanceof AxiosError$1?l:new CanceledError$1(l instanceof Error?l.message:l))}};let r=e&&setTimeout(()=>{r=null,n(new AxiosError$1(`timeout ${e} of ms exceeded`,AxiosError$1.ETIMEDOUT))},e);const d=()=>{t&&(r&&clearTimeout(r),r=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(n):c.removeEventListener("abort",n)}),t=null)};t.forEach(c=>c.addEventListener("abort",n));const{signal:m}=o;return m.unsubscribe=()=>utils$1.asap(d),m}},streamChunk=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let o=0,a;for(;o<s;)a=o+e,yield t.slice(o,a),o=a},readBytes=async function*(t,e){for await(const s of readStream(t))yield*streamChunk(s,e)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:o}=await e.read();if(s)break;yield o}}finally{await e.cancel()}},trackStream=(t,e,s,o)=>{const a=readBytes(t,e);let n=0,r,d=m=>{r||(r=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:c,value:l}=await a.next();if(c){d(),m.close();return}let _=l.byteLength;if(s){let k=n+=_;s(k)}m.enqueue(new Uint8Array(l))}catch(c){throw d(c),c}},cancel(m){return d(m),a.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),test=(t,...e)=>{try{return!!t(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let t=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(t=>t.body)};isFetchSupported&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$1.isFunction(t[e])?s=>s[e]():(s,o)=>{throw new AxiosError$1(`Response type '${e}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,o)})})})(new Response);const getBodyLength=async t=>{if(t==null)return 0;if(utils$1.isBlob(t))return t.size;if(utils$1.isSpecCompliantForm(t))return(await new Request(platform.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(t)||utils$1.isArrayBuffer(t))return t.byteLength;if(utils$1.isURLSearchParams(t)&&(t=t+""),utils$1.isString(t))return(await encodeText(t)).byteLength},resolveBodyLength=async(t,e)=>{const s=utils$1.toFiniteNumber(t.getContentLength());return s??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async t=>{let{url:e,method:s,data:o,signal:a,cancelToken:n,timeout:r,onDownloadProgress:d,onUploadProgress:m,responseType:c,headers:l,withCredentials:_="same-origin",fetchOptions:k}=resolveConfig(t);c=c?(c+"").toLowerCase():"text";let S=composeSignals([a,n&&n.toAbortSignal()],r),g;const N=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let f;try{if(m&&supportsRequestStream&&s!=="get"&&s!=="head"&&(f=await resolveBodyLength(l,o))!==0){let w=new Request(e,{method:"POST",body:o,duplex:"half"}),x;if(utils$1.isFormData(o)&&(x=w.headers.get("content-type"))&&l.setContentType(x),w.body){const[v,C]=progressEventDecorator(f,progressEventReducer(asyncDecorator(m)));o=trackStream(w.body,DEFAULT_CHUNK_SIZE,v,C)}}utils$1.isString(_)||(_=_?"include":"omit");const E="credentials"in Request.prototype;g=new Request(e,{...k,signal:S,method:s.toUpperCase(),headers:l.normalize().toJSON(),body:o,duplex:"half",credentials:E?_:void 0});let b=await fetch(g);const y=supportsResponseStream&&(c==="stream"||c==="response");if(supportsResponseStream&&(d||y&&N)){const w={};["status","statusText","headers"].forEach(T=>{w[T]=b[T]});const x=utils$1.toFiniteNumber(b.headers.get("content-length")),[v,C]=d&&progressEventDecorator(x,progressEventReducer(asyncDecorator(d),!0))||[];b=new Response(trackStream(b.body,DEFAULT_CHUNK_SIZE,v,()=>{C&&C(),N&&N()}),w)}c=c||"text";let $=await resolvers[utils$1.findKey(resolvers,c)||"text"](b,t);return!y&&N&&N(),await new Promise((w,x)=>{settle(w,x,{data:$,headers:AxiosHeaders$1.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:g})})}catch(E){throw N&&N(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,t,g),{cause:E.cause||E}):AxiosError$1.from(E,E&&E.code,t,g)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$1.isFunction(t)||t===null||t===!1,adapters={getAdapter:t=>{t=utils$1.isArray(t)?t:[t];const{length:e}=t;let s,o;const a={};for(let n=0;n<e;n++){s=t[n];let r;if(o=s,!isResolvedHandle(s)&&(o=knownAdapters[(r=String(s)).toLowerCase()],o===void 0))throw new AxiosError$1(`Unknown adapter '${r}'`);if(o)break;a[r||"#"+n]=o}if(!o){const n=Object.entries(a).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let r=e?n.length>1?`since :
`+n.map(renderReason).join(`
`):" "+renderReason(n[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return o},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError$1(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults.adapter)(t).then(function(o){return throwIfCancellationRequested(t),o.data=transformData.call(t,t.transformResponse,o),o.headers=AxiosHeaders$1.from(o.headers),o},function(o){return isCancel$1(o)||(throwIfCancellationRequested(t),o&&o.response&&(o.response.data=transformData.call(t,t.transformResponse,o.response),o.response.headers=AxiosHeaders$1.from(o.response.headers))),Promise.reject(o)})}const VERSION$1="1.9.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function(e,s,o){function a(n,r){return"[Axios v"+VERSION$1+"] Transitional option '"+n+"'"+r+(o?". "+o:"")}return(n,r,d)=>{if(e===!1)throw new AxiosError$1(a(r," has been removed"+(s?" in "+s:"")),AxiosError$1.ERR_DEPRECATED);return s&&!deprecatedWarnings[r]&&(deprecatedWarnings[r]=!0,console.warn(a(r," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(n,r,d):!0}};validators$1.spelling=function(e){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function assertOptions(t,e,s){if(typeof t!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const n=o[a],r=e[n];if(r){const d=t[n],m=d===void 0||r(d,n,t);if(m!==!0)throw new AxiosError$1("option "+n+" must be "+m,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new AxiosError$1("Unknown option "+n,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(e){this.defaults=e||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,s){try{return await this._request(e,s)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const n=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?n&&!String(o.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+n):o.stack=n}catch{}}throw o}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=mergeConfig$1(this.defaults,s);const{transitional:o,paramsSerializer:a,headers:n}=s;o!==void 0&&validator.assertOptions(o,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),a!=null&&(utils$1.isFunction(a)?s.paramsSerializer={serialize:a}:validator.assertOptions(a,{encode:validators.function,serialize:validators.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),validator.assertOptions(s,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let r=n&&utils$1.merge(n.common,n[s.method]);n&&utils$1.forEach(["delete","get","head","post","put","patch","common"],g=>{delete n[g]}),s.headers=AxiosHeaders$1.concat(r,n);const d=[];let m=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(s)===!1||(m=m&&N.synchronous,d.unshift(N.fulfilled,N.rejected))});const c=[];this.interceptors.response.forEach(function(N){c.push(N.fulfilled,N.rejected)});let l,_=0,k;if(!m){const g=[dispatchRequest.bind(this),void 0];for(g.unshift.apply(g,d),g.push.apply(g,c),k=g.length,l=Promise.resolve(s);_<k;)l=l.then(g[_++],g[_++]);return l}k=d.length;let S=s;for(_=0;_<k;){const g=d[_++],N=d[_++];try{S=g(S)}catch(f){N.call(this,f);break}}try{l=dispatchRequest.call(this,S)}catch(g){return Promise.reject(g)}for(_=0,k=c.length;_<k;)l=l.then(c[_++],c[_++]);return l}getUri(e){e=mergeConfig$1(this.defaults,e);const s=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(s,e.params,e.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(s,o){return this.request(mergeConfig$1(o||{},{method:e,url:s,data:(o||{}).data}))}});utils$1.forEach(["post","put","patch"],function(e){function s(o){return function(n,r,d){return this.request(mergeConfig$1(d||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Axios$1.prototype[e]=s(),Axios$1.prototype[e+"Form"]=s(!0)});let CancelToken$1=class qs{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(n){s=n});const o=this;this.promise.then(a=>{if(!o._listeners)return;let n=o._listeners.length;for(;n-- >0;)o._listeners[n](a);o._listeners=null}),this.promise.then=a=>{let n;const r=new Promise(d=>{o.subscribe(d),n=d}).then(a);return r.cancel=function(){o.unsubscribe(n)},r},e(function(n,r,d){o.reason||(o.reason=new CanceledError$1(n,r,d),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=o=>{e.abort(o)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new qs(function(a){e=a}),cancel:e}}};function spread$1(t){return function(s){return t.apply(null,s)}}function isAxiosError$1(t){return utils$1.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([t,e])=>{HttpStatusCode$1[e]=t});function createInstance(t){const e=new Axios$1(t),s=bind(Axios$1.prototype.request,e);return utils$1.extend(s,Axios$1.prototype,e,{allOwnKeys:!0}),utils$1.extend(s,e,null,{allOwnKeys:!0}),s.create=function(a){return createInstance(mergeConfig$1(t,a))},s}const axios=createInstance(defaults);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=t=>formDataToJSON(utils$1.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,getProductionHeadUrl=()=>{var t;try{return((t=window==null?void 0:window.statics)==null?void 0:t.headUrl)||"https://stockai.datatellit.com"}catch(e){return console.warn("无法获取生产环境配置，使用默认值:",e),"https://stockai.datatellit.com"}},headUrl=getProductionHeadUrl();async function getBytes(t,e){const s=t.getReader();let o;for(;!(o=await s.read()).done;)e(o.value)}function getLines(t){let e,s,o,a=!1;return function(r){e===void 0?(e=r,s=0,o=-1):e=concat(e,r);const d=e.length;let m=0;for(;s<d;){a&&(e[s]===10&&(m=++s),a=!1);let c=-1;for(;s<d&&c===-1;++s)switch(e[s]){case 58:o===-1&&(o=s-m);break;case 13:a=!0;case 10:c=s;break}if(c===-1)break;t(e.subarray(m,c),o),m=s,o=-1}m===d?e=void 0:m!==0&&(e=e.subarray(m),s-=m)}}function getMessages(t,e,s){let o=newMessage();const a=new TextDecoder;return function(r,d){if(r.length===0)s==null||s(o),o=newMessage();else if(d>0){const m=a.decode(r.subarray(0,d)),c=d+(r[d+1]===32?2:1),l=a.decode(r.subarray(c));switch(m){case"data":o.data=o.data?o.data+`
`+l:l;break;case"event":o.event=l;break;case"id":t(o.id=l);break;case"retry":const _=parseInt(l,10);isNaN(_)||e(o.retry=_);break}}}}function concat(t,e){const s=new Uint8Array(t.length+e.length);return s.set(t),s.set(e,t.length),s}function newMessage(){return{data:"",event:"",id:"",retry:void 0}}var __rest=function(t,e){var s={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(s[o[a]]=t[o[a]]);return s};const EventStreamContentType="text/event-stream",DefaultRetryInterval=1e3,LastEventId="last-event-id";function fetchEventSource(t,e){var{signal:s,headers:o,onopen:a,onmessage:n,onclose:r,onerror:d,openWhenHidden:m,fetch:c}=e,l=__rest(e,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((_,k)=>{const S=Object.assign({},o);S.accept||(S.accept=EventStreamContentType);let g;function N(){g.abort(),document.hidden||w()}m||document.addEventListener("visibilitychange",N);let f=DefaultRetryInterval,E=0;function b(){document.removeEventListener("visibilitychange",N),window.clearTimeout(E),g.abort()}s==null||s.addEventListener("abort",()=>{b(),_()});const y=c??window.fetch,$=a??defaultOnOpen;async function w(){var x;g=new AbortController;try{const v=await y(t,Object.assign(Object.assign({},l),{headers:S,signal:g.signal}));await $(v),await getBytes(v.body,getLines(getMessages(C=>{C?S[LastEventId]=C:delete S[LastEventId]},C=>{f=C},n))),r==null||r(),b(),_()}catch(v){if(!g.signal.aborted)try{const C=(x=d==null?void 0:d(v))!==null&&x!==void 0?x:f;window.clearTimeout(E),E=window.setTimeout(w,C)}catch(C){b(),k(C)}}}w()})}function defaultOnOpen(t){const e=t.headers.get("content-type");if(!(e!=null&&e.startsWith(EventStreamContentType)))throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${e}`)}let flag=!0;const request=axios.create({baseURL:headUrl,timeout:6e3});request.interceptors.request.use(t=>{var o;const e=useUserStore(),s=e.token||((o=e.userInfo)==null?void 0:o.token);return s&&(t.headers.Authorization=s),t});request.interceptors.response.use(t=>t,t=>{if(!t.response){let o="网络连接错误，请检查网络设置或联系管理员";return t.code==="ECONNABORTED"?o="请求超时，请重试":t.message.includes("CORS")?o="跨域请求被阻止，请联系管理员配置服务器":t.message.includes("Network Error")&&(o="网络错误，请检查网络连接"),flag&&(ElMessage.error(o),flag=!1,setTimeout(()=>{flag=!0},2e3)),Promise.reject(t)}const{data:e}=t.response;let s=(e==null?void 0:e.message)||"服务器错误，请稍后重试";switch(e==null?void 0:e.code){case"A0307":case"B0301":useUserStore().logout(!1),router.push("/?showLogin=true").then(()=>{window.location.reload()}),s="请先登录";break}return flag&&(ElMessage.warning(s),flag=!1,setTimeout(()=>{flag=!0},800)),e});let sseFlag=!0;const authFetchEventSource=async(t,e={})=>{var s;try{const o=useUserStore(),a=o.token||((s=o.userInfo)==null?void 0:s.token);await fetchEventSource(t,{...e,headers:{...e.headers,Authorization:a||""},signal:e.signal,async onopen(n){if(n.status!==200){const d=await n.json().catch(()=>({}));handleSSEError(n.status,d);return}const r=n.headers.get("content-type");if(!(r!=null&&r.includes(EventStreamContentType)))throw new Error(`Expected event-stream content type, got: ${r}`);if(e.onopen)return e.onopen(n)},onerror(n){return n.message=handleNetworkError(n),e.onerror(n)}})}catch(o){console.error("SSE Connection Error:",o)}};function handleSSEError(t,e){const{code:s,message:o}=e;let a=o||`服务器错误 (${t})`;(t===401||s==="A0307"||s==="B0301")&&(useUserStore().logout(!1),router.push("/?showLogin=true").then(()=>{window.location.reload()}),a="登录已过期，请重新登录"),showThrottledMessage(a,"warning")}function handleNetworkError(t){let e="网络连接错误，请检查网络设置";if(t.name!=="AbortError")return t.message.includes("Failed to fetch")?e="无法连接到服务器，请检查网络":t.message.includes("Timeout")?e="连接超时，请重试":t.message.includes("CORS")&&(e="跨域请求被阻止，请联系管理员"),showThrottledMessage(e,"warning"),e}function showThrottledMessage(t,e){sseFlag&&(sseFlag=!1,ElMessage[e](t),setTimeout(()=>{sseFlag=!0},2e3))}const api={devPrefix:headUrl,loginApi:"/login",registerApi:"/register",logoutApi:"/logout",getUserPortraitApi:"/user-portrait/detail",updateUserPortraitApi:"/user-portrait/update",recommendStockApi:"/chat/recommendStock",analyzeStockApi:"/chat/analyzeStock",createConversationApi:"/conversation/create",chatStreamApi:"/chat/stream"},login=t=>request.post(api.loginApi,t),register=t=>request.post(api.registerApi,t),getUserPortrait=()=>request.get(api.getUserPortraitApi),updateUserPortrait=t=>request.post(api.updateUserPortraitApi,t),recommendStock=t=>request.get(api.recommendStockApi,{params:t,timeout:6e5}),createConversation=()=>request.post(api.createConversationApi),useChatHistoryStore=defineStore("chatHistory",{state:()=>({chatHistoryList:JSON.parse(localStorage.getItem("chatHistoryList")||"[]"),currentChatId:null,currentChatMessages:[]}),getters:{getCurrentChat:t=>t.chatHistoryList.find(e=>e.id===t.currentChatId),getTodayChats:t=>{const e=new Date;return e.setHours(0,0,0,0),t.chatHistoryList.filter(s=>{const o=new Date(s.lastMessage);return o.setHours(0,0,0,0),o.getTime()===e.getTime()})},getYesterdayChats:t=>{const e=new Date;return e.setDate(e.getDate()-1),e.setHours(0,0,0,0),t.chatHistoryList.filter(s=>{const o=new Date(s.lastMessage);return o.setHours(0,0,0,0),o.getTime()===e.getTime()})},getThisWeekChats:t=>{const e=new Date,s=new Date(e);s.setDate(e.getDate()-e.getDay()),s.setHours(0,0,0,0);const o=new Date;return o.setDate(o.getDate()-1),o.setHours(23,59,59,999),t.chatHistoryList.filter(a=>{const n=new Date(a.lastMessage);return n>=s&&n<=o})},getOlderChats:t=>{const e=new Date,s=new Date(e);return s.setDate(e.getDate()-e.getDay()),s.setHours(0,0,0,0),t.chatHistoryList.filter(o=>new Date(o.lastMessage)<s)},searchChats:t=>e=>e?t.chatHistoryList.filter(s=>s.title.toLowerCase().includes(e.toLowerCase())||s.messages.some(o=>o.content&&o.content.toLowerCase().includes(e.toLowerCase()))):t.chatHistoryList},actions:{saveChatHistory(){localStorage.setItem("chatHistoryList",JSON.stringify(this.chatHistoryList))},generateChatTitle(t){const e=t.find(s=>s.role==="user");if(e&&e.content){let s=e.content.substring(0,30);return e.content.length>30&&(s+="..."),s}return"新对话"},async createNewChat(t=[]){let e=await this.getConversationId();const s=this.generateChatTitle(t),o={id:e,title:s,messages:[...t],createdAt:Date.now(),lastMessage:Date.now()};return this.chatHistoryList.unshift(o),this.currentChatId=e,this.currentChatMessages=[...t],this.saveChatHistory(),e},async getConversationId(){let t=`chat_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{const e=await createConversation();e&&e.data&&e.data.success&&(t=e.data.data,console.log("获取会话ID成功:",t))}catch{}return t},loadChat(t){const e=this.chatHistoryList.find(s=>s.id===t);return e?(this.currentChatId=t,this.currentChatMessages=[...e.messages],e.messages):[]},updateCurrentChatMessages(t){if(this.currentChatMessages=[...t],this.currentChatId){const e=this.chatHistoryList.findIndex(s=>s.id===this.currentChatId);e>-1&&(this.chatHistoryList[e].messages=[...t],this.chatHistoryList[e].lastMessage=Date.now(),t.length>0&&this.chatHistoryList[e].title==="新对话"&&(this.chatHistoryList[e].title=this.generateChatTitle(t)),this.saveChatHistory())}},addMessageToCurrentChat(t){this.currentChatMessages.push(t),this.updateCurrentChatMessages(this.currentChatMessages)},renameChat(t,e){const s=this.chatHistoryList.findIndex(o=>o.id===t);return s>-1?(this.chatHistoryList[s].title=e,this.saveChatHistory(),!0):!1},deleteChat(t){const e=this.chatHistoryList.findIndex(s=>s.id===t);return e>-1?(this.chatHistoryList.splice(e,1),this.currentChatId===t&&(this.currentChatId=null,this.currentChatMessages=[]),this.saveChatHistory(),!0):!1},clearCurrentChat(){this.currentChatId=null,this.currentChatMessages=[]},getChatCount(){return this.chatHistoryList.length},clearAllChats(){this.chatHistoryList=[],this.currentChatId=null,this.currentChatMessages=[],this.saveChatHistory()},exportChatHistory(){return JSON.stringify(this.chatHistoryList,null,2)},importChatHistory(t){try{const e=JSON.parse(t);if(Array.isArray(e))return this.chatHistoryList=e,this.saveChatHistory(),!0}catch(e){console.error("导入聊天历史失败:",e)}return!1}}});var mock={exports:{}};(function(module,exports){(function(e,s){module.exports=s()})(commonjsGlobal,function(){return function(t){var e={};function s(o){if(e[o])return e[o].exports;var a=e[o]={exports:{},id:o,loaded:!1};return t[o].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}return s.m=t,s.c=e,s.p="",s(0)}([function(t,e,s){var o=s(1),a=s(3),n=s(5),r=s(20),d=s(23),m=s(25),c;typeof window<"u"&&(c=s(27));/*!
    Mock - 模拟请求 & 模拟数据
    https://github.com/nuysoft/Mock
    墨智 mozhi.gyy@taobao.com nuysoft@gmail.com
*/var l={Handler:o,Random:n,Util:a,XHR:c,RE:r,toJSONSchema:d,valid:m,heredoc:a.heredoc,setup:function(_){return c.setup(_)},_mocked:{}};l.version="1.0.1-beta3",c&&(c.Mock=l),l.mock=function(_,k,S){return arguments.length===1?o.gen(_):(arguments.length===2&&(S=k,k=void 0),c&&(window.XMLHttpRequest=c),l._mocked[_+(k||"")]={rurl:_,rtype:k,template:S},l)},t.exports=l},function(module,exports,__webpack_require__){var Constant=__webpack_require__(2),Util=__webpack_require__(3),Parser=__webpack_require__(4),Random=__webpack_require__(5),RE=__webpack_require__(20),Handler={extend:Util.extend};Handler.gen=function(t,e,s){e=e==null?"":e+"",s=s||{},s={path:s.path||[Constant.GUID],templatePath:s.templatePath||[Constant.GUID++],currentContext:s.currentContext,templateCurrentContext:s.templateCurrentContext||t,root:s.root||s.currentContext,templateRoot:s.templateRoot||s.templateCurrentContext||t};var o=Parser.parse(e),a=Util.type(t),n;return Handler[a]?(n=Handler[a]({type:a,template:t,name:e,parsedName:e&&e.replace(Constant.RE_KEY,"$1"),rule:o,context:s}),s.root||(s.root=n),n):t},Handler.extend({array:function(t){var e=[],s,o;if(t.template.length===0)return e;if(t.rule.parameters)if(t.rule.min===1&&t.rule.max===void 0)t.context.path.push(t.name),t.context.templatePath.push(t.name),e=Random.pick(Handler.gen(t.template,void 0,{path:t.context.path,templatePath:t.context.templatePath,currentContext:e,templateCurrentContext:t.template,root:t.context.root||e,templateRoot:t.context.templateRoot||t.template})),t.context.path.pop(),t.context.templatePath.pop();else if(t.rule.parameters[2])t.template.__order_index=t.template.__order_index||0,t.context.path.push(t.name),t.context.templatePath.push(t.name),e=Handler.gen(t.template,void 0,{path:t.context.path,templatePath:t.context.templatePath,currentContext:e,templateCurrentContext:t.template,root:t.context.root||e,templateRoot:t.context.templateRoot||t.template})[t.template.__order_index%t.template.length],t.template.__order_index+=+t.rule.parameters[2],t.context.path.pop(),t.context.templatePath.pop();else for(s=0;s<t.rule.count;s++)for(o=0;o<t.template.length;o++)t.context.path.push(e.length),t.context.templatePath.push(o),e.push(Handler.gen(t.template[o],e.length,{path:t.context.path,templatePath:t.context.templatePath,currentContext:e,templateCurrentContext:t.template,root:t.context.root||e,templateRoot:t.context.templateRoot||t.template})),t.context.path.pop(),t.context.templatePath.pop();else for(s=0;s<t.template.length;s++)t.context.path.push(s),t.context.templatePath.push(s),e.push(Handler.gen(t.template[s],s,{path:t.context.path,templatePath:t.context.templatePath,currentContext:e,templateCurrentContext:t.template,root:t.context.root||e,templateRoot:t.context.templateRoot||t.template})),t.context.path.pop(),t.context.templatePath.pop();return e},object:function(t){var e={},s,o,a,n,r,d;if(t.rule.min!=null)for(s=Util.keys(t.template),s=Random.shuffle(s),s=s.slice(0,t.rule.count),d=0;d<s.length;d++)a=s[d],n=a.replace(Constant.RE_KEY,"$1"),t.context.path.push(n),t.context.templatePath.push(a),e[n]=Handler.gen(t.template[a],a,{path:t.context.path,templatePath:t.context.templatePath,currentContext:e,templateCurrentContext:t.template,root:t.context.root||e,templateRoot:t.context.templateRoot||t.template}),t.context.path.pop(),t.context.templatePath.pop();else{s=[],o=[];for(a in t.template)(typeof t.template[a]=="function"?o:s).push(a);for(s=s.concat(o),d=0;d<s.length;d++)a=s[d],n=a.replace(Constant.RE_KEY,"$1"),t.context.path.push(n),t.context.templatePath.push(a),e[n]=Handler.gen(t.template[a],a,{path:t.context.path,templatePath:t.context.templatePath,currentContext:e,templateCurrentContext:t.template,root:t.context.root||e,templateRoot:t.context.templateRoot||t.template}),t.context.path.pop(),t.context.templatePath.pop(),r=a.match(Constant.RE_KEY),r&&r[2]&&Util.type(t.template[a])==="number"&&(t.template[a]+=parseInt(r[2],10))}return e},number:function(t){var e,s;if(t.rule.decimal){for(t.template+="",s=t.template.split("."),s[0]=t.rule.range?t.rule.count:s[0],s[1]=(s[1]||"").slice(0,t.rule.dcount);s[1].length<t.rule.dcount;)s[1]+=s[1].length<t.rule.dcount-1?Random.character("number"):Random.character("123456789");e=parseFloat(s.join("."),10)}else e=t.rule.range&&!t.rule.parameters[2]?t.rule.count:t.template;return e},boolean:function(t){var e;return e=t.rule.parameters?Random.bool(t.rule.min,t.rule.max,t.template):t.template,e},string:function(t){var e="",s,o,a,n;if(t.template.length){for(t.rule.count==null&&(e+=t.template),s=0;s<t.rule.count;s++)e+=t.template;for(o=e.match(Constant.RE_PLACEHOLDER)||[],s=0;s<o.length;s++){if(a=o[s],/^\\/.test(a)){o.splice(s--,1);continue}if(n=Handler.placeholder(a,t.context.currentContext,t.context.templateCurrentContext,t),o.length===1&&a===e&&typeof n!=typeof e){e=n;break}e=e.replace(a,n)}}else e=t.rule.range?Random.string(t.rule.count):t.template;return e},function:function(t){return t.template.call(t.context.currentContext,t)},regexp:function(t){var e="";t.rule.count==null&&(e+=t.template.source);for(var s=0;s<t.rule.count;s++)e+=t.template.source;return RE.Handler.gen(RE.Parser.parse(e))}}),Handler.extend({_all:function(){var t={};for(var e in Random)t[e.toLowerCase()]=e;return t},placeholder:function(placeholder,obj,templateContext,options){Constant.RE_PLACEHOLDER.exec("");var parts=Constant.RE_PLACEHOLDER.exec(placeholder),key=parts&&parts[1],lkey=key&&key.toLowerCase(),okey=this._all()[lkey],params=parts&&parts[2]||"",pathParts=this.splitPathToArray(key);try{params=eval("(function(){ return [].splice.call(arguments, 0 ) })("+params+")")}catch(t){params=parts[2].split(/,\s*/)}if(obj&&key in obj)return obj[key];if(key.charAt(0)==="/"||pathParts.length>1)return this.getValueByKeyPath(key,options);if(templateContext&&typeof templateContext=="object"&&key in templateContext&&placeholder!==templateContext[key])return templateContext[key]=Handler.gen(templateContext[key],key,{currentContext:obj,templateCurrentContext:templateContext}),templateContext[key];if(!(key in Random)&&!(lkey in Random)&&!(okey in Random))return placeholder;for(var i=0;i<params.length;i++)Constant.RE_PLACEHOLDER.exec(""),Constant.RE_PLACEHOLDER.test(params[i])&&(params[i]=Handler.placeholder(params[i],obj,templateContext,options));var handle=Random[key]||Random[lkey]||Random[okey];switch(Util.type(handle)){case"array":return Random.pick(handle);case"function":handle.options=options;var re=handle.apply(Random,params);return re===void 0&&(re=""),delete handle.options,re}},getValueByKeyPath:function(t,e){var s=t,o=this.splitPathToArray(t),a=[];t.charAt(0)==="/"?a=[e.context.path[0]].concat(this.normalizePath(o)):o.length>1&&(a=e.context.path.slice(0),a.pop(),a=this.normalizePath(a.concat(o)));try{t=o[o.length-1];for(var n=e.context.root,r=e.context.templateRoot,d=1;d<a.length-1;d++)n=n[a[d]],r=r[a[d]];if(n&&t in n)return n[t];if(r&&typeof r=="object"&&t in r&&s!==r[t])return r[t]=Handler.gen(r[t],t,{currentContext:n,templateCurrentContext:r}),r[t]}catch{}return"@"+o.join("/")},normalizePath:function(t){for(var e=[],s=0;s<t.length;s++)switch(t[s]){case"..":e.pop();break;case".":break;default:e.push(t[s])}return e},splitPathToArray:function(t){var e=t.split(/\/+/);return e[e.length-1]||(e=e.slice(0,-1)),e[0]||(e=e.slice(1)),e}}),module.exports=Handler},function(t,e){t.exports={GUID:1,RE_KEY:/(.+)\|(?:\+(\d+)|([\+\-]?\d+-?[\+\-]?\d*)?(?:\.(\d+-?\d*))?)/,RE_RANGE:/([\+\-]?\d+)-?([\+\-]?\d+)?/,RE_PLACEHOLDER:/\\*@([^@#%&()\?\s]+)(?:\((.*?)\))?/g}},function(t,e){var s={};s.extend=function(){var a=arguments[0]||{},n=1,r=arguments.length,d,m,c,l,_;for(r===1&&(a=this,n=0);n<r;n++)if(d=arguments[n],!!d)for(m in d)c=a[m],l=d[m],a!==l&&l!==void 0&&(s.isArray(l)||s.isObject(l)?(s.isArray(l)&&(_=c&&s.isArray(c)?c:[]),s.isObject(l)&&(_=c&&s.isObject(c)?c:{}),a[m]=s.extend(_,l)):a[m]=l);return a},s.each=function(a,n,r){var d,m;if(this.type(a)==="number")for(d=0;d<a;d++)n(d,d);else if(a.length===+a.length)for(d=0;d<a.length&&n.call(r,a[d],d,a)!==!1;d++);else for(m in a)if(n.call(r,a[m],m,a)===!1)break},s.type=function(a){return a==null?String(a):Object.prototype.toString.call(a).match(/\[object (\w+)\]/)[1].toLowerCase()},s.each("String Object Array RegExp Function".split(" "),function(o){s["is"+o]=function(a){return s.type(a)===o.toLowerCase()}}),s.isObjectOrArray=function(o){return s.isObject(o)||s.isArray(o)},s.isNumeric=function(o){return!isNaN(parseFloat(o))&&isFinite(o)},s.keys=function(o){var a=[];for(var n in o)o.hasOwnProperty(n)&&a.push(n);return a},s.values=function(o){var a=[];for(var n in o)o.hasOwnProperty(n)&&a.push(o[n]);return a},s.heredoc=function(a){return a.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")},s.noop=function(){},t.exports=s},function(t,e,s){var o=s(2),a=s(5);t.exports={parse:function(n){n=n==null?"":n+"";var r=(n||"").match(o.RE_KEY),d=r&&r[3]&&r[3].match(o.RE_RANGE),m=d&&d[1]&&parseInt(d[1],10),c=d&&d[2]&&parseInt(d[2],10),l=d?d[2]?a.integer(m,c):parseInt(d[1],10):void 0,_=r&&r[4]&&r[4].match(o.RE_RANGE),k=_&&_[1]&&parseInt(_[1],10),S=_&&_[2]&&parseInt(_[2],10),g=_?!_[2]&&parseInt(_[1],10)||a.integer(k,S):void 0,N={parameters:r,range:d,min:m,max:c,count:l,decimal:_,dmin:k,dmax:S,dcount:g};for(var f in N)if(N[f]!=null)return N;return{}}}},function(t,e,s){var o=s(3),a={extend:o.extend};a.extend(s(6)),a.extend(s(7)),a.extend(s(8)),a.extend(s(10)),a.extend(s(13)),a.extend(s(15)),a.extend(s(16)),a.extend(s(17)),a.extend(s(14)),a.extend(s(19)),t.exports=a},function(t,e){t.exports={boolean:function(s,o,a){return a!==void 0?(s=typeof s<"u"&&!isNaN(s)?parseInt(s,10):1,o=typeof o<"u"&&!isNaN(o)?parseInt(o,10):1,Math.random()>1/(s+o)*s?!a:a):Math.random()>=.5},bool:function(s,o,a){return this.boolean(s,o,a)},natural:function(s,o){return s=typeof s<"u"?parseInt(s,10):0,o=typeof o<"u"?parseInt(o,10):9007199254740992,Math.round(Math.random()*(o-s))+s},integer:function(s,o){return s=typeof s<"u"?parseInt(s,10):-9007199254740992,o=typeof o<"u"?parseInt(o,10):9007199254740992,Math.round(Math.random()*(o-s))+s},int:function(s,o){return this.integer(s,o)},float:function(s,o,a,n){a=a===void 0?0:a,a=Math.max(Math.min(a,17),0),n=n===void 0?17:n,n=Math.max(Math.min(n,17),0);for(var r=this.integer(s,o)+".",d=0,m=this.natural(a,n);d<m;d++)r+=d<m-1?this.character("number"):this.character("123456789");return parseFloat(r,10)},character:function(s){var o={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",symbol:"!@#$%^&*()[]"};return o.alpha=o.lower+o.upper,o.undefined=o.lower+o.upper+o.number+o.symbol,s=o[(""+s).toLowerCase()]||s,s.charAt(this.natural(0,s.length-1))},char:function(s){return this.character(s)},string:function(s,o,a){var n;switch(arguments.length){case 0:n=this.natural(3,7);break;case 1:n=s,s=void 0;break;case 2:typeof arguments[0]=="string"?n=o:(n=this.natural(s,o),s=void 0);break;case 3:n=this.natural(o,a);break}for(var r="",d=0;d<n;d++)r+=this.character(s);return r},str:function(){return this.string.apply(this,arguments)},range:function(s,o,a){arguments.length<=1&&(o=s||0,s=0),a=arguments[2]||1,s=+s,o=+o,a=+a;for(var n=Math.max(Math.ceil((o-s)/a),0),r=0,d=new Array(n);r<n;)d[r++]=s,s+=a;return d}}},function(t,e){var s={yyyy:"getFullYear",yy:function(o){return(""+o.getFullYear()).slice(2)},y:"yy",MM:function(o){var a=o.getMonth()+1;return a<10?"0"+a:a},M:function(o){return o.getMonth()+1},dd:function(o){var a=o.getDate();return a<10?"0"+a:a},d:"getDate",HH:function(o){var a=o.getHours();return a<10?"0"+a:a},H:"getHours",hh:function(o){var a=o.getHours()%12;return a<10?"0"+a:a},h:function(o){return o.getHours()%12},mm:function(o){var a=o.getMinutes();return a<10?"0"+a:a},m:"getMinutes",ss:function(o){var a=o.getSeconds();return a<10?"0"+a:a},s:"getSeconds",SS:function(o){var a=o.getMilliseconds();return a<10&&"00"+a||a<100&&"0"+a||a},S:"getMilliseconds",A:function(o){return o.getHours()<12?"AM":"PM"},a:function(o){return o.getHours()<12?"am":"pm"},T:"getTime"};t.exports={_patternLetters:s,_rformat:new RegExp(function(){var o=[];for(var a in s)o.push(a);return"("+o.join("|")+")"}(),"g"),_formatDate:function(o,a){return a.replace(this._rformat,function n(r,d){return typeof s[d]=="function"?s[d](o):s[d]in s?n(r,s[d]):o[s[d]]()})},_randomDate:function(o,a){return o=o===void 0?new Date(0):o,a=a===void 0?new Date:a,new Date(Math.random()*(a.getTime()-o.getTime()))},date:function(o){return o=o||"yyyy-MM-dd",this._formatDate(this._randomDate(),o)},time:function(o){return o=o||"HH:mm:ss",this._formatDate(this._randomDate(),o)},datetime:function(o){return o=o||"yyyy-MM-dd HH:mm:ss",this._formatDate(this._randomDate(),o)},now:function(o,a){arguments.length===1&&(/year|month|day|hour|minute|second|week/.test(o)||(a=o,o="")),o=(o||"").toLowerCase(),a=a||"yyyy-MM-dd HH:mm:ss";var n=new Date;switch(o){case"year":n.setMonth(0);case"month":n.setDate(1);case"week":case"day":n.setHours(0);case"hour":n.setMinutes(0);case"minute":n.setSeconds(0);case"second":n.setMilliseconds(0)}switch(o){case"week":n.setDate(n.getDate()-n.getDay())}return this._formatDate(n,a)}}},function(t,e,s){(function(o){o.exports={_adSize:["300x250","250x250","240x400","336x280","180x150","720x300","468x60","234x60","88x31","120x90","120x60","120x240","125x125","728x90","160x600","120x600","300x600"],_screenSize:["320x200","320x240","640x480","800x480","800x480","1024x600","1024x768","1280x800","1440x900","1920x1200","2560x1600"],_videoSize:["720x480","768x576","1280x720","1920x1080"],image:function(a,n,r,d,m){return arguments.length===4&&(m=d,d=void 0),arguments.length===3&&(m=r,r=void 0),a||(a=this.pick(this._adSize)),n&&~n.indexOf("#")&&(n=n.slice(1)),r&&~r.indexOf("#")&&(r=r.slice(1)),"http://dummyimage.com/"+a+(n?"/"+n:"")+(r?"/"+r:"")+(d?"."+d:"")+(m?"&text="+m:"")},img:function(){return this.image.apply(this,arguments)},_brandColors:{"4ormat":"#fb0a2a","500px":"#02adea","About.me (blue)":"#00405d","About.me (yellow)":"#ffcc33",Addvocate:"#ff6138",Adobe:"#ff0000",Aim:"#fcd20b",Amazon:"#e47911",Android:"#a4c639","Angie's List":"#7fbb00",AOL:"#0060a3",Atlassian:"#003366",Behance:"#053eff","Big Cartel":"#97b538",bitly:"#ee6123",Blogger:"#fc4f08",Boeing:"#0039a6","Booking.com":"#003580",Carbonmade:"#613854",Cheddar:"#ff7243","Code School":"#3d4944",Delicious:"#205cc0",Dell:"#3287c1",Designmoo:"#e54a4f",Deviantart:"#4e6252","Designer News":"#2d72da",Devour:"#fd0001",DEWALT:"#febd17","Disqus (blue)":"#59a3fc","Disqus (orange)":"#db7132",Dribbble:"#ea4c89",Dropbox:"#3d9ae8",Drupal:"#0c76ab",Dunked:"#2a323a",eBay:"#89c507",Ember:"#f05e1b",Engadget:"#00bdf6",Envato:"#528036",Etsy:"#eb6d20",Evernote:"#5ba525","Fab.com":"#dd0017",Facebook:"#3b5998",Firefox:"#e66000","Flickr (blue)":"#0063dc","Flickr (pink)":"#ff0084",Forrst:"#5b9a68",Foursquare:"#25a0ca",Garmin:"#007cc3",GetGlue:"#2d75a2",Gimmebar:"#f70078",GitHub:"#171515","Google Blue":"#0140ca","Google Green":"#16a61e","Google Red":"#dd1812","Google Yellow":"#fcca03","Google+":"#dd4b39",Grooveshark:"#f77f00",Groupon:"#82b548","Hacker News":"#ff6600",HelloWallet:"#0085ca","Heroku (light)":"#c7c5e6","Heroku (dark)":"#6567a5",HootSuite:"#003366",Houzz:"#73ba37",HTML5:"#ec6231",IKEA:"#ffcc33",IMDb:"#f3ce13",Instagram:"#3f729b",Intel:"#0071c5",Intuit:"#365ebf",Kickstarter:"#76cc1e",kippt:"#e03500",Kodery:"#00af81",LastFM:"#c3000d",LinkedIn:"#0e76a8",Livestream:"#cf0005",Lumo:"#576396",Mixpanel:"#a086d3",Meetup:"#e51937",Nokia:"#183693",NVIDIA:"#76b900",Opera:"#cc0f16",Path:"#e41f11","PayPal (dark)":"#1e477a","PayPal (light)":"#3b7bbf",Pinboard:"#0000e6",Pinterest:"#c8232c",PlayStation:"#665cbe",Pocket:"#ee4056",Prezi:"#318bff",Pusha:"#0f71b4",Quora:"#a82400","QUOTE.fm":"#66ceff",Rdio:"#008fd5",Readability:"#9c0000","Red Hat":"#cc0000",Resource:"#7eb400",Rockpack:"#0ba6ab",Roon:"#62b0d9",RSS:"#ee802f",Salesforce:"#1798c1",Samsung:"#0c4da2",Shopify:"#96bf48",Skype:"#00aff0",Snagajob:"#f47a20",Softonic:"#008ace",SoundCloud:"#ff7700","Space Box":"#f86960",Spotify:"#81b71a",Sprint:"#fee100",Squarespace:"#121212",StackOverflow:"#ef8236",Staples:"#cc0000","Status Chart":"#d7584f",Stripe:"#008cdd",StudyBlue:"#00afe1",StumbleUpon:"#f74425","T-Mobile":"#ea0a8e",Technorati:"#40a800","The Next Web":"#ef4423",Treehouse:"#5cb868",Trulia:"#5eab1f",Tumblr:"#34526f","Twitch.tv":"#6441a5",Twitter:"#00acee",TYPO3:"#ff8700",Ubuntu:"#dd4814",Ustream:"#3388ff",Verizon:"#ef1d1d",Vimeo:"#86c9ef",Vine:"#00a478",Virb:"#06afd8","Virgin Media":"#cc0000",Wooga:"#5b009c","WordPress (blue)":"#21759b","WordPress (orange)":"#d54e21","WordPress (grey)":"#464646",Wunderlist:"#2b88d9",XBOX:"#9bc848",XING:"#126567","Yahoo!":"#720e9e",Yandex:"#ffcc00",Yelp:"#c41200",YouTube:"#c4302b",Zalongo:"#5498dc",Zendesk:"#78a300",Zerply:"#9dcc7a",Zootool:"#5e8b1d"},_brandNames:function(){var a=[];for(var n in this._brandColors)a.push(n);return a},dataImage:function(a,n){var r;if(typeof document<"u")r=document.createElement("canvas");else{var d=o.require("canvas");r=new d}var m=r&&r.getContext&&r.getContext("2d");if(!r||!m)return"";a||(a=this.pick(this._adSize)),n=n!==void 0?n:a,a=a.split("x");var c=parseInt(a[0],10),l=parseInt(a[1],10),_=this._brandColors[this.pick(this._brandNames())],k="#FFF",S=14,g="sans-serif";return r.width=c,r.height=l,m.textAlign="center",m.textBaseline="middle",m.fillStyle=_,m.fillRect(0,0,c,l),m.fillStyle=k,m.font="bold "+S+"px "+g,m.fillText(n,c/2,l/2,c),r.toDataURL("image/png")}}}).call(e,s(9)(t))},function(t,e){t.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children=[],s.webpackPolyfill=1),s}},function(t,e,s){var o=s(11),a=s(12);t.exports={color:function(n){return n||a[n]?a[n].nicer:this.hex()},hex:function(){var n=this._goldenRatioColor(),r=o.hsv2rgb(n),d=o.rgb2hex(r[0],r[1],r[2]);return d},rgb:function(){var n=this._goldenRatioColor(),r=o.hsv2rgb(n);return"rgb("+parseInt(r[0],10)+", "+parseInt(r[1],10)+", "+parseInt(r[2],10)+")"},rgba:function(){var n=this._goldenRatioColor(),r=o.hsv2rgb(n);return"rgba("+parseInt(r[0],10)+", "+parseInt(r[1],10)+", "+parseInt(r[2],10)+", "+Math.random().toFixed(2)+")"},hsl:function(){var n=this._goldenRatioColor(),r=o.hsv2hsl(n);return"hsl("+parseInt(r[0],10)+", "+parseInt(r[1],10)+", "+parseInt(r[2],10)+")"},_goldenRatioColor:function(n,r){return this._goldenRatio=.618033988749895,this._hue=this._hue||Math.random(),this._hue+=this._goldenRatio,this._hue%=1,typeof n!="number"&&(n=.5),typeof r!="number"&&(r=.95),[this._hue*360,n*100,r*100]}}},function(t,e){t.exports={rgb2hsl:function(o){var a=o[0]/255,n=o[1]/255,r=o[2]/255,d=Math.min(a,n,r),m=Math.max(a,n,r),c=m-d,l,_,k;return m==d?l=0:a==m?l=(n-r)/c:n==m?l=2+(r-a)/c:r==m&&(l=4+(a-n)/c),l=Math.min(l*60,360),l<0&&(l+=360),k=(d+m)/2,m==d?_=0:k<=.5?_=c/(m+d):_=c/(2-m-d),[l,_*100,k*100]},rgb2hsv:function(o){var a=o[0],n=o[1],r=o[2],d=Math.min(a,n,r),m=Math.max(a,n,r),c=m-d,l,_,k;return m===0?_=0:_=c/m*1e3/10,m==d?l=0:a==m?l=(n-r)/c:n==m?l=2+(r-a)/c:r==m&&(l=4+(a-n)/c),l=Math.min(l*60,360),l<0&&(l+=360),k=m/255*1e3/10,[l,_,k]},hsl2rgb:function(o){var a=o[0]/360,n=o[1]/100,r=o[2]/100,d,m,c,l,_;if(n===0)return _=r*255,[_,_,_];r<.5?m=r*(1+n):m=r+n-r*n,d=2*r-m,l=[0,0,0];for(var k=0;k<3;k++)c=a+1/3*-(k-1),c<0&&c++,c>1&&c--,6*c<1?_=d+(m-d)*6*c:2*c<1?_=m:3*c<2?_=d+(m-d)*(2/3-c)*6:_=d,l[k]=_*255;return l},hsl2hsv:function(o){var a=o[0],n=o[1]/100,r=o[2]/100,d,m;return r*=2,n*=r<=1?r:2-r,m=(r+n)/2,d=2*n/(r+n),[a,d*100,m*100]},hsv2rgb:function(o){var a=o[0]/60,n=o[1]/100,r=o[2]/100,d=Math.floor(a)%6,m=a-Math.floor(a),c=255*r*(1-n),l=255*r*(1-n*m),_=255*r*(1-n*(1-m));switch(r=255*r,d){case 0:return[r,_,c];case 1:return[l,r,c];case 2:return[c,r,_];case 3:return[c,l,r];case 4:return[_,c,r];case 5:return[r,c,l]}},hsv2hsl:function(o){var a=o[0],n=o[1]/100,r=o[2]/100,d,m;return m=(2-n)*r,d=n*r,d/=m<=1?m:2-m,m/=2,[a,d*100,m*100]},rgb2hex:function(s,o,a){return"#"+((256+s<<8|o)<<8|a).toString(16).slice(1)},hex2rgb:function(s){return s="0x"+s.slice(1).replace(s.length>4?s:/./g,"$&$&")|0,[s>>16,s>>8&255,s&255]}}},function(t,e){t.exports={navy:{value:"#000080",nicer:"#001F3F"},blue:{value:"#0000ff",nicer:"#0074D9"},aqua:{value:"#00ffff",nicer:"#7FDBFF"},teal:{value:"#008080",nicer:"#39CCCC"},olive:{value:"#008000",nicer:"#3D9970"},green:{value:"#008000",nicer:"#2ECC40"},lime:{value:"#00ff00",nicer:"#01FF70"},yellow:{value:"#ffff00",nicer:"#FFDC00"},orange:{value:"#ffa500",nicer:"#FF851B"},red:{value:"#ff0000",nicer:"#FF4136"},maroon:{value:"#800000",nicer:"#85144B"},fuchsia:{value:"#ff00ff",nicer:"#F012BE"},purple:{value:"#800080",nicer:"#B10DC9"},silver:{value:"#c0c0c0",nicer:"#DDDDDD"},gray:{value:"#808080",nicer:"#AAAAAA"},black:{value:"#000000",nicer:"#111111"},white:{value:"#FFFFFF",nicer:"#FFFFFF"}}},function(t,e,s){var o=s(6),a=s(14);function n(r,d,m,c){return m===void 0?o.natural(r,d):c===void 0?m:o.natural(parseInt(m,10),parseInt(c,10))}t.exports={paragraph:function(r,d){for(var m=n(3,7,r,d),c=[],l=0;l<m;l++)c.push(this.sentence());return c.join(" ")},cparagraph:function(r,d){for(var m=n(3,7,r,d),c=[],l=0;l<m;l++)c.push(this.csentence());return c.join("")},sentence:function(r,d){for(var m=n(12,18,r,d),c=[],l=0;l<m;l++)c.push(this.word());return a.capitalize(c.join(" "))+"."},csentence:function(r,d){for(var m=n(12,18,r,d),c=[],l=0;l<m;l++)c.push(this.cword());return c.join("")+"。"},word:function(r,d){for(var m=n(3,10,r,d),c="",l=0;l<m;l++)c+=o.character("lower");return c},cword:function(r,d,m){var c="的一是在不了有和人这中大为上个国我以要他时来用们生到作地于出就分对成会可主发年动同工也能下过子说产种面而方后多定行学法所民得经十三之进着等部度家电力里如水化高自二理起小物现实加量都两体制机当使点从业本去把性好应开它合还因由其些然前外天政四日那社义事平形相全表间样与关各重新线内数正心反你明看原又么利比或但质气第向道命此变条只没结解问意建月公无系军很情者最立代想已通并提直题党程展五果料象员革位入常文总次品式活设及管特件长求老头基资边流路级少图山统接知较将组见计别她手角期根论运农指几九区强放决西被干做必战先回则任取据处队南给色光门即保治北造百规热领七海口东导器压志世金增争济阶油思术极交受联什认六共权收证改清己美再采转更单风切打白教速花带安场身车例真务具万每目至达走积示议声报斗完类八离华名确才科张信马节话米整空元况今集温传土许步群广石记需段研界拉林律叫且究观越织装影算低持音众书布复容儿须际商非验连断深难近矿千周委素技备半办青省列习响约支般史感劳便团往酸历市克何除消构府称太准精值号率族维划选标写存候毛亲快效斯院查江型眼王按格养易置派层片始却专状育厂京识适属圆包火住调满县局照参红细引听该铁价严龙飞",l;switch(arguments.length){case 0:r=c,l=1;break;case 1:typeof arguments[0]=="string"?l=1:(l=r,r=c);break;case 2:typeof arguments[0]=="string"?l=d:(l=this.natural(r,d),r=c);break;case 3:l=this.natural(d,m);break}for(var _="",k=0;k<l;k++)_+=r.charAt(this.natural(0,r.length-1));return _},title:function(r,d){for(var m=n(3,7,r,d),c=[],l=0;l<m;l++)c.push(this.capitalize(this.word()));return c.join(" ")},ctitle:function(r,d){for(var m=n(3,7,r,d),c=[],l=0;l<m;l++)c.push(this.cword());return c.join("")}}},function(t,e,s){var o=s(3);t.exports={capitalize:function(a){return(a+"").charAt(0).toUpperCase()+(a+"").substr(1)},upper:function(a){return(a+"").toUpperCase()},lower:function(a){return(a+"").toLowerCase()},pick:function(n,r,d){return o.isArray(n)?(r===void 0&&(r=1),d===void 0&&(d=r)):(n=[].slice.call(arguments),r=1,d=1),r===1&&d===1?n[this.natural(0,n.length-1)]:this.shuffle(n,r,d)},shuffle:function(n,r,d){n=n||[];for(var m=n.slice(0),c=[],l=0,_=m.length,k=0;k<_;k++)l=this.natural(0,m.length-1),c.push(m[l]),m.splice(l,1);switch(arguments.length){case 0:case 1:return c;case 2:d=r;case 3:return r=parseInt(r,10),d=parseInt(d,10),c.slice(0,this.natural(r,d))}},order:function a(n){a.cache=a.cache||{},arguments.length>1&&(n=[].slice.call(arguments,0));var r=a.options,d=r.context.templatePath.join("."),m=a.cache[d]=a.cache[d]||{index:0,array:n};return m.array[m.index++%m.array.length]}}},function(t,e){t.exports={first:function(){var s=["James","John","Robert","Michael","William","David","Richard","Charles","Joseph","Thomas","Christopher","Daniel","Paul","Mark","Donald","George","Kenneth","Steven","Edward","Brian","Ronald","Anthony","Kevin","Jason","Matthew","Gary","Timothy","Jose","Larry","Jeffrey","Frank","Scott","Eric"].concat(["Mary","Patricia","Linda","Barbara","Elizabeth","Jennifer","Maria","Susan","Margaret","Dorothy","Lisa","Nancy","Karen","Betty","Helen","Sandra","Donna","Carol","Ruth","Sharon","Michelle","Laura","Sarah","Kimberly","Deborah","Jessica","Shirley","Cynthia","Angela","Melissa","Brenda","Amy","Anna"]);return this.pick(s)},last:function(){var s=["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White","Lopez","Lee","Gonzalez","Harris","Clark","Lewis","Robinson","Walker","Perez","Hall","Young","Allen"];return this.pick(s)},name:function(s){return this.first()+" "+(s?this.first()+" ":"")+this.last()},cfirst:function(){var s="王 李 张 刘 陈 杨 赵 黄 周 吴 徐 孙 胡 朱 高 林 何 郭 马 罗 梁 宋 郑 谢 韩 唐 冯 于 董 萧 程 曹 袁 邓 许 傅 沈 曾 彭 吕 苏 卢 蒋 蔡 贾 丁 魏 薛 叶 阎 余 潘 杜 戴 夏 锺 汪 田 任 姜 范 方 石 姚 谭 廖 邹 熊 金 陆 郝 孔 白 崔 康 毛 邱 秦 江 史 顾 侯 邵 孟 龙 万 段 雷 钱 汤 尹 黎 易 常 武 乔 贺 赖 龚 文".split(" ");return this.pick(s)},clast:function(){var s="伟 芳 娜 秀英 敏 静 丽 强 磊 军 洋 勇 艳 杰 娟 涛 明 超 秀兰 霞 平 刚 桂英".split(" ");return this.pick(s)},cname:function(){return this.cfirst()+this.clast()}}},function(t,e){t.exports={url:function(s,o){return(s||this.protocol())+"://"+(o||this.domain())+"/"+this.word()},protocol:function(){return this.pick("http ftp gopher mailto mid cid news nntp prospero telnet rlogin tn3270 wais".split(" "))},domain:function(s){return this.word()+"."+(s||this.tld())},tld:function(){return this.pick("com net org edu gov int mil cn com.cn net.cn gov.cn org.cn 中国 中国互联.公司 中国互联.网络 tel biz cc tv info name hk mobi asia cd travel pro museum coop aero ad ae af ag ai al am an ao aq ar as at au aw az ba bb bd be bf bg bh bi bj bm bn bo br bs bt bv bw by bz ca cc cf cg ch ci ck cl cm cn co cq cr cu cv cx cy cz de dj dk dm do dz ec ee eg eh es et ev fi fj fk fm fo fr ga gb gd ge gf gh gi gl gm gn gp gr gt gu gw gy hk hm hn hr ht hu id ie il in io iq ir is it jm jo jp ke kg kh ki km kn kp kr kw ky kz la lb lc li lk lr ls lt lu lv ly ma mc md mg mh ml mm mn mo mp mq mr ms mt mv mw mx my mz na nc ne nf ng ni nl no np nr nt nu nz om qa pa pe pf pg ph pk pl pm pn pr pt pw py re ro ru rw sa sb sc sd se sg sh si sj sk sl sm sn so sr st su sy sz tc td tf tg th tj tk tm tn to tp tr tt tv tw tz ua ug uk us uy va vc ve vg vn vu wf ws ye yu za zm zr zw".split(" "))},email:function(s){return this.character("lower")+"."+this.word()+"@"+(s||this.word()+"."+this.tld())},ip:function(){return this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)}}},function(t,e,s){var o=s(18),a=["东北","华北","华东","华中","华南","西南","西北"];t.exports={region:function(){return this.pick(a)},province:function(){return this.pick(o).name},city:function(n){var r=this.pick(o),d=this.pick(r.children);return n?[r.name,d.name].join(" "):d.name},county:function(n){var r=this.pick(o),d=this.pick(r.children),m=this.pick(d.children)||{name:"-"};return n?[r.name,d.name,m.name].join(" "):m.name},zip:function(n){for(var r="",d=0;d<(n||6);d++)r+=this.natural(0,9);return r}}},function(t,e){var s={11e4:"北京",110100:"北京市",110101:"东城区",110102:"西城区",110105:"朝阳区",110106:"丰台区",110107:"石景山区",110108:"海淀区",110109:"门头沟区",110111:"房山区",110112:"通州区",110113:"顺义区",110114:"昌平区",110115:"大兴区",110116:"怀柔区",110117:"平谷区",110228:"密云县",110229:"延庆县",110230:"其它区",12e4:"天津",120100:"天津市",120101:"和平区",120102:"河东区",120103:"河西区",120104:"南开区",120105:"河北区",120106:"红桥区",120110:"东丽区",120111:"西青区",120112:"津南区",120113:"北辰区",120114:"武清区",120115:"宝坻区",120116:"滨海新区",120221:"宁河县",120223:"静海县",120225:"蓟县",120226:"其它区",13e4:"河北省",130100:"石家庄市",130102:"长安区",130103:"桥东区",130104:"桥西区",130105:"新华区",130107:"井陉矿区",130108:"裕华区",130121:"井陉县",130123:"正定县",130124:"栾城县",130125:"行唐县",130126:"灵寿县",130127:"高邑县",130128:"深泽县",130129:"赞皇县",130130:"无极县",130131:"平山县",130132:"元氏县",130133:"赵县",130181:"辛集市",130182:"藁城市",130183:"晋州市",130184:"新乐市",130185:"鹿泉市",130186:"其它区",130200:"唐山市",130202:"路南区",130203:"路北区",130204:"古冶区",130205:"开平区",130207:"丰南区",130208:"丰润区",130223:"滦县",130224:"滦南县",130225:"乐亭县",130227:"迁西县",130229:"玉田县",130230:"曹妃甸区",130281:"遵化市",130283:"迁安市",130284:"其它区",130300:"秦皇岛市",130302:"海港区",130303:"山海关区",130304:"北戴河区",130321:"青龙满族自治县",130322:"昌黎县",130323:"抚宁县",130324:"卢龙县",130398:"其它区",130400:"邯郸市",130402:"邯山区",130403:"丛台区",130404:"复兴区",130406:"峰峰矿区",130421:"邯郸县",130423:"临漳县",130424:"成安县",130425:"大名县",130426:"涉县",130427:"磁县",130428:"肥乡县",130429:"永年县",130430:"邱县",130431:"鸡泽县",130432:"广平县",130433:"馆陶县",130434:"魏县",130435:"曲周县",130481:"武安市",130482:"其它区",130500:"邢台市",130502:"桥东区",130503:"桥西区",130521:"邢台县",130522:"临城县",130523:"内丘县",130524:"柏乡县",130525:"隆尧县",130526:"任县",130527:"南和县",130528:"宁晋县",130529:"巨鹿县",130530:"新河县",130531:"广宗县",130532:"平乡县",130533:"威县",130534:"清河县",130535:"临西县",130581:"南宫市",130582:"沙河市",130583:"其它区",130600:"保定市",130602:"新市区",130603:"北市区",130604:"南市区",130621:"满城县",130622:"清苑县",130623:"涞水县",130624:"阜平县",130625:"徐水县",130626:"定兴县",130627:"唐县",130628:"高阳县",130629:"容城县",130630:"涞源县",130631:"望都县",130632:"安新县",130633:"易县",130634:"曲阳县",130635:"蠡县",130636:"顺平县",130637:"博野县",130638:"雄县",130681:"涿州市",130682:"定州市",130683:"安国市",130684:"高碑店市",130699:"其它区",130700:"张家口市",130702:"桥东区",130703:"桥西区",130705:"宣化区",130706:"下花园区",130721:"宣化县",130722:"张北县",130723:"康保县",130724:"沽源县",130725:"尚义县",130726:"蔚县",130727:"阳原县",130728:"怀安县",130729:"万全县",130730:"怀来县",130731:"涿鹿县",130732:"赤城县",130733:"崇礼县",130734:"其它区",130800:"承德市",130802:"双桥区",130803:"双滦区",130804:"鹰手营子矿区",130821:"承德县",130822:"兴隆县",130823:"平泉县",130824:"滦平县",130825:"隆化县",130826:"丰宁满族自治县",130827:"宽城满族自治县",130828:"围场满族蒙古族自治县",130829:"其它区",130900:"沧州市",130902:"新华区",130903:"运河区",130921:"沧县",130922:"青县",130923:"东光县",130924:"海兴县",130925:"盐山县",130926:"肃宁县",130927:"南皮县",130928:"吴桥县",130929:"献县",130930:"孟村回族自治县",130981:"泊头市",130982:"任丘市",130983:"黄骅市",130984:"河间市",130985:"其它区",131e3:"廊坊市",131002:"安次区",131003:"广阳区",131022:"固安县",131023:"永清县",131024:"香河县",131025:"大城县",131026:"文安县",131028:"大厂回族自治县",131081:"霸州市",131082:"三河市",131083:"其它区",131100:"衡水市",131102:"桃城区",131121:"枣强县",131122:"武邑县",131123:"武强县",131124:"饶阳县",131125:"安平县",131126:"故城县",131127:"景县",131128:"阜城县",131181:"冀州市",131182:"深州市",131183:"其它区",14e4:"山西省",140100:"太原市",140105:"小店区",140106:"迎泽区",140107:"杏花岭区",140108:"尖草坪区",140109:"万柏林区",140110:"晋源区",140121:"清徐县",140122:"阳曲县",140123:"娄烦县",140181:"古交市",140182:"其它区",140200:"大同市",140202:"城区",140203:"矿区",140211:"南郊区",140212:"新荣区",140221:"阳高县",140222:"天镇县",140223:"广灵县",140224:"灵丘县",140225:"浑源县",140226:"左云县",140227:"大同县",140228:"其它区",140300:"阳泉市",140302:"城区",140303:"矿区",140311:"郊区",140321:"平定县",140322:"盂县",140323:"其它区",140400:"长治市",140421:"长治县",140423:"襄垣县",140424:"屯留县",140425:"平顺县",140426:"黎城县",140427:"壶关县",140428:"长子县",140429:"武乡县",140430:"沁县",140431:"沁源县",140481:"潞城市",140482:"城区",140483:"郊区",140485:"其它区",140500:"晋城市",140502:"城区",140521:"沁水县",140522:"阳城县",140524:"陵川县",140525:"泽州县",140581:"高平市",140582:"其它区",140600:"朔州市",140602:"朔城区",140603:"平鲁区",140621:"山阴县",140622:"应县",140623:"右玉县",140624:"怀仁县",140625:"其它区",140700:"晋中市",140702:"榆次区",140721:"榆社县",140722:"左权县",140723:"和顺县",140724:"昔阳县",140725:"寿阳县",140726:"太谷县",140727:"祁县",140728:"平遥县",140729:"灵石县",140781:"介休市",140782:"其它区",140800:"运城市",140802:"盐湖区",140821:"临猗县",140822:"万荣县",140823:"闻喜县",140824:"稷山县",140825:"新绛县",140826:"绛县",140827:"垣曲县",140828:"夏县",140829:"平陆县",140830:"芮城县",140881:"永济市",140882:"河津市",140883:"其它区",140900:"忻州市",140902:"忻府区",140921:"定襄县",140922:"五台县",140923:"代县",140924:"繁峙县",140925:"宁武县",140926:"静乐县",140927:"神池县",140928:"五寨县",140929:"岢岚县",140930:"河曲县",140931:"保德县",140932:"偏关县",140981:"原平市",140982:"其它区",141e3:"临汾市",141002:"尧都区",141021:"曲沃县",141022:"翼城县",141023:"襄汾县",141024:"洪洞县",141025:"古县",141026:"安泽县",141027:"浮山县",141028:"吉县",141029:"乡宁县",141030:"大宁县",141031:"隰县",141032:"永和县",141033:"蒲县",141034:"汾西县",141081:"侯马市",141082:"霍州市",141083:"其它区",141100:"吕梁市",141102:"离石区",141121:"文水县",141122:"交城县",141123:"兴县",141124:"临县",141125:"柳林县",141126:"石楼县",141127:"岚县",141128:"方山县",141129:"中阳县",141130:"交口县",141181:"孝义市",141182:"汾阳市",141183:"其它区",15e4:"内蒙古自治区",150100:"呼和浩特市",150102:"新城区",150103:"回民区",150104:"玉泉区",150105:"赛罕区",150121:"土默特左旗",150122:"托克托县",150123:"和林格尔县",150124:"清水河县",150125:"武川县",150126:"其它区",150200:"包头市",150202:"东河区",150203:"昆都仑区",150204:"青山区",150205:"石拐区",150206:"白云鄂博矿区",150207:"九原区",150221:"土默特右旗",150222:"固阳县",150223:"达尔罕茂明安联合旗",150224:"其它区",150300:"乌海市",150302:"海勃湾区",150303:"海南区",150304:"乌达区",150305:"其它区",150400:"赤峰市",150402:"红山区",150403:"元宝山区",150404:"松山区",150421:"阿鲁科尔沁旗",150422:"巴林左旗",150423:"巴林右旗",150424:"林西县",150425:"克什克腾旗",150426:"翁牛特旗",150428:"喀喇沁旗",150429:"宁城县",150430:"敖汉旗",150431:"其它区",150500:"通辽市",150502:"科尔沁区",150521:"科尔沁左翼中旗",150522:"科尔沁左翼后旗",150523:"开鲁县",150524:"库伦旗",150525:"奈曼旗",150526:"扎鲁特旗",150581:"霍林郭勒市",150582:"其它区",150600:"鄂尔多斯市",150602:"东胜区",150621:"达拉特旗",150622:"准格尔旗",150623:"鄂托克前旗",150624:"鄂托克旗",150625:"杭锦旗",150626:"乌审旗",150627:"伊金霍洛旗",150628:"其它区",150700:"呼伦贝尔市",150702:"海拉尔区",150703:"扎赉诺尔区",150721:"阿荣旗",150722:"莫力达瓦达斡尔族自治旗",150723:"鄂伦春自治旗",150724:"鄂温克族自治旗",150725:"陈巴尔虎旗",150726:"新巴尔虎左旗",150727:"新巴尔虎右旗",150781:"满洲里市",150782:"牙克石市",150783:"扎兰屯市",150784:"额尔古纳市",150785:"根河市",150786:"其它区",150800:"巴彦淖尔市",150802:"临河区",150821:"五原县",150822:"磴口县",150823:"乌拉特前旗",150824:"乌拉特中旗",150825:"乌拉特后旗",150826:"杭锦后旗",150827:"其它区",150900:"乌兰察布市",150902:"集宁区",150921:"卓资县",150922:"化德县",150923:"商都县",150924:"兴和县",150925:"凉城县",150926:"察哈尔右翼前旗",150927:"察哈尔右翼中旗",150928:"察哈尔右翼后旗",150929:"四子王旗",150981:"丰镇市",150982:"其它区",152200:"兴安盟",152201:"乌兰浩特市",152202:"阿尔山市",152221:"科尔沁右翼前旗",152222:"科尔沁右翼中旗",152223:"扎赉特旗",152224:"突泉县",152225:"其它区",152500:"锡林郭勒盟",152501:"二连浩特市",152502:"锡林浩特市",152522:"阿巴嘎旗",152523:"苏尼特左旗",152524:"苏尼特右旗",152525:"东乌珠穆沁旗",152526:"西乌珠穆沁旗",152527:"太仆寺旗",152528:"镶黄旗",152529:"正镶白旗",152530:"正蓝旗",152531:"多伦县",152532:"其它区",152900:"阿拉善盟",152921:"阿拉善左旗",152922:"阿拉善右旗",152923:"额济纳旗",152924:"其它区",21e4:"辽宁省",210100:"沈阳市",210102:"和平区",210103:"沈河区",210104:"大东区",210105:"皇姑区",210106:"铁西区",210111:"苏家屯区",210112:"东陵区",210113:"新城子区",210114:"于洪区",210122:"辽中县",210123:"康平县",210124:"法库县",210181:"新民市",210184:"沈北新区",210185:"其它区",210200:"大连市",210202:"中山区",210203:"西岗区",210204:"沙河口区",210211:"甘井子区",210212:"旅顺口区",210213:"金州区",210224:"长海县",210281:"瓦房店市",210282:"普兰店市",210283:"庄河市",210298:"其它区",210300:"鞍山市",210302:"铁东区",210303:"铁西区",210304:"立山区",210311:"千山区",210321:"台安县",210323:"岫岩满族自治县",210381:"海城市",210382:"其它区",210400:"抚顺市",210402:"新抚区",210403:"东洲区",210404:"望花区",210411:"顺城区",210421:"抚顺县",210422:"新宾满族自治县",210423:"清原满族自治县",210424:"其它区",210500:"本溪市",210502:"平山区",210503:"溪湖区",210504:"明山区",210505:"南芬区",210521:"本溪满族自治县",210522:"桓仁满族自治县",210523:"其它区",210600:"丹东市",210602:"元宝区",210603:"振兴区",210604:"振安区",210624:"宽甸满族自治县",210681:"东港市",210682:"凤城市",210683:"其它区",210700:"锦州市",210702:"古塔区",210703:"凌河区",210711:"太和区",210726:"黑山县",210727:"义县",210781:"凌海市",210782:"北镇市",210783:"其它区",210800:"营口市",210802:"站前区",210803:"西市区",210804:"鲅鱼圈区",210811:"老边区",210881:"盖州市",210882:"大石桥市",210883:"其它区",210900:"阜新市",210902:"海州区",210903:"新邱区",210904:"太平区",210905:"清河门区",210911:"细河区",210921:"阜新蒙古族自治县",210922:"彰武县",210923:"其它区",211e3:"辽阳市",211002:"白塔区",211003:"文圣区",211004:"宏伟区",211005:"弓长岭区",211011:"太子河区",211021:"辽阳县",211081:"灯塔市",211082:"其它区",211100:"盘锦市",211102:"双台子区",211103:"兴隆台区",211121:"大洼县",211122:"盘山县",211123:"其它区",211200:"铁岭市",211202:"银州区",211204:"清河区",211221:"铁岭县",211223:"西丰县",211224:"昌图县",211281:"调兵山市",211282:"开原市",211283:"其它区",211300:"朝阳市",211302:"双塔区",211303:"龙城区",211321:"朝阳县",211322:"建平县",211324:"喀喇沁左翼蒙古族自治县",211381:"北票市",211382:"凌源市",211383:"其它区",211400:"葫芦岛市",211402:"连山区",211403:"龙港区",211404:"南票区",211421:"绥中县",211422:"建昌县",211481:"兴城市",211482:"其它区",22e4:"吉林省",220100:"长春市",220102:"南关区",220103:"宽城区",220104:"朝阳区",220105:"二道区",220106:"绿园区",220112:"双阳区",220122:"农安县",220181:"九台市",220182:"榆树市",220183:"德惠市",220188:"其它区",220200:"吉林市",220202:"昌邑区",220203:"龙潭区",220204:"船营区",220211:"丰满区",220221:"永吉县",220281:"蛟河市",220282:"桦甸市",220283:"舒兰市",220284:"磐石市",220285:"其它区",220300:"四平市",220302:"铁西区",220303:"铁东区",220322:"梨树县",220323:"伊通满族自治县",220381:"公主岭市",220382:"双辽市",220383:"其它区",220400:"辽源市",220402:"龙山区",220403:"西安区",220421:"东丰县",220422:"东辽县",220423:"其它区",220500:"通化市",220502:"东昌区",220503:"二道江区",220521:"通化县",220523:"辉南县",220524:"柳河县",220581:"梅河口市",220582:"集安市",220583:"其它区",220600:"白山市",220602:"浑江区",220621:"抚松县",220622:"靖宇县",220623:"长白朝鲜族自治县",220625:"江源区",220681:"临江市",220682:"其它区",220700:"松原市",220702:"宁江区",220721:"前郭尔罗斯蒙古族自治县",220722:"长岭县",220723:"乾安县",220724:"扶余市",220725:"其它区",220800:"白城市",220802:"洮北区",220821:"镇赉县",220822:"通榆县",220881:"洮南市",220882:"大安市",220883:"其它区",222400:"延边朝鲜族自治州",222401:"延吉市",222402:"图们市",222403:"敦化市",222404:"珲春市",222405:"龙井市",222406:"和龙市",222424:"汪清县",222426:"安图县",222427:"其它区",23e4:"黑龙江省",230100:"哈尔滨市",230102:"道里区",230103:"南岗区",230104:"道外区",230106:"香坊区",230108:"平房区",230109:"松北区",230111:"呼兰区",230123:"依兰县",230124:"方正县",230125:"宾县",230126:"巴彦县",230127:"木兰县",230128:"通河县",230129:"延寿县",230181:"阿城区",230182:"双城市",230183:"尚志市",230184:"五常市",230186:"其它区",230200:"齐齐哈尔市",230202:"龙沙区",230203:"建华区",230204:"铁锋区",230205:"昂昂溪区",230206:"富拉尔基区",230207:"碾子山区",230208:"梅里斯达斡尔族区",230221:"龙江县",230223:"依安县",230224:"泰来县",230225:"甘南县",230227:"富裕县",230229:"克山县",230230:"克东县",230231:"拜泉县",230281:"讷河市",230282:"其它区",230300:"鸡西市",230302:"鸡冠区",230303:"恒山区",230304:"滴道区",230305:"梨树区",230306:"城子河区",230307:"麻山区",230321:"鸡东县",230381:"虎林市",230382:"密山市",230383:"其它区",230400:"鹤岗市",230402:"向阳区",230403:"工农区",230404:"南山区",230405:"兴安区",230406:"东山区",230407:"兴山区",230421:"萝北县",230422:"绥滨县",230423:"其它区",230500:"双鸭山市",230502:"尖山区",230503:"岭东区",230505:"四方台区",230506:"宝山区",230521:"集贤县",230522:"友谊县",230523:"宝清县",230524:"饶河县",230525:"其它区",230600:"大庆市",230602:"萨尔图区",230603:"龙凤区",230604:"让胡路区",230605:"红岗区",230606:"大同区",230621:"肇州县",230622:"肇源县",230623:"林甸县",230624:"杜尔伯特蒙古族自治县",230625:"其它区",230700:"伊春市",230702:"伊春区",230703:"南岔区",230704:"友好区",230705:"西林区",230706:"翠峦区",230707:"新青区",230708:"美溪区",230709:"金山屯区",230710:"五营区",230711:"乌马河区",230712:"汤旺河区",230713:"带岭区",230714:"乌伊岭区",230715:"红星区",230716:"上甘岭区",230722:"嘉荫县",230781:"铁力市",230782:"其它区",230800:"佳木斯市",230803:"向阳区",230804:"前进区",230805:"东风区",230811:"郊区",230822:"桦南县",230826:"桦川县",230828:"汤原县",230833:"抚远县",230881:"同江市",230882:"富锦市",230883:"其它区",230900:"七台河市",230902:"新兴区",230903:"桃山区",230904:"茄子河区",230921:"勃利县",230922:"其它区",231e3:"牡丹江市",231002:"东安区",231003:"阳明区",231004:"爱民区",231005:"西安区",231024:"东宁县",231025:"林口县",231081:"绥芬河市",231083:"海林市",231084:"宁安市",231085:"穆棱市",231086:"其它区",231100:"黑河市",231102:"爱辉区",231121:"嫩江县",231123:"逊克县",231124:"孙吴县",231181:"北安市",231182:"五大连池市",231183:"其它区",231200:"绥化市",231202:"北林区",231221:"望奎县",231222:"兰西县",231223:"青冈县",231224:"庆安县",231225:"明水县",231226:"绥棱县",231281:"安达市",231282:"肇东市",231283:"海伦市",231284:"其它区",232700:"大兴安岭地区",232702:"松岭区",232703:"新林区",232704:"呼中区",232721:"呼玛县",232722:"塔河县",232723:"漠河县",232724:"加格达奇区",232725:"其它区",31e4:"上海",310100:"上海市",310101:"黄浦区",310104:"徐汇区",310105:"长宁区",310106:"静安区",310107:"普陀区",310108:"闸北区",310109:"虹口区",310110:"杨浦区",310112:"闵行区",310113:"宝山区",310114:"嘉定区",310115:"浦东新区",310116:"金山区",310117:"松江区",310118:"青浦区",310120:"奉贤区",310230:"崇明县",310231:"其它区",32e4:"江苏省",320100:"南京市",320102:"玄武区",320104:"秦淮区",320105:"建邺区",320106:"鼓楼区",320111:"浦口区",320113:"栖霞区",320114:"雨花台区",320115:"江宁区",320116:"六合区",320124:"溧水区",320125:"高淳区",320126:"其它区",320200:"无锡市",320202:"崇安区",320203:"南长区",320204:"北塘区",320205:"锡山区",320206:"惠山区",320211:"滨湖区",320281:"江阴市",320282:"宜兴市",320297:"其它区",320300:"徐州市",320302:"鼓楼区",320303:"云龙区",320305:"贾汪区",320311:"泉山区",320321:"丰县",320322:"沛县",320323:"铜山区",320324:"睢宁县",320381:"新沂市",320382:"邳州市",320383:"其它区",320400:"常州市",320402:"天宁区",320404:"钟楼区",320405:"戚墅堰区",320411:"新北区",320412:"武进区",320481:"溧阳市",320482:"金坛市",320483:"其它区",320500:"苏州市",320505:"虎丘区",320506:"吴中区",320507:"相城区",320508:"姑苏区",320581:"常熟市",320582:"张家港市",320583:"昆山市",320584:"吴江区",320585:"太仓市",320596:"其它区",320600:"南通市",320602:"崇川区",320611:"港闸区",320612:"通州区",320621:"海安县",320623:"如东县",320681:"启东市",320682:"如皋市",320684:"海门市",320694:"其它区",320700:"连云港市",320703:"连云区",320705:"新浦区",320706:"海州区",320721:"赣榆县",320722:"东海县",320723:"灌云县",320724:"灌南县",320725:"其它区",320800:"淮安市",320802:"清河区",320803:"淮安区",320804:"淮阴区",320811:"清浦区",320826:"涟水县",320829:"洪泽县",320830:"盱眙县",320831:"金湖县",320832:"其它区",320900:"盐城市",320902:"亭湖区",320903:"盐都区",320921:"响水县",320922:"滨海县",320923:"阜宁县",320924:"射阳县",320925:"建湖县",320981:"东台市",320982:"大丰市",320983:"其它区",321e3:"扬州市",321002:"广陵区",321003:"邗江区",321023:"宝应县",321081:"仪征市",321084:"高邮市",321088:"江都区",321093:"其它区",321100:"镇江市",321102:"京口区",321111:"润州区",321112:"丹徒区",321181:"丹阳市",321182:"扬中市",321183:"句容市",321184:"其它区",321200:"泰州市",321202:"海陵区",321203:"高港区",321281:"兴化市",321282:"靖江市",321283:"泰兴市",321284:"姜堰区",321285:"其它区",321300:"宿迁市",321302:"宿城区",321311:"宿豫区",321322:"沭阳县",321323:"泗阳县",321324:"泗洪县",321325:"其它区",33e4:"浙江省",330100:"杭州市",330102:"上城区",330103:"下城区",330104:"江干区",330105:"拱墅区",330106:"西湖区",330108:"滨江区",330109:"萧山区",330110:"余杭区",330122:"桐庐县",330127:"淳安县",330182:"建德市",330183:"富阳市",330185:"临安市",330186:"其它区",330200:"宁波市",330203:"海曙区",330204:"江东区",330205:"江北区",330206:"北仑区",330211:"镇海区",330212:"鄞州区",330225:"象山县",330226:"宁海县",330281:"余姚市",330282:"慈溪市",330283:"奉化市",330284:"其它区",330300:"温州市",330302:"鹿城区",330303:"龙湾区",330304:"瓯海区",330322:"洞头县",330324:"永嘉县",330326:"平阳县",330327:"苍南县",330328:"文成县",330329:"泰顺县",330381:"瑞安市",330382:"乐清市",330383:"其它区",330400:"嘉兴市",330402:"南湖区",330411:"秀洲区",330421:"嘉善县",330424:"海盐县",330481:"海宁市",330482:"平湖市",330483:"桐乡市",330484:"其它区",330500:"湖州市",330502:"吴兴区",330503:"南浔区",330521:"德清县",330522:"长兴县",330523:"安吉县",330524:"其它区",330600:"绍兴市",330602:"越城区",330621:"绍兴县",330624:"新昌县",330681:"诸暨市",330682:"上虞市",330683:"嵊州市",330684:"其它区",330700:"金华市",330702:"婺城区",330703:"金东区",330723:"武义县",330726:"浦江县",330727:"磐安县",330781:"兰溪市",330782:"义乌市",330783:"东阳市",330784:"永康市",330785:"其它区",330800:"衢州市",330802:"柯城区",330803:"衢江区",330822:"常山县",330824:"开化县",330825:"龙游县",330881:"江山市",330882:"其它区",330900:"舟山市",330902:"定海区",330903:"普陀区",330921:"岱山县",330922:"嵊泗县",330923:"其它区",331e3:"台州市",331002:"椒江区",331003:"黄岩区",331004:"路桥区",331021:"玉环县",331022:"三门县",331023:"天台县",331024:"仙居县",331081:"温岭市",331082:"临海市",331083:"其它区",331100:"丽水市",331102:"莲都区",331121:"青田县",331122:"缙云县",331123:"遂昌县",331124:"松阳县",331125:"云和县",331126:"庆元县",331127:"景宁畲族自治县",331181:"龙泉市",331182:"其它区",34e4:"安徽省",340100:"合肥市",340102:"瑶海区",340103:"庐阳区",340104:"蜀山区",340111:"包河区",340121:"长丰县",340122:"肥东县",340123:"肥西县",340192:"其它区",340200:"芜湖市",340202:"镜湖区",340203:"弋江区",340207:"鸠江区",340208:"三山区",340221:"芜湖县",340222:"繁昌县",340223:"南陵县",340224:"其它区",340300:"蚌埠市",340302:"龙子湖区",340303:"蚌山区",340304:"禹会区",340311:"淮上区",340321:"怀远县",340322:"五河县",340323:"固镇县",340324:"其它区",340400:"淮南市",340402:"大通区",340403:"田家庵区",340404:"谢家集区",340405:"八公山区",340406:"潘集区",340421:"凤台县",340422:"其它区",340500:"马鞍山市",340503:"花山区",340504:"雨山区",340506:"博望区",340521:"当涂县",340522:"其它区",340600:"淮北市",340602:"杜集区",340603:"相山区",340604:"烈山区",340621:"濉溪县",340622:"其它区",340700:"铜陵市",340702:"铜官山区",340703:"狮子山区",340711:"郊区",340721:"铜陵县",340722:"其它区",340800:"安庆市",340802:"迎江区",340803:"大观区",340811:"宜秀区",340822:"怀宁县",340823:"枞阳县",340824:"潜山县",340825:"太湖县",340826:"宿松县",340827:"望江县",340828:"岳西县",340881:"桐城市",340882:"其它区",341e3:"黄山市",341002:"屯溪区",341003:"黄山区",341004:"徽州区",341021:"歙县",341022:"休宁县",341023:"黟县",341024:"祁门县",341025:"其它区",341100:"滁州市",341102:"琅琊区",341103:"南谯区",341122:"来安县",341124:"全椒县",341125:"定远县",341126:"凤阳县",341181:"天长市",341182:"明光市",341183:"其它区",341200:"阜阳市",341202:"颍州区",341203:"颍东区",341204:"颍泉区",341221:"临泉县",341222:"太和县",341225:"阜南县",341226:"颍上县",341282:"界首市",341283:"其它区",341300:"宿州市",341302:"埇桥区",341321:"砀山县",341322:"萧县",341323:"灵璧县",341324:"泗县",341325:"其它区",341400:"巢湖市",341421:"庐江县",341422:"无为县",341423:"含山县",341424:"和县",341500:"六安市",341502:"金安区",341503:"裕安区",341521:"寿县",341522:"霍邱县",341523:"舒城县",341524:"金寨县",341525:"霍山县",341526:"其它区",341600:"亳州市",341602:"谯城区",341621:"涡阳县",341622:"蒙城县",341623:"利辛县",341624:"其它区",341700:"池州市",341702:"贵池区",341721:"东至县",341722:"石台县",341723:"青阳县",341724:"其它区",341800:"宣城市",341802:"宣州区",341821:"郎溪县",341822:"广德县",341823:"泾县",341824:"绩溪县",341825:"旌德县",341881:"宁国市",341882:"其它区",35e4:"福建省",350100:"福州市",350102:"鼓楼区",350103:"台江区",350104:"仓山区",350105:"马尾区",350111:"晋安区",350121:"闽侯县",350122:"连江县",350123:"罗源县",350124:"闽清县",350125:"永泰县",350128:"平潭县",350181:"福清市",350182:"长乐市",350183:"其它区",350200:"厦门市",350203:"思明区",350205:"海沧区",350206:"湖里区",350211:"集美区",350212:"同安区",350213:"翔安区",350214:"其它区",350300:"莆田市",350302:"城厢区",350303:"涵江区",350304:"荔城区",350305:"秀屿区",350322:"仙游县",350323:"其它区",350400:"三明市",350402:"梅列区",350403:"三元区",350421:"明溪县",350423:"清流县",350424:"宁化县",350425:"大田县",350426:"尤溪县",350427:"沙县",350428:"将乐县",350429:"泰宁县",350430:"建宁县",350481:"永安市",350482:"其它区",350500:"泉州市",350502:"鲤城区",350503:"丰泽区",350504:"洛江区",350505:"泉港区",350521:"惠安县",350524:"安溪县",350525:"永春县",350526:"德化县",350527:"金门县",350581:"石狮市",350582:"晋江市",350583:"南安市",350584:"其它区",350600:"漳州市",350602:"芗城区",350603:"龙文区",350622:"云霄县",350623:"漳浦县",350624:"诏安县",350625:"长泰县",350626:"东山县",350627:"南靖县",350628:"平和县",350629:"华安县",350681:"龙海市",350682:"其它区",350700:"南平市",350702:"延平区",350721:"顺昌县",350722:"浦城县",350723:"光泽县",350724:"松溪县",350725:"政和县",350781:"邵武市",350782:"武夷山市",350783:"建瓯市",350784:"建阳市",350785:"其它区",350800:"龙岩市",350802:"新罗区",350821:"长汀县",350822:"永定县",350823:"上杭县",350824:"武平县",350825:"连城县",350881:"漳平市",350882:"其它区",350900:"宁德市",350902:"蕉城区",350921:"霞浦县",350922:"古田县",350923:"屏南县",350924:"寿宁县",350925:"周宁县",350926:"柘荣县",350981:"福安市",350982:"福鼎市",350983:"其它区",36e4:"江西省",360100:"南昌市",360102:"东湖区",360103:"西湖区",360104:"青云谱区",360105:"湾里区",360111:"青山湖区",360121:"南昌县",360122:"新建县",360123:"安义县",360124:"进贤县",360128:"其它区",360200:"景德镇市",360202:"昌江区",360203:"珠山区",360222:"浮梁县",360281:"乐平市",360282:"其它区",360300:"萍乡市",360302:"安源区",360313:"湘东区",360321:"莲花县",360322:"上栗县",360323:"芦溪县",360324:"其它区",360400:"九江市",360402:"庐山区",360403:"浔阳区",360421:"九江县",360423:"武宁县",360424:"修水县",360425:"永修县",360426:"德安县",360427:"星子县",360428:"都昌县",360429:"湖口县",360430:"彭泽县",360481:"瑞昌市",360482:"其它区",360483:"共青城市",360500:"新余市",360502:"渝水区",360521:"分宜县",360522:"其它区",360600:"鹰潭市",360602:"月湖区",360622:"余江县",360681:"贵溪市",360682:"其它区",360700:"赣州市",360702:"章贡区",360721:"赣县",360722:"信丰县",360723:"大余县",360724:"上犹县",360725:"崇义县",360726:"安远县",360727:"龙南县",360728:"定南县",360729:"全南县",360730:"宁都县",360731:"于都县",360732:"兴国县",360733:"会昌县",360734:"寻乌县",360735:"石城县",360781:"瑞金市",360782:"南康市",360783:"其它区",360800:"吉安市",360802:"吉州区",360803:"青原区",360821:"吉安县",360822:"吉水县",360823:"峡江县",360824:"新干县",360825:"永丰县",360826:"泰和县",360827:"遂川县",360828:"万安县",360829:"安福县",360830:"永新县",360881:"井冈山市",360882:"其它区",360900:"宜春市",360902:"袁州区",360921:"奉新县",360922:"万载县",360923:"上高县",360924:"宜丰县",360925:"靖安县",360926:"铜鼓县",360981:"丰城市",360982:"樟树市",360983:"高安市",360984:"其它区",361e3:"抚州市",361002:"临川区",361021:"南城县",361022:"黎川县",361023:"南丰县",361024:"崇仁县",361025:"乐安县",361026:"宜黄县",361027:"金溪县",361028:"资溪县",361029:"东乡县",361030:"广昌县",361031:"其它区",361100:"上饶市",361102:"信州区",361121:"上饶县",361122:"广丰县",361123:"玉山县",361124:"铅山县",361125:"横峰县",361126:"弋阳县",361127:"余干县",361128:"鄱阳县",361129:"万年县",361130:"婺源县",361181:"德兴市",361182:"其它区",37e4:"山东省",370100:"济南市",370102:"历下区",370103:"市中区",370104:"槐荫区",370105:"天桥区",370112:"历城区",370113:"长清区",370124:"平阴县",370125:"济阳县",370126:"商河县",370181:"章丘市",370182:"其它区",370200:"青岛市",370202:"市南区",370203:"市北区",370211:"黄岛区",370212:"崂山区",370213:"李沧区",370214:"城阳区",370281:"胶州市",370282:"即墨市",370283:"平度市",370285:"莱西市",370286:"其它区",370300:"淄博市",370302:"淄川区",370303:"张店区",370304:"博山区",370305:"临淄区",370306:"周村区",370321:"桓台县",370322:"高青县",370323:"沂源县",370324:"其它区",370400:"枣庄市",370402:"市中区",370403:"薛城区",370404:"峄城区",370405:"台儿庄区",370406:"山亭区",370481:"滕州市",370482:"其它区",370500:"东营市",370502:"东营区",370503:"河口区",370521:"垦利县",370522:"利津县",370523:"广饶县",370591:"其它区",370600:"烟台市",370602:"芝罘区",370611:"福山区",370612:"牟平区",370613:"莱山区",370634:"长岛县",370681:"龙口市",370682:"莱阳市",370683:"莱州市",370684:"蓬莱市",370685:"招远市",370686:"栖霞市",370687:"海阳市",370688:"其它区",370700:"潍坊市",370702:"潍城区",370703:"寒亭区",370704:"坊子区",370705:"奎文区",370724:"临朐县",370725:"昌乐县",370781:"青州市",370782:"诸城市",370783:"寿光市",370784:"安丘市",370785:"高密市",370786:"昌邑市",370787:"其它区",370800:"济宁市",370802:"市中区",370811:"任城区",370826:"微山县",370827:"鱼台县",370828:"金乡县",370829:"嘉祥县",370830:"汶上县",370831:"泗水县",370832:"梁山县",370881:"曲阜市",370882:"兖州市",370883:"邹城市",370884:"其它区",370900:"泰安市",370902:"泰山区",370903:"岱岳区",370921:"宁阳县",370923:"东平县",370982:"新泰市",370983:"肥城市",370984:"其它区",371e3:"威海市",371002:"环翠区",371081:"文登市",371082:"荣成市",371083:"乳山市",371084:"其它区",371100:"日照市",371102:"东港区",371103:"岚山区",371121:"五莲县",371122:"莒县",371123:"其它区",371200:"莱芜市",371202:"莱城区",371203:"钢城区",371204:"其它区",371300:"临沂市",371302:"兰山区",371311:"罗庄区",371312:"河东区",371321:"沂南县",371322:"郯城县",371323:"沂水县",371324:"苍山县",371325:"费县",371326:"平邑县",371327:"莒南县",371328:"蒙阴县",371329:"临沭县",371330:"其它区",371400:"德州市",371402:"德城区",371421:"陵县",371422:"宁津县",371423:"庆云县",371424:"临邑县",371425:"齐河县",371426:"平原县",371427:"夏津县",371428:"武城县",371481:"乐陵市",371482:"禹城市",371483:"其它区",371500:"聊城市",371502:"东昌府区",371521:"阳谷县",371522:"莘县",371523:"茌平县",371524:"东阿县",371525:"冠县",371526:"高唐县",371581:"临清市",371582:"其它区",371600:"滨州市",371602:"滨城区",371621:"惠民县",371622:"阳信县",371623:"无棣县",371624:"沾化县",371625:"博兴县",371626:"邹平县",371627:"其它区",371700:"菏泽市",371702:"牡丹区",371721:"曹县",371722:"单县",371723:"成武县",371724:"巨野县",371725:"郓城县",371726:"鄄城县",371727:"定陶县",371728:"东明县",371729:"其它区",41e4:"河南省",410100:"郑州市",410102:"中原区",410103:"二七区",410104:"管城回族区",410105:"金水区",410106:"上街区",410108:"惠济区",410122:"中牟县",410181:"巩义市",410182:"荥阳市",410183:"新密市",410184:"新郑市",410185:"登封市",410188:"其它区",410200:"开封市",410202:"龙亭区",410203:"顺河回族区",410204:"鼓楼区",410205:"禹王台区",410211:"金明区",410221:"杞县",410222:"通许县",410223:"尉氏县",410224:"开封县",410225:"兰考县",410226:"其它区",410300:"洛阳市",410302:"老城区",410303:"西工区",410304:"瀍河回族区",410305:"涧西区",410306:"吉利区",410307:"洛龙区",410322:"孟津县",410323:"新安县",410324:"栾川县",410325:"嵩县",410326:"汝阳县",410327:"宜阳县",410328:"洛宁县",410329:"伊川县",410381:"偃师市",410400:"平顶山市",410402:"新华区",410403:"卫东区",410404:"石龙区",410411:"湛河区",410421:"宝丰县",410422:"叶县",410423:"鲁山县",410425:"郏县",410481:"舞钢市",410482:"汝州市",410483:"其它区",410500:"安阳市",410502:"文峰区",410503:"北关区",410505:"殷都区",410506:"龙安区",410522:"安阳县",410523:"汤阴县",410526:"滑县",410527:"内黄县",410581:"林州市",410582:"其它区",410600:"鹤壁市",410602:"鹤山区",410603:"山城区",410611:"淇滨区",410621:"浚县",410622:"淇县",410623:"其它区",410700:"新乡市",410702:"红旗区",410703:"卫滨区",410704:"凤泉区",410711:"牧野区",410721:"新乡县",410724:"获嘉县",410725:"原阳县",410726:"延津县",410727:"封丘县",410728:"长垣县",410781:"卫辉市",410782:"辉县市",410783:"其它区",410800:"焦作市",410802:"解放区",410803:"中站区",410804:"马村区",410811:"山阳区",410821:"修武县",410822:"博爱县",410823:"武陟县",410825:"温县",410881:"济源市",410882:"沁阳市",410883:"孟州市",410884:"其它区",410900:"濮阳市",410902:"华龙区",410922:"清丰县",410923:"南乐县",410926:"范县",410927:"台前县",410928:"濮阳县",410929:"其它区",411e3:"许昌市",411002:"魏都区",411023:"许昌县",411024:"鄢陵县",411025:"襄城县",411081:"禹州市",411082:"长葛市",411083:"其它区",411100:"漯河市",411102:"源汇区",411103:"郾城区",411104:"召陵区",411121:"舞阳县",411122:"临颍县",411123:"其它区",411200:"三门峡市",411202:"湖滨区",411221:"渑池县",411222:"陕县",411224:"卢氏县",411281:"义马市",411282:"灵宝市",411283:"其它区",411300:"南阳市",411302:"宛城区",411303:"卧龙区",411321:"南召县",411322:"方城县",411323:"西峡县",411324:"镇平县",411325:"内乡县",411326:"淅川县",411327:"社旗县",411328:"唐河县",411329:"新野县",411330:"桐柏县",411381:"邓州市",411382:"其它区",411400:"商丘市",411402:"梁园区",411403:"睢阳区",411421:"民权县",411422:"睢县",411423:"宁陵县",411424:"柘城县",411425:"虞城县",411426:"夏邑县",411481:"永城市",411482:"其它区",411500:"信阳市",411502:"浉河区",411503:"平桥区",411521:"罗山县",411522:"光山县",411523:"新县",411524:"商城县",411525:"固始县",411526:"潢川县",411527:"淮滨县",411528:"息县",411529:"其它区",411600:"周口市",411602:"川汇区",411621:"扶沟县",411622:"西华县",411623:"商水县",411624:"沈丘县",411625:"郸城县",411626:"淮阳县",411627:"太康县",411628:"鹿邑县",411681:"项城市",411682:"其它区",411700:"驻马店市",411702:"驿城区",411721:"西平县",411722:"上蔡县",411723:"平舆县",411724:"正阳县",411725:"确山县",411726:"泌阳县",411727:"汝南县",411728:"遂平县",411729:"新蔡县",411730:"其它区",42e4:"湖北省",420100:"武汉市",420102:"江岸区",420103:"江汉区",420104:"硚口区",420105:"汉阳区",420106:"武昌区",420107:"青山区",420111:"洪山区",420112:"东西湖区",420113:"汉南区",420114:"蔡甸区",420115:"江夏区",420116:"黄陂区",420117:"新洲区",420118:"其它区",420200:"黄石市",420202:"黄石港区",420203:"西塞山区",420204:"下陆区",420205:"铁山区",420222:"阳新县",420281:"大冶市",420282:"其它区",420300:"十堰市",420302:"茅箭区",420303:"张湾区",420321:"郧县",420322:"郧西县",420323:"竹山县",420324:"竹溪县",420325:"房县",420381:"丹江口市",420383:"其它区",420500:"宜昌市",420502:"西陵区",420503:"伍家岗区",420504:"点军区",420505:"猇亭区",420506:"夷陵区",420525:"远安县",420526:"兴山县",420527:"秭归县",420528:"长阳土家族自治县",420529:"五峰土家族自治县",420581:"宜都市",420582:"当阳市",420583:"枝江市",420584:"其它区",420600:"襄阳市",420602:"襄城区",420606:"樊城区",420607:"襄州区",420624:"南漳县",420625:"谷城县",420626:"保康县",420682:"老河口市",420683:"枣阳市",420684:"宜城市",420685:"其它区",420700:"鄂州市",420702:"梁子湖区",420703:"华容区",420704:"鄂城区",420705:"其它区",420800:"荆门市",420802:"东宝区",420804:"掇刀区",420821:"京山县",420822:"沙洋县",420881:"钟祥市",420882:"其它区",420900:"孝感市",420902:"孝南区",420921:"孝昌县",420922:"大悟县",420923:"云梦县",420981:"应城市",420982:"安陆市",420984:"汉川市",420985:"其它区",421e3:"荆州市",421002:"沙市区",421003:"荆州区",421022:"公安县",421023:"监利县",421024:"江陵县",421081:"石首市",421083:"洪湖市",421087:"松滋市",421088:"其它区",421100:"黄冈市",421102:"黄州区",421121:"团风县",421122:"红安县",421123:"罗田县",421124:"英山县",421125:"浠水县",421126:"蕲春县",421127:"黄梅县",421181:"麻城市",421182:"武穴市",421183:"其它区",421200:"咸宁市",421202:"咸安区",421221:"嘉鱼县",421222:"通城县",421223:"崇阳县",421224:"通山县",421281:"赤壁市",421283:"其它区",421300:"随州市",421302:"曾都区",421321:"随县",421381:"广水市",421382:"其它区",422800:"恩施土家族苗族自治州",422801:"恩施市",422802:"利川市",422822:"建始县",422823:"巴东县",422825:"宣恩县",422826:"咸丰县",422827:"来凤县",422828:"鹤峰县",422829:"其它区",429004:"仙桃市",429005:"潜江市",429006:"天门市",429021:"神农架林区",43e4:"湖南省",430100:"长沙市",430102:"芙蓉区",430103:"天心区",430104:"岳麓区",430105:"开福区",430111:"雨花区",430121:"长沙县",430122:"望城区",430124:"宁乡县",430181:"浏阳市",430182:"其它区",430200:"株洲市",430202:"荷塘区",430203:"芦淞区",430204:"石峰区",430211:"天元区",430221:"株洲县",430223:"攸县",430224:"茶陵县",430225:"炎陵县",430281:"醴陵市",430282:"其它区",430300:"湘潭市",430302:"雨湖区",430304:"岳塘区",430321:"湘潭县",430381:"湘乡市",430382:"韶山市",430383:"其它区",430400:"衡阳市",430405:"珠晖区",430406:"雁峰区",430407:"石鼓区",430408:"蒸湘区",430412:"南岳区",430421:"衡阳县",430422:"衡南县",430423:"衡山县",430424:"衡东县",430426:"祁东县",430481:"耒阳市",430482:"常宁市",430483:"其它区",430500:"邵阳市",430502:"双清区",430503:"大祥区",430511:"北塔区",430521:"邵东县",430522:"新邵县",430523:"邵阳县",430524:"隆回县",430525:"洞口县",430527:"绥宁县",430528:"新宁县",430529:"城步苗族自治县",430581:"武冈市",430582:"其它区",430600:"岳阳市",430602:"岳阳楼区",430603:"云溪区",430611:"君山区",430621:"岳阳县",430623:"华容县",430624:"湘阴县",430626:"平江县",430681:"汨罗市",430682:"临湘市",430683:"其它区",430700:"常德市",430702:"武陵区",430703:"鼎城区",430721:"安乡县",430722:"汉寿县",430723:"澧县",430724:"临澧县",430725:"桃源县",430726:"石门县",430781:"津市市",430782:"其它区",430800:"张家界市",430802:"永定区",430811:"武陵源区",430821:"慈利县",430822:"桑植县",430823:"其它区",430900:"益阳市",430902:"资阳区",430903:"赫山区",430921:"南县",430922:"桃江县",430923:"安化县",430981:"沅江市",430982:"其它区",431e3:"郴州市",431002:"北湖区",431003:"苏仙区",431021:"桂阳县",431022:"宜章县",431023:"永兴县",431024:"嘉禾县",431025:"临武县",431026:"汝城县",431027:"桂东县",431028:"安仁县",431081:"资兴市",431082:"其它区",431100:"永州市",431102:"零陵区",431103:"冷水滩区",431121:"祁阳县",431122:"东安县",431123:"双牌县",431124:"道县",431125:"江永县",431126:"宁远县",431127:"蓝山县",431128:"新田县",431129:"江华瑶族自治县",431130:"其它区",431200:"怀化市",431202:"鹤城区",431221:"中方县",431222:"沅陵县",431223:"辰溪县",431224:"溆浦县",431225:"会同县",431226:"麻阳苗族自治县",431227:"新晃侗族自治县",431228:"芷江侗族自治县",431229:"靖州苗族侗族自治县",431230:"通道侗族自治县",431281:"洪江市",431282:"其它区",431300:"娄底市",431302:"娄星区",431321:"双峰县",431322:"新化县",431381:"冷水江市",431382:"涟源市",431383:"其它区",433100:"湘西土家族苗族自治州",433101:"吉首市",433122:"泸溪县",433123:"凤凰县",433124:"花垣县",433125:"保靖县",433126:"古丈县",433127:"永顺县",433130:"龙山县",433131:"其它区",44e4:"广东省",440100:"广州市",440103:"荔湾区",440104:"越秀区",440105:"海珠区",440106:"天河区",440111:"白云区",440112:"黄埔区",440113:"番禺区",440114:"花都区",440115:"南沙区",440116:"萝岗区",440183:"增城市",440184:"从化市",440189:"其它区",440200:"韶关市",440203:"武江区",440204:"浈江区",440205:"曲江区",440222:"始兴县",440224:"仁化县",440229:"翁源县",440232:"乳源瑶族自治县",440233:"新丰县",440281:"乐昌市",440282:"南雄市",440283:"其它区",440300:"深圳市",440303:"罗湖区",440304:"福田区",440305:"南山区",440306:"宝安区",440307:"龙岗区",440308:"盐田区",440309:"其它区",440320:"光明新区",440321:"坪山新区",440322:"大鹏新区",440323:"龙华新区",440400:"珠海市",440402:"香洲区",440403:"斗门区",440404:"金湾区",440488:"其它区",440500:"汕头市",440507:"龙湖区",440511:"金平区",440512:"濠江区",440513:"潮阳区",440514:"潮南区",440515:"澄海区",440523:"南澳县",440524:"其它区",440600:"佛山市",440604:"禅城区",440605:"南海区",440606:"顺德区",440607:"三水区",440608:"高明区",440609:"其它区",440700:"江门市",440703:"蓬江区",440704:"江海区",440705:"新会区",440781:"台山市",440783:"开平市",440784:"鹤山市",440785:"恩平市",440786:"其它区",440800:"湛江市",440802:"赤坎区",440803:"霞山区",440804:"坡头区",440811:"麻章区",440823:"遂溪县",440825:"徐闻县",440881:"廉江市",440882:"雷州市",440883:"吴川市",440884:"其它区",440900:"茂名市",440902:"茂南区",440903:"茂港区",440923:"电白县",440981:"高州市",440982:"化州市",440983:"信宜市",440984:"其它区",441200:"肇庆市",441202:"端州区",441203:"鼎湖区",441223:"广宁县",441224:"怀集县",441225:"封开县",441226:"德庆县",441283:"高要市",441284:"四会市",441285:"其它区",441300:"惠州市",441302:"惠城区",441303:"惠阳区",441322:"博罗县",441323:"惠东县",441324:"龙门县",441325:"其它区",441400:"梅州市",441402:"梅江区",441421:"梅县",441422:"大埔县",441423:"丰顺县",441424:"五华县",441426:"平远县",441427:"蕉岭县",441481:"兴宁市",441482:"其它区",441500:"汕尾市",441502:"城区",441521:"海丰县",441523:"陆河县",441581:"陆丰市",441582:"其它区",441600:"河源市",441602:"源城区",441621:"紫金县",441622:"龙川县",441623:"连平县",441624:"和平县",441625:"东源县",441626:"其它区",441700:"阳江市",441702:"江城区",441721:"阳西县",441723:"阳东县",441781:"阳春市",441782:"其它区",441800:"清远市",441802:"清城区",441821:"佛冈县",441823:"阳山县",441825:"连山壮族瑶族自治县",441826:"连南瑶族自治县",441827:"清新区",441881:"英德市",441882:"连州市",441883:"其它区",441900:"东莞市",442e3:"中山市",442101:"东沙群岛",445100:"潮州市",445102:"湘桥区",445121:"潮安区",445122:"饶平县",445186:"其它区",445200:"揭阳市",445202:"榕城区",445221:"揭东区",445222:"揭西县",445224:"惠来县",445281:"普宁市",445285:"其它区",445300:"云浮市",445302:"云城区",445321:"新兴县",445322:"郁南县",445323:"云安县",445381:"罗定市",445382:"其它区",45e4:"广西壮族自治区",450100:"南宁市",450102:"兴宁区",450103:"青秀区",450105:"江南区",450107:"西乡塘区",450108:"良庆区",450109:"邕宁区",450122:"武鸣县",450123:"隆安县",450124:"马山县",450125:"上林县",450126:"宾阳县",450127:"横县",450128:"其它区",450200:"柳州市",450202:"城中区",450203:"鱼峰区",450204:"柳南区",450205:"柳北区",450221:"柳江县",450222:"柳城县",450223:"鹿寨县",450224:"融安县",450225:"融水苗族自治县",450226:"三江侗族自治县",450227:"其它区",450300:"桂林市",450302:"秀峰区",450303:"叠彩区",450304:"象山区",450305:"七星区",450311:"雁山区",450321:"阳朔县",450322:"临桂区",450323:"灵川县",450324:"全州县",450325:"兴安县",450326:"永福县",450327:"灌阳县",450328:"龙胜各族自治县",450329:"资源县",450330:"平乐县",450331:"荔浦县",450332:"恭城瑶族自治县",450333:"其它区",450400:"梧州市",450403:"万秀区",450405:"长洲区",450406:"龙圩区",450421:"苍梧县",450422:"藤县",450423:"蒙山县",450481:"岑溪市",450482:"其它区",450500:"北海市",450502:"海城区",450503:"银海区",450512:"铁山港区",450521:"合浦县",450522:"其它区",450600:"防城港市",450602:"港口区",450603:"防城区",450621:"上思县",450681:"东兴市",450682:"其它区",450700:"钦州市",450702:"钦南区",450703:"钦北区",450721:"灵山县",450722:"浦北县",450723:"其它区",450800:"贵港市",450802:"港北区",450803:"港南区",450804:"覃塘区",450821:"平南县",450881:"桂平市",450882:"其它区",450900:"玉林市",450902:"玉州区",450903:"福绵区",450921:"容县",450922:"陆川县",450923:"博白县",450924:"兴业县",450981:"北流市",450982:"其它区",451e3:"百色市",451002:"右江区",451021:"田阳县",451022:"田东县",451023:"平果县",451024:"德保县",451025:"靖西县",451026:"那坡县",451027:"凌云县",451028:"乐业县",451029:"田林县",451030:"西林县",451031:"隆林各族自治县",451032:"其它区",451100:"贺州市",451102:"八步区",451119:"平桂管理区",451121:"昭平县",451122:"钟山县",451123:"富川瑶族自治县",451124:"其它区",451200:"河池市",451202:"金城江区",451221:"南丹县",451222:"天峨县",451223:"凤山县",451224:"东兰县",451225:"罗城仫佬族自治县",451226:"环江毛南族自治县",451227:"巴马瑶族自治县",451228:"都安瑶族自治县",451229:"大化瑶族自治县",451281:"宜州市",451282:"其它区",451300:"来宾市",451302:"兴宾区",451321:"忻城县",451322:"象州县",451323:"武宣县",451324:"金秀瑶族自治县",451381:"合山市",451382:"其它区",451400:"崇左市",451402:"江州区",451421:"扶绥县",451422:"宁明县",451423:"龙州县",451424:"大新县",451425:"天等县",451481:"凭祥市",451482:"其它区",46e4:"海南省",460100:"海口市",460105:"秀英区",460106:"龙华区",460107:"琼山区",460108:"美兰区",460109:"其它区",460200:"三亚市",460300:"三沙市",460321:"西沙群岛",460322:"南沙群岛",460323:"中沙群岛的岛礁及其海域",469001:"五指山市",469002:"琼海市",469003:"儋州市",469005:"文昌市",469006:"万宁市",469007:"东方市",469025:"定安县",469026:"屯昌县",469027:"澄迈县",469028:"临高县",469030:"白沙黎族自治县",469031:"昌江黎族自治县",469033:"乐东黎族自治县",469034:"陵水黎族自治县",469035:"保亭黎族苗族自治县",469036:"琼中黎族苗族自治县",471005:"其它区",5e5:"重庆",500100:"重庆市",500101:"万州区",500102:"涪陵区",500103:"渝中区",500104:"大渡口区",500105:"江北区",500106:"沙坪坝区",500107:"九龙坡区",500108:"南岸区",500109:"北碚区",500110:"万盛区",500111:"双桥区",500112:"渝北区",500113:"巴南区",500114:"黔江区",500115:"长寿区",500222:"綦江区",500223:"潼南县",500224:"铜梁县",500225:"大足区",500226:"荣昌县",500227:"璧山县",500228:"梁平县",500229:"城口县",500230:"丰都县",500231:"垫江县",500232:"武隆县",500233:"忠县",500234:"开县",500235:"云阳县",500236:"奉节县",500237:"巫山县",500238:"巫溪县",500240:"石柱土家族自治县",500241:"秀山土家族苗族自治县",500242:"酉阳土家族苗族自治县",500243:"彭水苗族土家族自治县",500381:"江津区",500382:"合川区",500383:"永川区",500384:"南川区",500385:"其它区",51e4:"四川省",510100:"成都市",510104:"锦江区",510105:"青羊区",510106:"金牛区",510107:"武侯区",510108:"成华区",510112:"龙泉驿区",510113:"青白江区",510114:"新都区",510115:"温江区",510121:"金堂县",510122:"双流县",510124:"郫县",510129:"大邑县",510131:"蒲江县",510132:"新津县",510181:"都江堰市",510182:"彭州市",510183:"邛崃市",510184:"崇州市",510185:"其它区",510300:"自贡市",510302:"自流井区",510303:"贡井区",510304:"大安区",510311:"沿滩区",510321:"荣县",510322:"富顺县",510323:"其它区",510400:"攀枝花市",510402:"东区",510403:"西区",510411:"仁和区",510421:"米易县",510422:"盐边县",510423:"其它区",510500:"泸州市",510502:"江阳区",510503:"纳溪区",510504:"龙马潭区",510521:"泸县",510522:"合江县",510524:"叙永县",510525:"古蔺县",510526:"其它区",510600:"德阳市",510603:"旌阳区",510623:"中江县",510626:"罗江县",510681:"广汉市",510682:"什邡市",510683:"绵竹市",510684:"其它区",510700:"绵阳市",510703:"涪城区",510704:"游仙区",510722:"三台县",510723:"盐亭县",510724:"安县",510725:"梓潼县",510726:"北川羌族自治县",510727:"平武县",510781:"江油市",510782:"其它区",510800:"广元市",510802:"利州区",510811:"昭化区",510812:"朝天区",510821:"旺苍县",510822:"青川县",510823:"剑阁县",510824:"苍溪县",510825:"其它区",510900:"遂宁市",510903:"船山区",510904:"安居区",510921:"蓬溪县",510922:"射洪县",510923:"大英县",510924:"其它区",511e3:"内江市",511002:"市中区",511011:"东兴区",511024:"威远县",511025:"资中县",511028:"隆昌县",511029:"其它区",511100:"乐山市",511102:"市中区",511111:"沙湾区",511112:"五通桥区",511113:"金口河区",511123:"犍为县",511124:"井研县",511126:"夹江县",511129:"沐川县",511132:"峨边彝族自治县",511133:"马边彝族自治县",511181:"峨眉山市",511182:"其它区",511300:"南充市",511302:"顺庆区",511303:"高坪区",511304:"嘉陵区",511321:"南部县",511322:"营山县",511323:"蓬安县",511324:"仪陇县",511325:"西充县",511381:"阆中市",511382:"其它区",511400:"眉山市",511402:"东坡区",511421:"仁寿县",511422:"彭山县",511423:"洪雅县",511424:"丹棱县",511425:"青神县",511426:"其它区",511500:"宜宾市",511502:"翠屏区",511521:"宜宾县",511522:"南溪区",511523:"江安县",511524:"长宁县",511525:"高县",511526:"珙县",511527:"筠连县",511528:"兴文县",511529:"屏山县",511530:"其它区",511600:"广安市",511602:"广安区",511603:"前锋区",511621:"岳池县",511622:"武胜县",511623:"邻水县",511681:"华蓥市",511683:"其它区",511700:"达州市",511702:"通川区",511721:"达川区",511722:"宣汉县",511723:"开江县",511724:"大竹县",511725:"渠县",511781:"万源市",511782:"其它区",511800:"雅安市",511802:"雨城区",511821:"名山区",511822:"荥经县",511823:"汉源县",511824:"石棉县",511825:"天全县",511826:"芦山县",511827:"宝兴县",511828:"其它区",511900:"巴中市",511902:"巴州区",511903:"恩阳区",511921:"通江县",511922:"南江县",511923:"平昌县",511924:"其它区",512e3:"资阳市",512002:"雁江区",512021:"安岳县",512022:"乐至县",512081:"简阳市",512082:"其它区",513200:"阿坝藏族羌族自治州",513221:"汶川县",513222:"理县",513223:"茂县",513224:"松潘县",513225:"九寨沟县",513226:"金川县",513227:"小金县",513228:"黑水县",513229:"马尔康县",513230:"壤塘县",513231:"阿坝县",513232:"若尔盖县",513233:"红原县",513234:"其它区",513300:"甘孜藏族自治州",513321:"康定县",513322:"泸定县",513323:"丹巴县",513324:"九龙县",513325:"雅江县",513326:"道孚县",513327:"炉霍县",513328:"甘孜县",513329:"新龙县",513330:"德格县",513331:"白玉县",513332:"石渠县",513333:"色达县",513334:"理塘县",513335:"巴塘县",513336:"乡城县",513337:"稻城县",513338:"得荣县",513339:"其它区",513400:"凉山彝族自治州",513401:"西昌市",513422:"木里藏族自治县",513423:"盐源县",513424:"德昌县",513425:"会理县",513426:"会东县",513427:"宁南县",513428:"普格县",513429:"布拖县",513430:"金阳县",513431:"昭觉县",513432:"喜德县",513433:"冕宁县",513434:"越西县",513435:"甘洛县",513436:"美姑县",513437:"雷波县",513438:"其它区",52e4:"贵州省",520100:"贵阳市",520102:"南明区",520103:"云岩区",520111:"花溪区",520112:"乌当区",520113:"白云区",520121:"开阳县",520122:"息烽县",520123:"修文县",520151:"观山湖区",520181:"清镇市",520182:"其它区",520200:"六盘水市",520201:"钟山区",520203:"六枝特区",520221:"水城县",520222:"盘县",520223:"其它区",520300:"遵义市",520302:"红花岗区",520303:"汇川区",520321:"遵义县",520322:"桐梓县",520323:"绥阳县",520324:"正安县",520325:"道真仡佬族苗族自治县",520326:"务川仡佬族苗族自治县",520327:"凤冈县",520328:"湄潭县",520329:"余庆县",520330:"习水县",520381:"赤水市",520382:"仁怀市",520383:"其它区",520400:"安顺市",520402:"西秀区",520421:"平坝县",520422:"普定县",520423:"镇宁布依族苗族自治县",520424:"关岭布依族苗族自治县",520425:"紫云苗族布依族自治县",520426:"其它区",522200:"铜仁市",522201:"碧江区",522222:"江口县",522223:"玉屏侗族自治县",522224:"石阡县",522225:"思南县",522226:"印江土家族苗族自治县",522227:"德江县",522228:"沿河土家族自治县",522229:"松桃苗族自治县",522230:"万山区",522231:"其它区",522300:"黔西南布依族苗族自治州",522301:"兴义市",522322:"兴仁县",522323:"普安县",522324:"晴隆县",522325:"贞丰县",522326:"望谟县",522327:"册亨县",522328:"安龙县",522329:"其它区",522400:"毕节市",522401:"七星关区",522422:"大方县",522423:"黔西县",522424:"金沙县",522425:"织金县",522426:"纳雍县",522427:"威宁彝族回族苗族自治县",522428:"赫章县",522429:"其它区",522600:"黔东南苗族侗族自治州",522601:"凯里市",522622:"黄平县",522623:"施秉县",522624:"三穗县",522625:"镇远县",522626:"岑巩县",522627:"天柱县",522628:"锦屏县",522629:"剑河县",522630:"台江县",522631:"黎平县",522632:"榕江县",522633:"从江县",522634:"雷山县",522635:"麻江县",522636:"丹寨县",522637:"其它区",522700:"黔南布依族苗族自治州",522701:"都匀市",522702:"福泉市",522722:"荔波县",522723:"贵定县",522725:"瓮安县",522726:"独山县",522727:"平塘县",522728:"罗甸县",522729:"长顺县",522730:"龙里县",522731:"惠水县",522732:"三都水族自治县",522733:"其它区",53e4:"云南省",530100:"昆明市",530102:"五华区",530103:"盘龙区",530111:"官渡区",530112:"西山区",530113:"东川区",530121:"呈贡区",530122:"晋宁县",530124:"富民县",530125:"宜良县",530126:"石林彝族自治县",530127:"嵩明县",530128:"禄劝彝族苗族自治县",530129:"寻甸回族彝族自治县",530181:"安宁市",530182:"其它区",530300:"曲靖市",530302:"麒麟区",530321:"马龙县",530322:"陆良县",530323:"师宗县",530324:"罗平县",530325:"富源县",530326:"会泽县",530328:"沾益县",530381:"宣威市",530382:"其它区",530400:"玉溪市",530402:"红塔区",530421:"江川县",530422:"澄江县",530423:"通海县",530424:"华宁县",530425:"易门县",530426:"峨山彝族自治县",530427:"新平彝族傣族自治县",530428:"元江哈尼族彝族傣族自治县",530429:"其它区",530500:"保山市",530502:"隆阳区",530521:"施甸县",530522:"腾冲县",530523:"龙陵县",530524:"昌宁县",530525:"其它区",530600:"昭通市",530602:"昭阳区",530621:"鲁甸县",530622:"巧家县",530623:"盐津县",530624:"大关县",530625:"永善县",530626:"绥江县",530627:"镇雄县",530628:"彝良县",530629:"威信县",530630:"水富县",530631:"其它区",530700:"丽江市",530702:"古城区",530721:"玉龙纳西族自治县",530722:"永胜县",530723:"华坪县",530724:"宁蒗彝族自治县",530725:"其它区",530800:"普洱市",530802:"思茅区",530821:"宁洱哈尼族彝族自治县",530822:"墨江哈尼族自治县",530823:"景东彝族自治县",530824:"景谷傣族彝族自治县",530825:"镇沅彝族哈尼族拉祜族自治县",530826:"江城哈尼族彝族自治县",530827:"孟连傣族拉祜族佤族自治县",530828:"澜沧拉祜族自治县",530829:"西盟佤族自治县",530830:"其它区",530900:"临沧市",530902:"临翔区",530921:"凤庆县",530922:"云县",530923:"永德县",530924:"镇康县",530925:"双江拉祜族佤族布朗族傣族自治县",530926:"耿马傣族佤族自治县",530927:"沧源佤族自治县",530928:"其它区",532300:"楚雄彝族自治州",532301:"楚雄市",532322:"双柏县",532323:"牟定县",532324:"南华县",532325:"姚安县",532326:"大姚县",532327:"永仁县",532328:"元谋县",532329:"武定县",532331:"禄丰县",532332:"其它区",532500:"红河哈尼族彝族自治州",532501:"个旧市",532502:"开远市",532522:"蒙自市",532523:"屏边苗族自治县",532524:"建水县",532525:"石屏县",532526:"弥勒市",532527:"泸西县",532528:"元阳县",532529:"红河县",532530:"金平苗族瑶族傣族自治县",532531:"绿春县",532532:"河口瑶族自治县",532533:"其它区",532600:"文山壮族苗族自治州",532621:"文山市",532622:"砚山县",532623:"西畴县",532624:"麻栗坡县",532625:"马关县",532626:"丘北县",532627:"广南县",532628:"富宁县",532629:"其它区",532800:"西双版纳傣族自治州",532801:"景洪市",532822:"勐海县",532823:"勐腊县",532824:"其它区",532900:"大理白族自治州",532901:"大理市",532922:"漾濞彝族自治县",532923:"祥云县",532924:"宾川县",532925:"弥渡县",532926:"南涧彝族自治县",532927:"巍山彝族回族自治县",532928:"永平县",532929:"云龙县",532930:"洱源县",532931:"剑川县",532932:"鹤庆县",532933:"其它区",533100:"德宏傣族景颇族自治州",533102:"瑞丽市",533103:"芒市",533122:"梁河县",533123:"盈江县",533124:"陇川县",533125:"其它区",533300:"怒江傈僳族自治州",533321:"泸水县",533323:"福贡县",533324:"贡山独龙族怒族自治县",533325:"兰坪白族普米族自治县",533326:"其它区",533400:"迪庆藏族自治州",533421:"香格里拉县",533422:"德钦县",533423:"维西傈僳族自治县",533424:"其它区",54e4:"西藏自治区",540100:"拉萨市",540102:"城关区",540121:"林周县",540122:"当雄县",540123:"尼木县",540124:"曲水县",540125:"堆龙德庆县",540126:"达孜县",540127:"墨竹工卡县",540128:"其它区",542100:"昌都地区",542121:"昌都县",542122:"江达县",542123:"贡觉县",542124:"类乌齐县",542125:"丁青县",542126:"察雅县",542127:"八宿县",542128:"左贡县",542129:"芒康县",542132:"洛隆县",542133:"边坝县",542134:"其它区",542200:"山南地区",542221:"乃东县",542222:"扎囊县",542223:"贡嘎县",542224:"桑日县",542225:"琼结县",542226:"曲松县",542227:"措美县",542228:"洛扎县",542229:"加查县",542231:"隆子县",542232:"错那县",542233:"浪卡子县",542234:"其它区",542300:"日喀则地区",542301:"日喀则市",542322:"南木林县",542323:"江孜县",542324:"定日县",542325:"萨迦县",542326:"拉孜县",542327:"昂仁县",542328:"谢通门县",542329:"白朗县",542330:"仁布县",542331:"康马县",542332:"定结县",542333:"仲巴县",542334:"亚东县",542335:"吉隆县",542336:"聂拉木县",542337:"萨嘎县",542338:"岗巴县",542339:"其它区",542400:"那曲地区",542421:"那曲县",542422:"嘉黎县",542423:"比如县",542424:"聂荣县",542425:"安多县",542426:"申扎县",542427:"索县",542428:"班戈县",542429:"巴青县",542430:"尼玛县",542431:"其它区",542432:"双湖县",542500:"阿里地区",542521:"普兰县",542522:"札达县",542523:"噶尔县",542524:"日土县",542525:"革吉县",542526:"改则县",542527:"措勤县",542528:"其它区",542600:"林芝地区",542621:"林芝县",542622:"工布江达县",542623:"米林县",542624:"墨脱县",542625:"波密县",542626:"察隅县",542627:"朗县",542628:"其它区",61e4:"陕西省",610100:"西安市",610102:"新城区",610103:"碑林区",610104:"莲湖区",610111:"灞桥区",610112:"未央区",610113:"雁塔区",610114:"阎良区",610115:"临潼区",610116:"长安区",610122:"蓝田县",610124:"周至县",610125:"户县",610126:"高陵县",610127:"其它区",610200:"铜川市",610202:"王益区",610203:"印台区",610204:"耀州区",610222:"宜君县",610223:"其它区",610300:"宝鸡市",610302:"渭滨区",610303:"金台区",610304:"陈仓区",610322:"凤翔县",610323:"岐山县",610324:"扶风县",610326:"眉县",610327:"陇县",610328:"千阳县",610329:"麟游县",610330:"凤县",610331:"太白县",610332:"其它区",610400:"咸阳市",610402:"秦都区",610403:"杨陵区",610404:"渭城区",610422:"三原县",610423:"泾阳县",610424:"乾县",610425:"礼泉县",610426:"永寿县",610427:"彬县",610428:"长武县",610429:"旬邑县",610430:"淳化县",610431:"武功县",610481:"兴平市",610482:"其它区",610500:"渭南市",610502:"临渭区",610521:"华县",610522:"潼关县",610523:"大荔县",610524:"合阳县",610525:"澄城县",610526:"蒲城县",610527:"白水县",610528:"富平县",610581:"韩城市",610582:"华阴市",610583:"其它区",610600:"延安市",610602:"宝塔区",610621:"延长县",610622:"延川县",610623:"子长县",610624:"安塞县",610625:"志丹县",610626:"吴起县",610627:"甘泉县",610628:"富县",610629:"洛川县",610630:"宜川县",610631:"黄龙县",610632:"黄陵县",610633:"其它区",610700:"汉中市",610702:"汉台区",610721:"南郑县",610722:"城固县",610723:"洋县",610724:"西乡县",610725:"勉县",610726:"宁强县",610727:"略阳县",610728:"镇巴县",610729:"留坝县",610730:"佛坪县",610731:"其它区",610800:"榆林市",610802:"榆阳区",610821:"神木县",610822:"府谷县",610823:"横山县",610824:"靖边县",610825:"定边县",610826:"绥德县",610827:"米脂县",610828:"佳县",610829:"吴堡县",610830:"清涧县",610831:"子洲县",610832:"其它区",610900:"安康市",610902:"汉滨区",610921:"汉阴县",610922:"石泉县",610923:"宁陕县",610924:"紫阳县",610925:"岚皋县",610926:"平利县",610927:"镇坪县",610928:"旬阳县",610929:"白河县",610930:"其它区",611e3:"商洛市",611002:"商州区",611021:"洛南县",611022:"丹凤县",611023:"商南县",611024:"山阳县",611025:"镇安县",611026:"柞水县",611027:"其它区",62e4:"甘肃省",620100:"兰州市",620102:"城关区",620103:"七里河区",620104:"西固区",620105:"安宁区",620111:"红古区",620121:"永登县",620122:"皋兰县",620123:"榆中县",620124:"其它区",620200:"嘉峪关市",620300:"金昌市",620302:"金川区",620321:"永昌县",620322:"其它区",620400:"白银市",620402:"白银区",620403:"平川区",620421:"靖远县",620422:"会宁县",620423:"景泰县",620424:"其它区",620500:"天水市",620502:"秦州区",620503:"麦积区",620521:"清水县",620522:"秦安县",620523:"甘谷县",620524:"武山县",620525:"张家川回族自治县",620526:"其它区",620600:"武威市",620602:"凉州区",620621:"民勤县",620622:"古浪县",620623:"天祝藏族自治县",620624:"其它区",620700:"张掖市",620702:"甘州区",620721:"肃南裕固族自治县",620722:"民乐县",620723:"临泽县",620724:"高台县",620725:"山丹县",620726:"其它区",620800:"平凉市",620802:"崆峒区",620821:"泾川县",620822:"灵台县",620823:"崇信县",620824:"华亭县",620825:"庄浪县",620826:"静宁县",620827:"其它区",620900:"酒泉市",620902:"肃州区",620921:"金塔县",620922:"瓜州县",620923:"肃北蒙古族自治县",620924:"阿克塞哈萨克族自治县",620981:"玉门市",620982:"敦煌市",620983:"其它区",621e3:"庆阳市",621002:"西峰区",621021:"庆城县",621022:"环县",621023:"华池县",621024:"合水县",621025:"正宁县",621026:"宁县",621027:"镇原县",621028:"其它区",621100:"定西市",621102:"安定区",621121:"通渭县",621122:"陇西县",621123:"渭源县",621124:"临洮县",621125:"漳县",621126:"岷县",621127:"其它区",621200:"陇南市",621202:"武都区",621221:"成县",621222:"文县",621223:"宕昌县",621224:"康县",621225:"西和县",621226:"礼县",621227:"徽县",621228:"两当县",621229:"其它区",622900:"临夏回族自治州",622901:"临夏市",622921:"临夏县",622922:"康乐县",622923:"永靖县",622924:"广河县",622925:"和政县",622926:"东乡族自治县",622927:"积石山保安族东乡族撒拉族自治县",622928:"其它区",623e3:"甘南藏族自治州",623001:"合作市",623021:"临潭县",623022:"卓尼县",623023:"舟曲县",623024:"迭部县",623025:"玛曲县",623026:"碌曲县",623027:"夏河县",623028:"其它区",63e4:"青海省",630100:"西宁市",630102:"城东区",630103:"城中区",630104:"城西区",630105:"城北区",630121:"大通回族土族自治县",630122:"湟中县",630123:"湟源县",630124:"其它区",632100:"海东市",632121:"平安县",632122:"民和回族土族自治县",632123:"乐都区",632126:"互助土族自治县",632127:"化隆回族自治县",632128:"循化撒拉族自治县",632129:"其它区",632200:"海北藏族自治州",632221:"门源回族自治县",632222:"祁连县",632223:"海晏县",632224:"刚察县",632225:"其它区",632300:"黄南藏族自治州",632321:"同仁县",632322:"尖扎县",632323:"泽库县",632324:"河南蒙古族自治县",632325:"其它区",632500:"海南藏族自治州",632521:"共和县",632522:"同德县",632523:"贵德县",632524:"兴海县",632525:"贵南县",632526:"其它区",632600:"果洛藏族自治州",632621:"玛沁县",632622:"班玛县",632623:"甘德县",632624:"达日县",632625:"久治县",632626:"玛多县",632627:"其它区",632700:"玉树藏族自治州",632721:"玉树市",632722:"杂多县",632723:"称多县",632724:"治多县",632725:"囊谦县",632726:"曲麻莱县",632727:"其它区",632800:"海西蒙古族藏族自治州",632801:"格尔木市",632802:"德令哈市",632821:"乌兰县",632822:"都兰县",632823:"天峻县",632824:"其它区",64e4:"宁夏回族自治区",640100:"银川市",640104:"兴庆区",640105:"西夏区",640106:"金凤区",640121:"永宁县",640122:"贺兰县",640181:"灵武市",640182:"其它区",640200:"石嘴山市",640202:"大武口区",640205:"惠农区",640221:"平罗县",640222:"其它区",640300:"吴忠市",640302:"利通区",640303:"红寺堡区",640323:"盐池县",640324:"同心县",640381:"青铜峡市",640382:"其它区",640400:"固原市",640402:"原州区",640422:"西吉县",640423:"隆德县",640424:"泾源县",640425:"彭阳县",640426:"其它区",640500:"中卫市",640502:"沙坡头区",640521:"中宁县",640522:"海原县",640523:"其它区",65e4:"新疆维吾尔自治区",650100:"乌鲁木齐市",650102:"天山区",650103:"沙依巴克区",650104:"新市区",650105:"水磨沟区",650106:"头屯河区",650107:"达坂城区",650109:"米东区",650121:"乌鲁木齐县",650122:"其它区",650200:"克拉玛依市",650202:"独山子区",650203:"克拉玛依区",650204:"白碱滩区",650205:"乌尔禾区",650206:"其它区",652100:"吐鲁番地区",652101:"吐鲁番市",652122:"鄯善县",652123:"托克逊县",652124:"其它区",652200:"哈密地区",652201:"哈密市",652222:"巴里坤哈萨克自治县",652223:"伊吾县",652224:"其它区",652300:"昌吉回族自治州",652301:"昌吉市",652302:"阜康市",652323:"呼图壁县",652324:"玛纳斯县",652325:"奇台县",652327:"吉木萨尔县",652328:"木垒哈萨克自治县",652329:"其它区",652700:"博尔塔拉蒙古自治州",652701:"博乐市",652702:"阿拉山口市",652722:"精河县",652723:"温泉县",652724:"其它区",652800:"巴音郭楞蒙古自治州",652801:"库尔勒市",652822:"轮台县",652823:"尉犁县",652824:"若羌县",652825:"且末县",652826:"焉耆回族自治县",652827:"和静县",652828:"和硕县",652829:"博湖县",652830:"其它区",652900:"阿克苏地区",652901:"阿克苏市",652922:"温宿县",652923:"库车县",652924:"沙雅县",652925:"新和县",652926:"拜城县",652927:"乌什县",652928:"阿瓦提县",652929:"柯坪县",652930:"其它区",653e3:"克孜勒苏柯尔克孜自治州",653001:"阿图什市",653022:"阿克陶县",653023:"阿合奇县",653024:"乌恰县",653025:"其它区",653100:"喀什地区",653101:"喀什市",653121:"疏附县",653122:"疏勒县",653123:"英吉沙县",653124:"泽普县",653125:"莎车县",653126:"叶城县",653127:"麦盖提县",653128:"岳普湖县",653129:"伽师县",653130:"巴楚县",653131:"塔什库尔干塔吉克自治县",653132:"其它区",653200:"和田地区",653201:"和田市",653221:"和田县",653222:"墨玉县",653223:"皮山县",653224:"洛浦县",653225:"策勒县",653226:"于田县",653227:"民丰县",653228:"其它区",654e3:"伊犁哈萨克自治州",654002:"伊宁市",654003:"奎屯市",654021:"伊宁县",654022:"察布查尔锡伯自治县",654023:"霍城县",654024:"巩留县",654025:"新源县",654026:"昭苏县",654027:"特克斯县",654028:"尼勒克县",654029:"其它区",654200:"塔城地区",654201:"塔城市",654202:"乌苏市",654221:"额敏县",654223:"沙湾县",654224:"托里县",654225:"裕民县",654226:"和布克赛尔蒙古自治县",654227:"其它区",654300:"阿勒泰地区",654301:"阿勒泰市",654321:"布尔津县",654322:"富蕴县",654323:"福海县",654324:"哈巴河县",654325:"青河县",654326:"吉木乃县",654327:"其它区",659001:"石河子市",659002:"阿拉尔市",659003:"图木舒克市",659004:"五家渠市",71e4:"台湾",710100:"台北市",710101:"中正区",710102:"大同区",710103:"中山区",710104:"松山区",710105:"大安区",710106:"万华区",710107:"信义区",710108:"士林区",710109:"北投区",710110:"内湖区",710111:"南港区",710112:"文山区",710113:"其它区",710200:"高雄市",710201:"新兴区",710202:"前金区",710203:"芩雅区",710204:"盐埕区",710205:"鼓山区",710206:"旗津区",710207:"前镇区",710208:"三民区",710209:"左营区",710210:"楠梓区",710211:"小港区",710212:"其它区",710241:"苓雅区",710242:"仁武区",710243:"大社区",710244:"冈山区",710245:"路竹区",710246:"阿莲区",710247:"田寮区",710248:"燕巢区",710249:"桥头区",710250:"梓官区",710251:"弥陀区",710252:"永安区",710253:"湖内区",710254:"凤山区",710255:"大寮区",710256:"林园区",710257:"鸟松区",710258:"大树区",710259:"旗山区",710260:"美浓区",710261:"六龟区",710262:"内门区",710263:"杉林区",710264:"甲仙区",710265:"桃源区",710266:"那玛夏区",710267:"茂林区",710268:"茄萣区",710300:"台南市",710301:"中西区",710302:"东区",710303:"南区",710304:"北区",710305:"安平区",710306:"安南区",710307:"其它区",710339:"永康区",710340:"归仁区",710341:"新化区",710342:"左镇区",710343:"玉井区",710344:"楠西区",710345:"南化区",710346:"仁德区",710347:"关庙区",710348:"龙崎区",710349:"官田区",710350:"麻豆区",710351:"佳里区",710352:"西港区",710353:"七股区",710354:"将军区",710355:"学甲区",710356:"北门区",710357:"新营区",710358:"后壁区",710359:"白河区",710360:"东山区",710361:"六甲区",710362:"下营区",710363:"柳营区",710364:"盐水区",710365:"善化区",710366:"大内区",710367:"山上区",710368:"新市区",710369:"安定区",710400:"台中市",710401:"中区",710402:"东区",710403:"南区",710404:"西区",710405:"北区",710406:"北屯区",710407:"西屯区",710408:"南屯区",710409:"其它区",710431:"太平区",710432:"大里区",710433:"雾峰区",710434:"乌日区",710435:"丰原区",710436:"后里区",710437:"石冈区",710438:"东势区",710439:"和平区",710440:"新社区",710441:"潭子区",710442:"大雅区",710443:"神冈区",710444:"大肚区",710445:"沙鹿区",710446:"龙井区",710447:"梧栖区",710448:"清水区",710449:"大甲区",710450:"外埔区",710451:"大安区",710500:"金门县",710507:"金沙镇",710508:"金湖镇",710509:"金宁乡",710510:"金城镇",710511:"烈屿乡",710512:"乌坵乡",710600:"南投县",710614:"南投市",710615:"中寮乡",710616:"草屯镇",710617:"国姓乡",710618:"埔里镇",710619:"仁爱乡",710620:"名间乡",710621:"集集镇",710622:"水里乡",710623:"鱼池乡",710624:"信义乡",710625:"竹山镇",710626:"鹿谷乡",710700:"基隆市",710701:"仁爱区",710702:"信义区",710703:"中正区",710704:"中山区",710705:"安乐区",710706:"暖暖区",710707:"七堵区",710708:"其它区",710800:"新竹市",710801:"东区",710802:"北区",710803:"香山区",710804:"其它区",710900:"嘉义市",710901:"东区",710902:"西区",710903:"其它区",711100:"新北市",711130:"万里区",711131:"金山区",711132:"板桥区",711133:"汐止区",711134:"深坑区",711135:"石碇区",711136:"瑞芳区",711137:"平溪区",711138:"双溪区",711139:"贡寮区",711140:"新店区",711141:"坪林区",711142:"乌来区",711143:"永和区",711144:"中和区",711145:"土城区",711146:"三峡区",711147:"树林区",711148:"莺歌区",711149:"三重区",711150:"新庄区",711151:"泰山区",711152:"林口区",711153:"芦洲区",711154:"五股区",711155:"八里区",711156:"淡水区",711157:"三芝区",711158:"石门区",711200:"宜兰县",711214:"宜兰市",711215:"头城镇",711216:"礁溪乡",711217:"壮围乡",711218:"员山乡",711219:"罗东镇",711220:"三星乡",711221:"大同乡",711222:"五结乡",711223:"冬山乡",711224:"苏澳镇",711225:"南澳乡",711226:"钓鱼台",711300:"新竹县",711314:"竹北市",711315:"湖口乡",711316:"新丰乡",711317:"新埔镇",711318:"关西镇",711319:"芎林乡",711320:"宝山乡",711321:"竹东镇",711322:"五峰乡",711323:"横山乡",711324:"尖石乡",711325:"北埔乡",711326:"峨眉乡",711400:"桃园县",711414:"中坜市",711415:"平镇市",711416:"龙潭乡",711417:"杨梅市",711418:"新屋乡",711419:"观音乡",711420:"桃园市",711421:"龟山乡",711422:"八德市",711423:"大溪镇",711424:"复兴乡",711425:"大园乡",711426:"芦竹乡",711500:"苗栗县",711519:"竹南镇",711520:"头份镇",711521:"三湾乡",711522:"南庄乡",711523:"狮潭乡",711524:"后龙镇",711525:"通霄镇",711526:"苑里镇",711527:"苗栗市",711528:"造桥乡",711529:"头屋乡",711530:"公馆乡",711531:"大湖乡",711532:"泰安乡",711533:"铜锣乡",711534:"三义乡",711535:"西湖乡",711536:"卓兰镇",711700:"彰化县",711727:"彰化市",711728:"芬园乡",711729:"花坛乡",711730:"秀水乡",711731:"鹿港镇",711732:"福兴乡",711733:"线西乡",711734:"和美镇",711735:"伸港乡",711736:"员林镇",711737:"社头乡",711738:"永靖乡",711739:"埔心乡",711740:"溪湖镇",711741:"大村乡",711742:"埔盐乡",711743:"田中镇",711744:"北斗镇",711745:"田尾乡",711746:"埤头乡",711747:"溪州乡",711748:"竹塘乡",711749:"二林镇",711750:"大城乡",711751:"芳苑乡",711752:"二水乡",711900:"嘉义县",711919:"番路乡",711920:"梅山乡",711921:"竹崎乡",711922:"阿里山乡",711923:"中埔乡",711924:"大埔乡",711925:"水上乡",711926:"鹿草乡",711927:"太保市",711928:"朴子市",711929:"东石乡",711930:"六脚乡",711931:"新港乡",711932:"民雄乡",711933:"大林镇",711934:"溪口乡",711935:"义竹乡",711936:"布袋镇",712100:"云林县",712121:"斗南镇",712122:"大埤乡",712123:"虎尾镇",712124:"土库镇",712125:"褒忠乡",712126:"东势乡",712127:"台西乡",712128:"仑背乡",712129:"麦寮乡",712130:"斗六市",712131:"林内乡",712132:"古坑乡",712133:"莿桐乡",712134:"西螺镇",712135:"二仑乡",712136:"北港镇",712137:"水林乡",712138:"口湖乡",712139:"四湖乡",712140:"元长乡",712400:"屏东县",712434:"屏东市",712435:"三地门乡",712436:"雾台乡",712437:"玛家乡",712438:"九如乡",712439:"里港乡",712440:"高树乡",712441:"盐埔乡",712442:"长治乡",712443:"麟洛乡",712444:"竹田乡",712445:"内埔乡",712446:"万丹乡",712447:"潮州镇",712448:"泰武乡",712449:"来义乡",712450:"万峦乡",712451:"崁顶乡",712452:"新埤乡",712453:"南州乡",712454:"林边乡",712455:"东港镇",712456:"琉球乡",712457:"佳冬乡",712458:"新园乡",712459:"枋寮乡",712460:"枋山乡",712461:"春日乡",712462:"狮子乡",712463:"车城乡",712464:"牡丹乡",712465:"恒春镇",712466:"满州乡",712500:"台东县",712517:"台东市",712518:"绿岛乡",712519:"兰屿乡",712520:"延平乡",712521:"卑南乡",712522:"鹿野乡",712523:"关山镇",712524:"海端乡",712525:"池上乡",712526:"东河乡",712527:"成功镇",712528:"长滨乡",712529:"金峰乡",712530:"大武乡",712531:"达仁乡",712532:"太麻里乡",712600:"花莲县",712615:"花莲市",712616:"新城乡",712617:"太鲁阁",712618:"秀林乡",712619:"吉安乡",712620:"寿丰乡",712621:"凤林镇",712622:"光复乡",712623:"丰滨乡",712624:"瑞穗乡",712625:"万荣乡",712626:"玉里镇",712627:"卓溪乡",712628:"富里乡",712700:"澎湖县",712707:"马公市",712708:"西屿乡",712709:"望安乡",712710:"七美乡",712711:"白沙乡",712712:"湖西乡",712800:"连江县",712805:"南竿乡",712806:"北竿乡",712807:"莒光乡",712808:"东引乡",81e4:"香港特别行政区",810100:"香港岛",810101:"中西区",810102:"湾仔",810103:"东区",810104:"南区",810200:"九龙",810201:"九龙城区",810202:"油尖旺区",810203:"深水埗区",810204:"黄大仙区",810205:"观塘区",810300:"新界",810301:"北区",810302:"大埔区",810303:"沙田区",810304:"西贡区",810305:"元朗区",810306:"屯门区",810307:"荃湾区",810308:"葵青区",810309:"离岛区",82e4:"澳门特别行政区",820100:"澳门半岛",820200:"离岛",99e4:"海外",990100:"海外"};function o(n){for(var r={},d=0,m;d<n.length;d++)m=n[d],!(!m||!m.id)&&(r[m.id]=m);for(var c=[],l=0;l<n.length;l++)if(m=n[l],!!m){if(m.pid==null&&m.parentId==null){c.push(m);continue}var _=r[m.pid]||r[m.parentId];_&&(_.children||(_.children=[]),_.children.push(m))}return c}var a=function(){var n=[];for(var r in s){var d=r.slice(2,6)==="0000"?void 0:r.slice(4,6)=="00"?r.slice(0,2)+"0000":r.slice(0,4)+"00";n.push({id:r,pid:d,name:s[r]})}return o(n)}();t.exports=a},function(t,e,s){var o=s(18);t.exports={d4:function(){return this.natural(1,4)},d6:function(){return this.natural(1,6)},d8:function(){return this.natural(1,8)},d12:function(){return this.natural(1,12)},d20:function(){return this.natural(1,20)},d100:function(){return this.natural(1,100)},guid:function(){var a="abcdefABCDEF1234567890",n=this.string(a,8)+"-"+this.string(a,4)+"-"+this.string(a,4)+"-"+this.string(a,4)+"-"+this.string(a,12);return n},uuid:function(){return this.guid()},id:function(){var a,n=0,r=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],d=["1","0","X","9","8","7","6","5","4","3","2"];a=this.pick(o).id+this.date("yyyyMMdd")+this.string("number",3);for(var m=0;m<a.length;m++)n+=a[m]*r[m];return a+=d[n%11],a},increment:function(){var a=0;return function(n){return a+=+n||1}}(),inc:function(a){return this.increment(a)}}},function(t,e,s){var o=s(21),a=s(22);t.exports={Parser:o,Handler:a}},function(t,e){function s($){this.type=$,this.offset=s.offset(),this.text=s.text()}function o($,w){s.call(this,"alternate"),this.left=$,this.right=w}function a($){s.call(this,"match"),this.body=$.filter(Boolean)}function n($,w){s.call(this,$),this.body=w}function r($){n.call(this,"capture-group"),this.index=y[this.offset]||(y[this.offset]=b++),this.body=$}function d($,w){s.call(this,"quantified"),this.body=$,this.quantifier=w}function m($,w){s.call(this,"quantifier"),this.min=$,this.max=w,this.greedy=!0}function c($,w){s.call(this,"charset"),this.invert=$,this.body=w}function l($,w){s.call(this,"range"),this.start=$,this.end=w}function _($){s.call(this,"literal"),this.body=$,this.escaped=this.body!=this.text}function k($){s.call(this,"unicode"),this.code=$.toUpperCase()}function S($){s.call(this,"hex"),this.code=$.toUpperCase()}function g($){s.call(this,"octal"),this.code=$.toUpperCase()}function N($){s.call(this,"back-reference"),this.code=$.toUpperCase()}function f($){s.call(this,"control-character"),this.code=$.toUpperCase()}var E=function(){function $(v,C){function T(){this.constructor=v}T.prototype=C.prototype,v.prototype=new T}function w(v,C,T,D,B){function I(L,U){function Y(M){function R(P){return P.charCodeAt(0).toString(16).toUpperCase()}return M.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(P){return"\\x0"+R(P)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(P){return"\\x"+R(P)}).replace(/[\u0180-\u0FFF]/g,function(P){return"\\u0"+R(P)}).replace(/[\u1080-\uFFFF]/g,function(P){return"\\u"+R(P)})}var se,J;switch(L.length){case 0:se="end of input";break;case 1:se=L[0];break;default:se=L.slice(0,-1).join(", ")+" or "+L[L.length-1]}return J=U?'"'+Y(U)+'"':"end of input","Expected "+se+" but "+J+" found."}this.expected=v,this.found=C,this.offset=T,this.line=D,this.column=B,this.name="SyntaxError",this.message=I(v,C)}function x(v){function C(){return v.substring(ge,A)}function T(){return ge}function D(u){function V(G,ce,we){var Ct,Ot;for(Ct=ce;we>Ct;Ct++)Ot=v.charAt(Ct),Ot===`
`?(G.seenCR||G.line++,G.column=1,G.seenCR=!1):Ot==="\r"||Ot==="\u2028"||Ot==="\u2029"?(G.line++,G.column=1,G.seenCR=!0):(G.column++,G.seenCR=!1)}return It!==u&&(It>u&&(It=0,ks={line:1,column:1,seenCR:!1}),V(ks,It,u),It=u),ks}function B(u){os>A||(A>os&&(os=A,as=[]),as.push(u))}function I(u){var V=0;for(u.sort();V<u.length;)u[V-1]===u[V]?u.splice(V,1):V++}function L(){var u,V,G,ce,we;return u=A,V=U(),V!==null?(G=A,v.charCodeAt(A)===124?(ce=Bt,A++):(ce=null,oe===0&&B(gt)),ce!==null?(we=L(),we!==null?(ce=[ce,we],G=ce):(A=G,G=ie)):(A=G,G=ie),G===null&&(G=at),G!==null?(ge=u,V=He(V,G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie),u}function U(){var u,V,G,ce,we;if(u=A,V=se(),V===null&&(V=at),V!==null)if(G=A,oe++,ce=R(),oe--,ce===null?G=at:(A=G,G=ie),G!==null){for(ce=[],we=M(),we===null&&(we=Y());we!==null;)ce.push(we),we=M(),we===null&&(we=Y());ce!==null?(we=J(),we===null&&(we=at),we!==null?(ge=u,V=Ze(V,ce,we),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie)}else A=u,u=ie;else A=u,u=ie;return u}function Y(){var u;return u=Re(),u===null&&(u=Ue(),u===null&&(u=ut())),u}function se(){var u,V;return u=A,v.charCodeAt(A)===94?(V=qe,A++):(V=null,oe===0&&B(lt)),V!==null&&(ge=u,V=ct()),V===null&&(A=u),u=V,u}function J(){var u,V;return u=A,v.charCodeAt(A)===36?(V=ft,A++):(V=null,oe===0&&B(_t)),V!==null&&(ge=u,V=q()),V===null&&(A=u),u=V,u}function M(){var u,V,G;return u=A,V=Y(),V!==null?(G=R(),G!==null?(ge=u,V=Oe(V,G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie),u}function R(){var u,V,G;return oe++,u=A,V=P(),V!==null?(G=ue(),G===null&&(G=at),G!==null?(ge=u,V=Nt(V,G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie),oe--,u===null&&(V=null,oe===0&&B(De)),u}function P(){var u;return u=K(),u===null&&(u=X(),u===null&&(u=W(),u===null&&(u=Be(),u===null&&(u=de(),u===null&&(u=ve()))))),u}function K(){var u,V,G,ce,we,Ct;return u=A,v.charCodeAt(A)===123?(V=wt,A++):(V=null,oe===0&&B(xt)),V!==null?(G=he(),G!==null?(v.charCodeAt(A)===44?(ce=pe,A++):(ce=null,oe===0&&B(O)),ce!==null?(we=he(),we!==null?(v.charCodeAt(A)===125?(Ct=ee,A++):(Ct=null,oe===0&&B(ae)),Ct!==null?(ge=u,V=Ee(G,we),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie)):(A=u,u=ie)):(A=u,u=ie)):(A=u,u=ie),u}function X(){var u,V,G,ce;return u=A,v.charCodeAt(A)===123?(V=wt,A++):(V=null,oe===0&&B(xt)),V!==null?(G=he(),G!==null?(v.substr(A,2)===Ae?(ce=Ae,A+=2):(ce=null,oe===0&&B(Fe)),ce!==null?(ge=u,V=Ye(G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie)):(A=u,u=ie),u}function W(){var u,V,G,ce;return u=A,v.charCodeAt(A)===123?(V=wt,A++):(V=null,oe===0&&B(xt)),V!==null?(G=he(),G!==null?(v.charCodeAt(A)===125?(ce=ee,A++):(ce=null,oe===0&&B(ae)),ce!==null?(ge=u,V=dt(G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie)):(A=u,u=ie),u}function Be(){var u,V;return u=A,v.charCodeAt(A)===43?(V=Vt,A++):(V=null,oe===0&&B(bt)),V!==null&&(ge=u,V=je()),V===null&&(A=u),u=V,u}function de(){var u,V;return u=A,v.charCodeAt(A)===42?(V=Tt,A++):(V=null,oe===0&&B(St)),V!==null&&(ge=u,V=ns()),V===null&&(A=u),u=V,u}function ve(){var u,V;return u=A,v.charCodeAt(A)===63?(V=Ft,A++):(V=null,oe===0&&B(zt)),V!==null&&(ge=u,V=is()),V===null&&(A=u),u=V,u}function ue(){var u;return v.charCodeAt(A)===63?(u=Ft,A++):(u=null,oe===0&&B(zt)),u}function he(){var u,V,G;if(u=A,V=[],Ut.test(v.charAt(A))?(G=v.charAt(A),A++):(G=null,oe===0&&B(Ht)),G!==null)for(;G!==null;)V.push(G),Ut.test(v.charAt(A))?(G=v.charAt(A),A++):(G=null,oe===0&&B(Ht));else V=ie;return V!==null&&(ge=u,V=rs(V)),V===null&&(A=u),u=V,u}function Re(){var u,V,G,ce;return u=A,v.charCodeAt(A)===40?(V=qt,A++):(V=null,oe===0&&B(jt)),V!==null?(G=Ve(),G===null&&(G=Se(),G===null&&(G=Ne(),G===null&&(G=$e()))),G!==null?(v.charCodeAt(A)===41?(ce=Wt,A++):(ce=null,oe===0&&B(ls)),ce!==null?(ge=u,V=Et(G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie)):(A=u,u=ie),u}function $e(){var u,V;return u=A,V=L(),V!==null&&(ge=u,V=Gt(V)),V===null&&(A=u),u=V,u}function Ne(){var u,V,G;return u=A,v.substr(A,2)===$t?(V=$t,A+=2):(V=null,oe===0&&B(Kt)),V!==null?(G=L(),G!==null?(ge=u,V=Dt(G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie),u}function Ve(){var u,V,G;return u=A,v.substr(A,2)===At?(V=At,A+=2):(V=null,oe===0&&B(cs)),V!==null?(G=L(),G!==null?(ge=u,V=ds(G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie),u}function Se(){var u,V,G;return u=A,v.substr(A,2)===vt?(V=vt,A+=2):(V=null,oe===0&&B(us)),V!==null?(G=L(),G!==null?(ge=u,V=ps(G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie),u}function Ue(){var u,V,G,ce,we;if(oe++,u=A,v.charCodeAt(A)===91?(V=Yt,A++):(V=null,oe===0&&B(hs)),V!==null)if(v.charCodeAt(A)===94?(G=qe,A++):(G=null,oe===0&&B(lt)),G===null&&(G=at),G!==null){for(ce=[],we=Ie(),we===null&&(we=Je());we!==null;)ce.push(we),we=Ie(),we===null&&(we=Je());ce!==null?(v.charCodeAt(A)===93?(we=ms,A++):(we=null,oe===0&&B(Jt)),we!==null?(ge=u,V=fs(G,ce),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie)}else A=u,u=ie;else A=u,u=ie;return oe--,u===null&&(V=null,oe===0&&B(Mt)),u}function Ie(){var u,V,G,ce;return oe++,u=A,V=Je(),V!==null?(v.charCodeAt(A)===45?(G=gs,A++):(G=null,oe===0&&B(Rt)),G!==null?(ce=Je(),ce!==null?(ge=u,V=Pt(V,ce),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie)):(A=u,u=ie),oe--,u===null&&(V=null,oe===0&&B(vs)),u}function Je(){var u;return oe++,u=nt(),u===null&&(u=Te()),oe--,u===null&&oe===0&&B(Lt),u}function Te(){var u,V;return u=A,Xt.test(v.charAt(A))?(V=v.charAt(A),A++):(V=null,oe===0&&B(Qt)),V!==null&&(ge=u,V=H(V)),V===null&&(A=u),u=V,u}function nt(){var u;return u=st(),u===null&&(u=mt(),u===null&&(u=Z(),u===null&&(u=z(),u===null&&(u=be(),u===null&&(u=ke(),u===null&&(u=Pe(),u===null&&(u=me(),u===null&&(u=p(),u===null&&(u=ne(),u===null&&(u=ye(),u===null&&(u=ze(),u===null&&(u=Ke(),u===null&&(u=We(),u===null&&(u=ot(),u===null&&(u=it(),u===null&&(u=te(),u===null&&(u=Ce()))))))))))))))))),u}function ut(){var u;return u=et(),u===null&&(u=pt(),u===null&&(u=tt())),u}function et(){var u,V;return u=A,v.charCodeAt(A)===46?(V=F,A++):(V=null,oe===0&&B(Q)),V!==null&&(ge=u,V=le()),V===null&&(A=u),u=V,u}function tt(){var u,V;return oe++,u=A,_e.test(v.charAt(A))?(V=v.charAt(A),A++):(V=null,oe===0&&B(fe)),V!==null&&(ge=u,V=H(V)),V===null&&(A=u),u=V,oe--,u===null&&(V=null,oe===0&&B(j)),u}function pt(){var u;return u=ht(),u===null&&(u=Ge(),u===null&&(u=mt(),u===null&&(u=Z(),u===null&&(u=z(),u===null&&(u=be(),u===null&&(u=ke(),u===null&&(u=Pe(),u===null&&(u=me(),u===null&&(u=p(),u===null&&(u=ne(),u===null&&(u=ye(),u===null&&(u=ze(),u===null&&(u=Ke(),u===null&&(u=Xe(),u===null&&(u=We(),u===null&&(u=ot(),u===null&&(u=it(),u===null&&(u=te(),u===null&&(u=Ce()))))))))))))))))))),u}function st(){var u,V;return u=A,v.substr(A,2)===Me?(V=Me,A+=2):(V=null,oe===0&&B(kt)),V!==null&&(ge=u,V=Zt()),V===null&&(A=u),u=V,u}function ht(){var u,V;return u=A,v.substr(A,2)===Me?(V=Me,A+=2):(V=null,oe===0&&B(kt)),V!==null&&(ge=u,V=_s()),V===null&&(A=u),u=V,u}function Ge(){var u,V;return u=A,v.substr(A,2)===Vs?(V=Vs,A+=2):(V=null,oe===0&&B(js)),V!==null&&(ge=u,V=Ws()),V===null&&(A=u),u=V,u}function Z(){var u,V;return u=A,v.substr(A,2)===bs?(V=bs,A+=2):(V=null,oe===0&&B(Gs)),V!==null&&(ge=u,V=Ks()),V===null&&(A=u),u=V,u}function z(){var u,V;return u=A,v.substr(A,2)===ws?(V=ws,A+=2):(V=null,oe===0&&B(Ys)),V!==null&&(ge=u,V=Js()),V===null&&(A=u),u=V,u}function be(){var u,V;return u=A,v.substr(A,2)===$s?(V=$s,A+=2):(V=null,oe===0&&B(Xs)),V!==null&&(ge=u,V=Qs()),V===null&&(A=u),u=V,u}function ke(){var u,V;return u=A,v.substr(A,2)===Cs?(V=Cs,A+=2):(V=null,oe===0&&B(Zs)),V!==null&&(ge=u,V=eo()),V===null&&(A=u),u=V,u}function Pe(){var u,V;return u=A,v.substr(A,2)===xs?(V=xs,A+=2):(V=null,oe===0&&B(to)),V!==null&&(ge=u,V=so()),V===null&&(A=u),u=V,u}function me(){var u,V;return u=A,v.substr(A,2)===Ss?(V=Ss,A+=2):(V=null,oe===0&&B(oo)),V!==null&&(ge=u,V=ao()),V===null&&(A=u),u=V,u}function p(){var u,V;return u=A,v.substr(A,2)===Ts?(V=Ts,A+=2):(V=null,oe===0&&B(no)),V!==null&&(ge=u,V=io()),V===null&&(A=u),u=V,u}function ne(){var u,V;return u=A,v.substr(A,2)===Es?(V=Es,A+=2):(V=null,oe===0&&B(ro)),V!==null&&(ge=u,V=lo()),V===null&&(A=u),u=V,u}function ye(){var u,V;return u=A,v.substr(A,2)===Ds?(V=Ds,A+=2):(V=null,oe===0&&B(co)),V!==null&&(ge=u,V=uo()),V===null&&(A=u),u=V,u}function ze(){var u,V;return u=A,v.substr(A,2)===Ms?(V=Ms,A+=2):(V=null,oe===0&&B(po)),V!==null&&(ge=u,V=ho()),V===null&&(A=u),u=V,u}function Ke(){var u,V;return u=A,v.substr(A,2)===As?(V=As,A+=2):(V=null,oe===0&&B(mo)),V!==null&&(ge=u,V=fo()),V===null&&(A=u),u=V,u}function mt(){var u,V,G;return u=A,v.substr(A,2)===Rs?(V=Rs,A+=2):(V=null,oe===0&&B(vo)),V!==null?(v.length>A?(G=v.charAt(A),A++):(G=null,oe===0&&B(Ps)),G!==null?(ge=u,V=go(G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie),u}function Xe(){var u,V,G;return u=A,v.charCodeAt(A)===92?(V=Ls,A++):(V=null,oe===0&&B(Is)),V!==null?(_o.test(v.charAt(A))?(G=v.charAt(A),A++):(G=null,oe===0&&B(ko)),G!==null?(ge=u,V=yo(G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie),u}function We(){var u,V,G,ce;if(u=A,v.substr(A,2)===es?(V=es,A+=2):(V=null,oe===0&&B(Os)),V!==null){if(G=[],Fs.test(v.charAt(A))?(ce=v.charAt(A),A++):(ce=null,oe===0&&B(zs)),ce!==null)for(;ce!==null;)G.push(ce),Fs.test(v.charAt(A))?(ce=v.charAt(A),A++):(ce=null,oe===0&&B(zs));else G=ie;G!==null?(ge=u,V=Bo(G),V===null&&(A=u),u=V):(A=u,u=ie)}else A=u,u=ie;return u}function ot(){var u,V,G,ce;if(u=A,v.substr(A,2)===Us?(V=Us,A+=2):(V=null,oe===0&&B(No)),V!==null){if(G=[],ts.test(v.charAt(A))?(ce=v.charAt(A),A++):(ce=null,oe===0&&B(ss)),ce!==null)for(;ce!==null;)G.push(ce),ts.test(v.charAt(A))?(ce=v.charAt(A),A++):(ce=null,oe===0&&B(ss));else G=ie;G!==null?(ge=u,V=Vo(G),V===null&&(A=u),u=V):(A=u,u=ie)}else A=u,u=ie;return u}function it(){var u,V,G,ce;if(u=A,v.substr(A,2)===Hs?(V=Hs,A+=2):(V=null,oe===0&&B(bo)),V!==null){if(G=[],ts.test(v.charAt(A))?(ce=v.charAt(A),A++):(ce=null,oe===0&&B(ss)),ce!==null)for(;ce!==null;)G.push(ce),ts.test(v.charAt(A))?(ce=v.charAt(A),A++):(ce=null,oe===0&&B(ss));else G=ie;G!==null?(ge=u,V=wo(G),V===null&&(A=u),u=V):(A=u,u=ie)}else A=u,u=ie;return u}function te(){var u,V;return u=A,v.substr(A,2)===es?(V=es,A+=2):(V=null,oe===0&&B(Os)),V!==null&&(ge=u,V=$o()),V===null&&(A=u),u=V,u}function Ce(){var u,V,G;return u=A,v.charCodeAt(A)===92?(V=Ls,A++):(V=null,oe===0&&B(Is)),V!==null?(v.length>A?(G=v.charAt(A),A++):(G=null,oe===0&&B(Ps)),G!==null?(ge=u,V=H(G),V===null&&(A=u),u=V):(A=u,u=ie)):(A=u,u=ie),u}var Qe,xe=arguments.length>1?arguments[1]:{},rt={regexp:L},yt=L,ie=null,at="",Bt="|",gt='"|"',He=function(u,V){return V?new o(u,V[1]):u},Ze=function(u,V,G){return new a([u].concat(V).concat([G]))},qe="^",lt='"^"',ct=function(){return new s("start")},ft="$",_t='"$"',q=function(){return new s("end")},Oe=function(u,V){return new d(u,V)},De="Quantifier",Nt=function(u,V){return V&&(u.greedy=!1),u},wt="{",xt='"{"',pe=",",O='","',ee="}",ae='"}"',Ee=function(u,V){return new m(u,V)},Ae=",}",Fe='",}"',Ye=function(u){return new m(u,1/0)},dt=function(u){return new m(u,u)},Vt="+",bt='"+"',je=function(){return new m(1,1/0)},Tt="*",St='"*"',ns=function(){return new m(0,1/0)},Ft="?",zt='"?"',is=function(){return new m(0,1)},Ut=/^[0-9]/,Ht="[0-9]",rs=function(u){return+u.join("")},qt="(",jt='"("',Wt=")",ls='")"',Et=function(u){return u},Gt=function(u){return new r(u)},$t="?:",Kt='"?:"',Dt=function(u){return new n("non-capture-group",u)},At="?=",cs='"?="',ds=function(u){return new n("positive-lookahead",u)},vt="?!",us='"?!"',ps=function(u){return new n("negative-lookahead",u)},Mt="CharacterSet",Yt="[",hs='"["',ms="]",Jt='"]"',fs=function(u,V){return new c(!!u,V)},vs="CharacterRange",gs="-",Rt='"-"',Pt=function(u,V){return new l(u,V)},Lt="Character",Xt=/^[^\\\]]/,Qt="[^\\\\\\]]",H=function(u){return new _(u)},F=".",Q='"."',le=function(){return new s("any-character")},j="Literal",_e=/^[^|\\\/.[()?+*$\^]/,fe="[^|\\\\\\/.[()?+*$\\^]",Me="\\b",kt='"\\\\b"',Zt=function(){return new s("backspace")},_s=function(){return new s("word-boundary")},Vs="\\B",js='"\\\\B"',Ws=function(){return new s("non-word-boundary")},bs="\\d",Gs='"\\\\d"',Ks=function(){return new s("digit")},ws="\\D",Ys='"\\\\D"',Js=function(){return new s("non-digit")},$s="\\f",Xs='"\\\\f"',Qs=function(){return new s("form-feed")},Cs="\\n",Zs='"\\\\n"',eo=function(){return new s("line-feed")},xs="\\r",to='"\\\\r"',so=function(){return new s("carriage-return")},Ss="\\s",oo='"\\\\s"',ao=function(){return new s("white-space")},Ts="\\S",no='"\\\\S"',io=function(){return new s("non-white-space")},Es="\\t",ro='"\\\\t"',lo=function(){return new s("tab")},Ds="\\v",co='"\\\\v"',uo=function(){return new s("vertical-tab")},Ms="\\w",po='"\\\\w"',ho=function(){return new s("word")},As="\\W",mo='"\\\\W"',fo=function(){return new s("non-word")},Rs="\\c",vo='"\\\\c"',Ps="any character",go=function(u){return new f(u)},Ls="\\",Is='"\\\\"',_o=/^[1-9]/,ko="[1-9]",yo=function(u){return new N(u)},es="\\0",Os='"\\\\0"',Fs=/^[0-7]/,zs="[0-7]",Bo=function(u){return new g(u.join(""))},Us="\\x",No='"\\\\x"',ts=/^[0-9a-fA-F]/,ss="[0-9a-fA-F]",Vo=function(u){return new S(u.join(""))},Hs="\\u",bo='"\\\\u"',wo=function(u){return new k(u.join(""))},$o=function(){return new s("null-character")},A=0,ge=0,It=0,ks={line:1,column:1,seenCR:!1},os=0,as=[],oe=0;if("startRule"in xe){if(!(xe.startRule in rt))throw new Error(`Can't start parsing from rule "`+xe.startRule+'".');yt=rt[xe.startRule]}if(s.offset=T,s.text=C,Qe=yt(),Qe!==null&&A===v.length)return Qe;throw I(as),ge=Math.max(A,os),new w(as,ge<v.length?v.charAt(ge):null,ge,D(ge).line,D(ge).column)}return $(w,Error),{SyntaxError:w,parse:x}}(),b=1,y={};t.exports=E},function(t,e,s){var o=s(3),a=s(5),n={extend:o.extend},r=S(97,122),d=S(65,90),m=S(48,57),c=S(32,47)+S(58,64)+S(91,96)+S(123,126),l=S(32,126),_=` \f
\r	\v \u2028\u2029`,k={"\\w":r+d+m+"_","\\W":c.replace("_",""),"\\s":_,"\\S":function(){for(var g=l,N=0;N<_.length;N++)g=g.replace(_[N],"");return g}(),"\\d":m,"\\D":r+d+c};function S(g,N){for(var f="",E=g;E<=N;E++)f+=String.fromCharCode(E);return f}n.gen=function(g,N,f){return f=f||{guid:1},n[g.type]?n[g.type](g,N,f):n.token(g,N,f)},n.extend({token:function(g,N,f){switch(g.type){case"start":case"end":return"";case"any-character":return a.character();case"backspace":return"";case"word-boundary":return"";case"non-word-boundary":break;case"digit":return a.pick(m.split(""));case"non-digit":return a.pick((r+d+c).split(""));case"form-feed":break;case"line-feed":return g.body||g.text;case"carriage-return":break;case"white-space":return a.pick(_.split(""));case"non-white-space":return a.pick((r+d+m).split(""));case"tab":break;case"vertical-tab":break;case"word":return a.pick((r+d+m).split(""));case"non-word":return a.pick(c.replace("_","").split(""))}return g.body||g.text},alternate:function(g,N,f){return this.gen(a.boolean()?g.left:g.right,N,f)},match:function(g,N,f){N="";for(var E=0;E<g.body.length;E++)N+=this.gen(g.body[E],N,f);return N},"capture-group":function(g,N,f){return N=this.gen(g.body,N,f),f[f.guid++]=N,N},"non-capture-group":function(g,N,f){return this.gen(g.body,N,f)},"positive-lookahead":function(g,N,f){return this.gen(g.body,N,f)},"negative-lookahead":function(g,N,f){return""},quantified:function(g,N,f){N="";for(var E=this.quantifier(g.quantifier),b=0;b<E;b++)N+=this.gen(g.body,N,f);return N},quantifier:function(g,N,f){var E=Math.max(g.min,0),b=isFinite(g.max)?g.max:E+a.integer(3,7);return a.integer(E,b)},charset:function(g,N,f){if(g.invert)return this["invert-charset"](g,N,f);var E=a.pick(g.body);return this.gen(E,N,f)},"invert-charset":function(g,N,f){for(var E=l,b=0,y;b<g.body.length;b++)switch(y=g.body[b],y.type){case"literal":E=E.replace(y.body,"");break;case"range":for(var $=this.gen(y.start,N,f).charCodeAt(),w=this.gen(y.end,N,f).charCodeAt(),x=$;x<=w;x++)E=E.replace(String.fromCharCode(x),"");default:var v=k[y.text];if(v)for(var C=0;C<=v.length;C++)E=E.replace(v[C],"")}return a.pick(E.split(""))},range:function(g,N,f){var E=this.gen(g.start,N,f).charCodeAt(),b=this.gen(g.end,N,f).charCodeAt();return String.fromCharCode(a.integer(E,b))},literal:function(g,N,f){return g.escaped?g.body:g.text},unicode:function(g,N,f){return String.fromCharCode(parseInt(g.code,16))},hex:function(g,N,f){return String.fromCharCode(parseInt(g.code,16))},octal:function(g,N,f){return String.fromCharCode(parseInt(g.code,8))},"back-reference":function(g,N,f){return f[g.code]||""},CONTROL_CHARACTER_MAP:function(){for(var g="@ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \\ ] ^ _".split(" "),N=`\0       \x07 \b 	 
 \v \f \r              \x1B    `.split(" "),f={},E=0;E<g.length;E++)f[g[E]]=N[E];return f}(),"control-character":function(g,N,f){return this.CONTROL_CHARACTER_MAP[g.code]}}),t.exports=n},function(t,e,s){t.exports=s(24)},function(t,e,s){var o=s(2),a=s(3),n=s(4);function r(d,m,c){c=c||[];var l={name:typeof m=="string"?m.replace(o.RE_KEY,"$1"):m,template:d,type:a.type(d),rule:n.parse(m)};switch(l.path=c.slice(0),l.path.push(m===void 0?"ROOT":l.name),l.type){case"array":l.items=[],a.each(d,function(_,k){l.items.push(r(_,k,l.path))});break;case"object":l.properties=[],a.each(d,function(_,k){l.properties.push(r(_,k,l.path))});break}return l}t.exports=r},function(t,e,s){t.exports=s(26)},function(t,e,s){var o=s(2),a=s(3),n=s(23);function r(c,l){for(var _=n(c),k=d.diff(_,l),S=0;S<k.length;S++);return k}var d={diff:function(l,_,k){var S=[];return this.name(l,_,k,S)&&this.type(l,_,k,S)&&(this.value(l,_,k,S),this.properties(l,_,k,S),this.items(l,_,k,S)),S},name:function(c,l,_,k){var S=k.length;return m.equal("name",c.path,_+"",c.name+"",k),k.length===S},type:function(c,l,_,k){var S=k.length;switch(c.type){case"string":if(c.template.match(o.RE_PLACEHOLDER))return!0;break;case"array":if(c.rule.parameters&&(c.rule.min!==void 0&&c.rule.max===void 0&&c.rule.count===1||c.rule.parameters[2]))return!0;break;case"function":return!0}return m.equal("type",c.path,a.type(l),c.type,k),k.length===S},value:function(c,l,_,k){var S=k.length,g=c.rule,N=c.type;if(N==="object"||N==="array"||N==="function")return!0;if(!g.parameters){switch(N){case"regexp":return m.match("value",c.path,l,c.template,k),k.length===S;case"string":if(c.template.match(o.RE_PLACEHOLDER))return k.length===S;break}return m.equal("value",c.path,l,c.template,k),k.length===S}var f;switch(N){case"number":var E=(l+"").split(".");E[0]=+E[0],g.min!==void 0&&g.max!==void 0&&(m.greaterThanOrEqualTo("value",c.path,E[0],Math.min(g.min,g.max),k),m.lessThanOrEqualTo("value",c.path,E[0],Math.max(g.min,g.max),k)),g.min!==void 0&&g.max===void 0&&m.equal("value",c.path,E[0],g.min,k,"[value] "+_),g.decimal&&(g.dmin!==void 0&&g.dmax!==void 0&&(m.greaterThanOrEqualTo("value",c.path,E[1].length,g.dmin,k),m.lessThanOrEqualTo("value",c.path,E[1].length,g.dmax,k)),g.dmin!==void 0&&g.dmax===void 0&&m.equal("value",c.path,E[1].length,g.dmin,k));break;case"boolean":break;case"string":f=l.match(new RegExp(c.template,"g")),f=f?f.length:0,g.min!==void 0&&g.max!==void 0&&(m.greaterThanOrEqualTo("repeat count",c.path,f,g.min,k),m.lessThanOrEqualTo("repeat count",c.path,f,g.max,k)),g.min!==void 0&&g.max===void 0&&m.equal("repeat count",c.path,f,g.min,k);break;case"regexp":f=l.match(new RegExp(c.template.source.replace(/^\^|\$$/g,""),"g")),f=f?f.length:0,g.min!==void 0&&g.max!==void 0&&(m.greaterThanOrEqualTo("repeat count",c.path,f,g.min,k),m.lessThanOrEqualTo("repeat count",c.path,f,g.max,k)),g.min!==void 0&&g.max===void 0&&m.equal("repeat count",c.path,f,g.min,k);break}return k.length===S},properties:function(c,l,_,k){var S=k.length,g=c.rule,N=a.keys(l);if(c.properties){if(c.rule.parameters?(g.min!==void 0&&g.max!==void 0&&(m.greaterThanOrEqualTo("properties length",c.path,N.length,Math.min(g.min,g.max),k),m.lessThanOrEqualTo("properties length",c.path,N.length,Math.max(g.min,g.max),k)),g.min!==void 0&&g.max===void 0&&g.count!==1&&m.equal("properties length",c.path,N.length,g.min,k)):m.equal("properties length",c.path,N.length,c.properties.length,k),k.length!==S)return!1;for(var f=0;f<N.length;f++)k.push.apply(k,this.diff(function(){var E;return a.each(c.properties,function(b){b.name===N[f]&&(E=b)}),E||c.properties[f]}(),l[N[f]],N[f]));return k.length===S}},items:function(c,l,_,k){var S=k.length;if(c.items){var g=c.rule;if(!c.rule.parameters)m.equal("items length",c.path,l.length,c.items.length,k);else{if(g.min!==void 0&&g.max!==void 0&&(m.greaterThanOrEqualTo("items",c.path,l.length,Math.min(g.min,g.max)*c.items.length,k,"[{utype}] array is too short: {path} must have at least {expected} elements but instance has {actual} elements"),m.lessThanOrEqualTo("items",c.path,l.length,Math.max(g.min,g.max)*c.items.length,k,"[{utype}] array is too long: {path} must have at most {expected} elements but instance has {actual} elements")),g.min!==void 0&&g.max===void 0){if(g.count===1)return k.length===S;m.equal("items length",c.path,l.length,g.min*c.items.length,k)}if(g.parameters[2])return k.length===S}if(k.length!==S)return!1;for(var N=0;N<l.length;N++)k.push.apply(k,this.diff(c.items[N%c.items.length],l[N],N%c.items.length));return k.length===S}}},m={message:function(c){return(c.message||"[{utype}] Expect {path}'{ltype} {action} {expected}, but is {actual}").replace("{utype}",c.type.toUpperCase()).replace("{ltype}",c.type.toLowerCase()).replace("{path}",a.isArray(c.path)&&c.path.join(".")||c.path).replace("{action}",c.action).replace("{expected}",c.expected).replace("{actual}",c.actual)},equal:function(c,l,_,k,S,g){if(_===k)return!0;switch(c){case"type":if(k==="regexp"&&_==="string")return!0;break}var N={path:l,type:c,actual:_,expected:k,action:"is equal to",message:g};return N.message=m.message(N),S.push(N),!1},match:function(c,l,_,k,S,g){if(k.test(_))return!0;var N={path:l,type:c,actual:_,expected:k,action:"matches",message:g};return N.message=m.message(N),S.push(N),!1},notEqual:function(c,l,_,k,S,g){if(_!==k)return!0;var N={path:l,type:c,actual:_,expected:k,action:"is not equal to",message:g};return N.message=m.message(N),S.push(N),!1},greaterThan:function(c,l,_,k,S,g){if(_>k)return!0;var N={path:l,type:c,actual:_,expected:k,action:"is greater than",message:g};return N.message=m.message(N),S.push(N),!1},lessThan:function(c,l,_,k,S,g){if(_<k)return!0;var N={path:l,type:c,actual:_,expected:k,action:"is less to",message:g};return N.message=m.message(N),S.push(N),!1},greaterThanOrEqualTo:function(c,l,_,k,S,g){if(_>=k)return!0;var N={path:l,type:c,actual:_,expected:k,action:"is greater than or equal to",message:g};return N.message=m.message(N),S.push(N),!1},lessThanOrEqualTo:function(c,l,_,k,S,g){if(_<=k)return!0;var N={path:l,type:c,actual:_,expected:k,action:"is less than or equal to",message:g};return N.message=m.message(N),S.push(N),!1}};r.Diff=d,r.Assert=m,t.exports=r},function(t,e,s){t.exports=s(28)},function(t,e,s){var o=s(3);window._XMLHttpRequest=window.XMLHttpRequest,window._ActiveXObject=window.ActiveXObject;try{new window.Event("custom")}catch{window.Event=function(g,N,f,E){var b=document.createEvent("CustomEvent");return b.initCustomEvent(g,N,f,E),b}}var a={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},n="readystatechange loadstart progress abort error load timeout loadend".split(" "),r="timeout withCredentials".split(" "),d="readyState responseURL status statusText responseType response responseText responseXML".split(" "),m={200:"OK"};function c(){this.custom={events:{},requestHeaders:{},responseHeaders:{}}}c._settings={timeout:"10-100"},c.setup=function(S){return o.extend(c._settings,S),c._settings},o.extend(c,a),o.extend(c.prototype,a),c.prototype.mock=!0,c.prototype.match=!1,o.extend(c.prototype,{open:function(S,g,N,f,E){var b=this;o.extend(this.custom,{method:S,url:g,async:typeof N=="boolean"?N:!0,username:f,password:E,options:{url:g,type:S}}),this.custom.timeout=function(C){if(typeof C=="number")return C;if(typeof C=="string"&&!~C.indexOf("-"))return parseInt(C,10);if(typeof C=="string"&&~C.indexOf("-")){var T=C.split("-"),D=parseInt(T[0],10),B=parseInt(T[1],10);return Math.round(Math.random()*(B-D))+D}}(c._settings.timeout);var y=_(this.custom.options);function $(C){for(var T=0;T<d.length;T++)try{b[d[T]]=w[d[T]]}catch{}b.dispatchEvent(new Event(C.type))}if(!y){var w=l();this.custom.xhr=w;for(var x=0;x<n.length;x++)w.addEventListener(n[x],$);f?w.open(S,g,N,f,E):w.open(S,g,N);for(var v=0;v<r.length;v++)try{w[r[v]]=b[r[v]]}catch{}return}this.match=!0,this.custom.template=y,this.readyState=c.OPENED,this.dispatchEvent(new Event("readystatechange"))},setRequestHeader:function(S,g){if(!this.match){this.custom.xhr.setRequestHeader(S,g);return}var N=this.custom.requestHeaders;N[S]?N[S]+=","+g:N[S]=g},timeout:0,withCredentials:!1,upload:{},send:function(g){var N=this;if(this.custom.options.body=g,!this.match){this.custom.xhr.send(g);return}this.setRequestHeader("X-Requested-With","MockXMLHttpRequest"),this.dispatchEvent(new Event("loadstart")),this.custom.async?setTimeout(f,this.custom.timeout):f();function f(){N.readyState=c.HEADERS_RECEIVED,N.dispatchEvent(new Event("readystatechange")),N.readyState=c.LOADING,N.dispatchEvent(new Event("readystatechange")),N.status=200,N.statusText=m[200],N.response=N.responseText=JSON.stringify(k(N.custom.template,N.custom.options),null,4),N.readyState=c.DONE,N.dispatchEvent(new Event("readystatechange")),N.dispatchEvent(new Event("load")),N.dispatchEvent(new Event("loadend"))}},abort:function(){if(!this.match){this.custom.xhr.abort();return}this.readyState=c.UNSENT,this.dispatchEvent(new Event("abort",!1,!1,this)),this.dispatchEvent(new Event("error",!1,!1,this))}}),o.extend(c.prototype,{responseURL:"",status:c.UNSENT,statusText:"",getResponseHeader:function(S){return this.match?this.custom.responseHeaders[S.toLowerCase()]:this.custom.xhr.getResponseHeader(S)},getAllResponseHeaders:function(){if(!this.match)return this.custom.xhr.getAllResponseHeaders();var S=this.custom.responseHeaders,g="";for(var N in S)S.hasOwnProperty(N)&&(g+=N+": "+S[N]+`\r
`);return g},overrideMimeType:function(){},responseType:"",response:null,responseText:"",responseXML:null}),o.extend(c.prototype,{addEventListener:function(g,N){var f=this.custom.events;f[g]||(f[g]=[]),f[g].push(N)},removeEventListener:function(g,N){for(var f=this.custom.events[g]||[],E=0;E<f.length;E++)f[E]===N&&f.splice(E--,1)},dispatchEvent:function(g){for(var N=this.custom.events[g.type]||[],f=0;f<N.length;f++)N[f].call(this,g);var E="on"+g.type;this[E]&&this[E](g)}});function l(){var S=function(){var f=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,E=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b=location.href,y=E.exec(b.toLowerCase())||[];return f.test(y[1])}();return window.ActiveXObject?!S&&g()||N():g();function g(){try{return new window._XMLHttpRequest}catch{}}function N(){try{return new window._ActiveXObject("Microsoft.XMLHTTP")}catch{}}}function _(S){for(var g in c.Mock._mocked){var N=c.Mock._mocked[g];if((!N.rurl||f(N.rurl,S.url))&&(!N.rtype||f(N.rtype,S.type.toLowerCase())))return N}function f(E,b){if(o.type(E)==="string")return E===b;if(o.type(E)==="regexp")return E.test(b)}}function k(S,g){return o.isFunction(S.template)?S.template(g):c.Mock.mock(S.template)}t.exports=c}])})})(mock);var mockExports=mock.exports;const Mock=getDefaultExportFromCjs(mockExports),stockList=Mock.mock({"list|10":[{"code|600000-603999":1,name:"@cword(2,4)","price|10-100.2":1,"change|0-10.2":1,"changePercent|0-10.2":1,industry:'@pick(["科技", "金融", "医疗健康", "消费", "能源", "房地产", "制造业", "农业"])',"pe|0-100.2":1,"pb|0-10.2":1,"marketCap|100000000-10000000000":1}]}).list,chatHistory=[{role:"assistant",content:"您好！我是您的智能投资助手。我可以帮您分析股票、提供投资建议，以及回答您的投资相关问题。请问有什么我可以帮您的吗？"}],mockApi={getStockList:()=>Promise.resolve({code:200,data:stockList,message:"success"}),getChatHistory:()=>Promise.resolve({code:200,data:chatHistory,message:"success"}),sendMessage:t=>{typeof t!="string"&&(t&&typeof t=="object"?t=t.content||t.title||JSON.stringify(t):t=String(t||""));const e=t.includes("智能荐股"),s=t.includes("资讯推送"),o=t.includes("我的资产"),n=["股票","分析","平安银行","五粮液","万科","宁德时代","茅台","腾讯","阿里","比亚迪"].some(k=>t.includes(k)),d=["购买","买入","买","下单"].some(k=>t.includes(k)),c=["量化","策略","回测","因子","算法","信号","多因子","技术指标","均值回归","动量策略","配对交易","夏普比率","最大回撤","年化收益","交易信号","MACD","RSI","布林带","均线交叉"].some(k=>t.includes(k)),l=t.includes("复盘")||t.includes("昨日复盘");let _;if(l)_={role:"assistant",content:`📊 **昨日市场复盘分析**

**🏛️ 大盘走势回顾**
• **上证指数**：收盘3,245.68点，上涨+1.23%（+39.45点）
• **深证成指**：收盘10,892.34点，上涨+0.87%（+93.67点）  
• **创业板指**：收盘2,156.78点，上涨+2.15%（+45.32点）
• **成交量**：沪深两市成交额8,567亿元，较前日放量12.3%

**🔥 热点板块分析**
• **领涨板块**：新能源汽车(+3.2%)、人工智能(+2.8%)、医药生物(+2.1%)
• **资金流向**：主力净流入156.8亿元，其中科技股获得78.2亿元净流入
• **板块轮动**：资金从传统周期股流向成长股，科技板块重新获得关注
• **题材热点**：ChatGPT概念、锂电池产业链、创新药研发

**💼 个人持仓表现**
基于您当前的持仓情况分析：
• **整体表现**：持仓股票平均涨幅+1.45%，跑赢大盘0.22个百分点
• **最佳表现**：如有新能源相关持仓，昨日表现突出
• **需要关注**：传统行业股票表现相对较弱，建议关注仓位配置

**📈 技术面变化**
• **趋势判断**：大盘突破短期阻力位，多头情绪回暖
• **技术指标**：MACD金叉确认，RSI(58)处于健康区间
• **支撑阻力**：上证指数支撑位3,200点，阻力位3,280点
• **成交量**：放量上涨，资金入场意愿增强

**💡 今日操作建议**
• **短线策略**：关注昨日强势板块的持续性，可适当参与
• **中线布局**：逢低关注优质成长股，分批建仓
• **风险控制**：设置3,200点止损位，控制单日亏损在2%以内
• **仓位管理**：建议保持6-7成仓位，留有机动资金

**⚠️ 风险提示**
• **政策风险**：关注监管政策变化对相关板块的影响
• **外围市场**：美股走势和美联储政策动向需密切关注
• **技术风险**：大盘虽然上涨但成交量需要持续放大确认
• **个股风险**：避免追高，选择有基本面支撑的标的

**📅 今日关注事项**
• **重要数据**：14:00发布工业增加值数据
• **公司公告**：关注重点持仓股票的业绩预告和重大事项
• **市场情绪**：观察北向资金流向和机构调研动向
• **技术位置**：关注3,280点阻力位的突破情况

**🎯 投资策略调整**
• **配置建议**：适当增加科技成长股配置，减少周期股权重
• **选股思路**：关注业绩确定性强、估值合理的优质标的
• **操作节奏**：不追高不杀跌，坚持价值投资理念
• **风控措施**：严格执行止损纪律，保持理性投资心态

*以上分析基于公开市场数据，仅供参考，投资有风险，决策需谨慎*`,hasStockInfo:!1,isReview:!0,hasInteractionButtons:!0,interactionData:{reviewType:"smart_review",marketPerformance:{shangzheng:{value:3245.68,change:1.23},shenzhen:{value:10892.34,change:.87},chuangye:{value:2156.78,change:2.15}},recommendActions:[{id:"adjust_portfolio",label:"调整持仓",icon:"⚖️",description:"基于复盘结果优化投资组合",actionType:"portfolio"},{id:"follow_hotspot",label:"跟进热点",icon:"🔥",description:"分析热点板块投资机会",actionType:"hotspot"},{id:"risk_control",label:"风险控制",icon:"🛡️",description:"制定今日风控策略",actionType:"risk"},{id:"strategy_plan",label:"策略规划",icon:"📋",description:"制定未来投资策略",actionType:"strategy"}]}};else if(e)_={role:"assistant",content:`🎯 **智能荐股推荐**

基于您的投资偏好和当前市场环境，我为您推荐以下优质股票：

**推荐股票列表**
以下股票均经过多维度分析筛选，具有良好的投资价值。您可以点击下方的股票操作按钮进行进一步分析、添加自选股或购买操作。

**投资建议**
• 建议分散投资，每只股票配置不超过总资金的20%
• 关注市场情绪变化，适时调整仓位
• 设置止损位，控制单笔投资风险在10%以内
• 定期关注公司基本面变化和行业发展趋势

**风险提示**
以上推荐仅供参考，投资有风险，入市需谨慎。建议结合自身风险承受能力做出投资决策。`,hasStockInfo:!0,stockList:[{code:"000001",name:"平安银行",price:"12.45",change:.23,changePercent:1.88,targetPrice:"14.20",expectedReturn:"14.1%",reason:"估值合理，ROE持续提升，银行业复苏预期强烈",riskLevel:"中等",industry:"银行",pe:5.2,pb:.8,marketCap:24e10,score:85,recommendation:"买入",recommendIndex:4.2,recommendLevel:"推荐"},{code:"600519",name:"贵州茅台",price:"1678.90",change:-12.5,changePercent:-.74,targetPrice:"1850.00",expectedReturn:"10.2%",reason:"品牌价值稳固，消费复苏带动业绩增长",riskLevel:"较低",industry:"白酒",pe:28.5,pb:8.2,marketCap:21e11,score:88,recommendation:"买入",recommendIndex:4.6,recommendLevel:"强烈推荐"},{code:"300750",name:"宁德时代",price:"185.50",change:8.2,changePercent:4.62,targetPrice:"220.00",expectedReturn:"18.6%",reason:"新能源车产业链核心，技术领先优势明显",riskLevel:"较高",industry:"新能源",pe:35.8,pb:4.5,marketCap:432e9,score:82,recommendation:"买入",recommendIndex:4,recommendLevel:"推荐"}],isRecommendation:!0};else if(t.includes("【付费深度分析】")){const k=t.match(/【付费深度分析】请对(.+?)\((.+?)\)/),S=k?k[1]:"该股票",g=k?k[2]:"";_={role:"assistant",content:`🔍 **${S}(${g}) 深度分析报告**

**📊 基本面分析**
• 财务指标：ROE 15.2%，净利润增长率 18.5%，资产负债率 45.3%
• 盈利能力：毛利率 35.8%，净利率 12.4%，营收增长稳定
• 成长性：近三年复合增长率 22.1%，业务扩张能力强

**📈 技术面分析**
• K线形态：突破上升三角形，多头排列明显
• 技术指标：MACD金叉，RSI(65)适中，布林带上轨突破
• 支撑阻力：支撑位¥${(parseFloat("168.50")*.95).toFixed(2)}，阻力位¥${(parseFloat("168.50")*1.08).toFixed(2)}

**🏭 行业对比分析**
• 市场地位：行业前三，市占率15.2%
• 竞争优势：技术壁垒高，品牌影响力强
• 行业前景：预计未来3年行业增速12-15%

**🔮 未来发展前景**
• 业务增长点：新产品线贡献30%增量，海外市场拓展
• 风险因素：原材料价格波动，政策监管变化
• 催化剂：新技术应用，战略合作推进

**💡 投资建议**
• 买入时机：回调至¥${(parseFloat("168.50")*.97).toFixed(2)}附近分批建仓
• 目标价位：6个月目标价¥185.00，12个月目标价¥195.00
• 止损位：跌破¥${(parseFloat("168.50")*.92).toFixed(2)}止损

**📋 资金配置建议**
• 仓位管理：建议配置5-8%仓位，分3次建仓
• 分批策略：首次30%，回调加仓40%，突破确认30%
• 风控措施：设置8%止损，20%止盈减仓50%

*本报告基于当前市场数据分析，投资有风险，请谨慎决策*`,hasStockInfo:!1,isPaidAnalysis:!0}}else if(t.includes("【付费量化分析】")){const k=t.match(/【付费量化分析】请对(.+?)\((.+?)\)/),S=k?k[1]:"该股票",g=k?k[2]:"";_={role:"assistant",content:`⚡ **${S}(${g}) 量化分析报告**

**📊 技术指标分析**
• MACD：DIF(1.25) > DEA(0.89)，金叉信号强度85%
• RSI：14日RSI(65.2)，处于强势区间，未超买
• 布林带：价格突破上轨，带宽扩张，趋势加速
• KDJ：K(78) > D(65) > J(85)，多头排列

**🔢 量化选股因子评分**
• 价值因子：PE(18.5) PB(2.1) 评分7.2/10
• 成长因子：营收增长(18.5%) 净利增长(22.1%) 评分8.5/10
• 质量因子：ROE(15.2%) 资产周转率(1.8) 评分7.8/10
• 综合评分：7.8/10 (超越78%同行业股票)

**⚠️ 风险评估模型**
• 历史波动率：年化波动率28.5%，属中等风险
• 最大回撤：近一年最大回撤15.2%，风控良好
• 夏普比率：1.35，风险调整后收益优秀
• VaR(95%)：日风险价值2.1%

**🎯 量化交易信号**
• 买入信号：多因子模型评分85/100，信号强度【强】
• 信号类型：趋势突破+动量确认，双重验证
• 持续性：预计信号有效期5-8个交易日
• 成功概率：基于历史回测，成功率72%

**📈 回测数据分析**
• 策略表现：近一年收益率35.2% vs 基准15.8%
• 胜率统计：交易胜率68%，盈亏比1.8:1
• 最佳持仓：平均最佳持仓周期12个交易日
• 风险指标：最大连续亏损3次，平均亏损1.2%

**🤖 量化投资策略建议**
• 策略类型：趋势跟踪+均值回归组合策略
• 参数设置：
  - 买入阈值：多因子评分>80
  - 止盈设置：15%分批止盈
  - 止损设置：8%严格止损
• 风控措施：
  - 单股最大仓位8%
  - 相关性控制<0.6
  - 动态调仓周期7天

**📊 量化评级：A级 (强烈推荐)**

*本量化分析基于历史数据建模，市场有风险，量化策略仅供参考*`,hasStockInfo:!1,isQuantAnalysis:!0}}else if(s){const k=[{title:"央行降准0.25个百分点，释放流动性约5000亿元",time:"2024-01-15 09:30",impact:"利好",summary:"央行宣布下调存款准备金率，为市场注入流动性，有利于降低融资成本"},{title:"新能源汽车销量创新高，产业链公司受益",time:"2024-01-15 10:15",impact:"利好",summary:"12月新能源车销量同比增长46.8%，宁德时代、比亚迪等龙头股有望受益"},{title:"美联储暗示年内可能降息，全球股市普涨",time:"2024-01-15 08:45",impact:"利好",summary:"美联储主席鲍威尔表示通胀压力缓解，为降息打开空间，利好风险资产"},{title:"房地产政策进一步放松，地产股集体上涨",time:"2024-01-15 11:20",impact:"利好",summary:"多地出台房地产支持政策，万科A、保利发展等地产股涨幅居前"}];_={role:"assistant",content:`📰 **今日财经资讯**

${k.map(g=>`**${g.title}**
📅 ${g.time} | ${g.impact==="利好"?"📈":"📉"} ${g.impact}
${g.summary}`).join(`

`)}

**市场观点**
• 货币政策边际宽松，有利于提振市场信心
• 新能源板块景气度持续，关注产业链投资机会
• 全球流动性预期改善，A股有望迎来估值修复
• 房地产政策底部确认，相关板块或迎来反弹

**投资策略**
• 短期关注政策受益板块：银行、地产、新能源
• 中期布局高景气赛道：人工智能、生物医药
• 长期配置核心资产：消费白马、科技龙头

💡 **温馨提示**：以上资讯仅供参考，投资决策请结合个人风险偏好。`,hasStockInfo:!1,isNewsUpdate:!0,hasInteractionButtons:!0,interactionData:{newsItems:k,affectedSectors:["银行","地产","新能源","人工智能"],recommendActions:[{id:"analyze_impact",label:"立即分析",icon:"🔍",description:"分析这些资讯对我的持仓影响",actionType:"analysis"},{id:"find_opportunity",label:"寻找机会",icon:"💡",description:"基于资讯寻找投资机会",actionType:"opportunity"},{id:"risk_check",label:"风险排查",icon:"⚠️",description:"检查持仓风险并给出建议",actionType:"risk"}]}}}else if(o)_={role:"assistant",content:`💰 **资产配置分析报告**

根据您提供的资产信息，我为您做出以下分析：

**资产结构评估**
• 现金比例：根据您的余额情况，建议保持20-30%的现金仓位
• 股票配置：当前持仓分散度${t.includes("持仓股票：0只")?"不足，建议增加":"适中，可以优化"}
• 行业分布：${t.includes("持仓股票：0只")?"暂无持仓":"建议关注行业配置均衡性"}

**投资组合建议**
• **核心配置(50%)**：选择业绩稳定的蓝筹股，如银行、消费龙头
• **成长配置(30%)**：关注新兴行业，如新能源、人工智能
• **防御配置(20%)**：配置高分红股票或债券基金

**风险控制建议**
• 单只股票仓位不超过总资产的15%
• 同一行业配置不超过总资产的25%
• 设置止损线，及时控制亏损
• 定期调仓，保持组合活力

**优化方案**
${t.includes("持仓股票：0只")?`• 建议从稳健的蓝筹股开始建仓
• 可以考虑定投方式分批买入
• 优先配置自选股中的优质标的`:`• 检查持仓股票基本面变化
• 适当调整仓位配置
• 考虑增加防御性资产`}

**下一步行动**
1. 完善投资偏好设置，获得更精准的建议
2. 关注市场热点，寻找投资机会
3. 定期回顾投资组合表现
4. 学习投资知识，提升投资能力

📊 **个性化提醒**：建议您定期查看资产配置情况，根据市场变化及时调整投资策略。`,hasStockInfo:!1,isAssetAnalysis:!0};else if(d){const k={code:"000001",name:"平安银行",price:"12.45",change:.23,changePercent:1.88,industry:"银行",pe:5.2,pb:.8,marketCap:24e10};_={role:"assistant",content:`我为您找到了${k.name}(${k.code})的交易信息：

**当前价格**：¥${k.price}
**今日涨跌**：${k.change>0?"+":""}${k.change}(${k.changePercent>0?"+":""}${k.changePercent}%)

您可以通过下方的购买按钮进行交易操作。建议您：
• 根据自己的风险承受能力确定购买数量
• 注意分散投资，不要把所有资金投入单一股票
• 关注市场动态，适时调整投资策略`,stockInfo:k,hasStockInfo:!0,isBuyMode:!0}}else if(c){const k={strategy:`🤖 **量化策略推荐**

基于当前市场环境，我为您推荐以下适合散户的量化策略：

**1. 均值回归策略**
• 适用场景：震荡市场
• 预期年化收益：12-18%
• 风险等级：中等
• 策略原理：利用价格偏离均值后的回归特性

**2. 动量策略**
• 适用场景：趋势明确的市场
• 预期年化收益：15-25%
• 风险等级：较高
• 策略原理：追踪强势股票的持续上涨

**3. 多因子选股模型**
• 适用场景：长期投资
• 预期年化收益：10-20%
• 风险等级：中等
• 策略原理：综合估值、盈利、成长等多个因子

💡 **建议**：可以在侧边栏的"量化分析"中进行详细的策略回测和因子分析。`,factor:`📊 **多因子选股分析**

基于量化因子模型，我为您分析了当前市场的有效因子：

**估值因子**
• PE因子：当前有效性较高，IC值0.08
• PB因子：在银行、地产板块表现突出
• 建议权重：25%

**盈利因子**
• ROE因子：持续有效，适合长期持有
• 净利润增长率：在成长股中表现优异
• 建议权重：30%

**技术因子**
• 动量因子：短期有效性强，适合波段操作
• 反转因子：在超跌股中表现良好
• 建议权重：20%

**质量因子**
• 资产负债率：在当前环境下重要性提升
• 现金流因子：防御性较强
• 建议权重：25%

🎯 **选股建议**：建议使用多因子综合评分，选择排名前20%的股票构建投资组合。`,signal:`📡 **技术指标交易信号**

基于多种技术指标组合，当前市场信号如下：

**买入信号**
• 平安银行(000001)：MACD金叉 + RSI超卖反弹
• 招商银行(600036)：均线多头排列 + 成交量放大
• 五粮液(000858)：布林带下轨反弹 + KDJ金叉

**卖出信号**
• 某科技股：RSI超买 + 顶背离
• 某地产股：跌破重要支撑位

**观望信号**
• 大盘指数：在关键阻力位附近震荡
• 建议等待明确突破信号

⚠️ **风险提示**：技术指标具有滞后性，建议结合基本面分析使用。信号仅供参考，投资需谨慎。`,backtest:`📈 **策略回测结果**

我为您模拟了一个多因子策略的历史回测：

**回测参数**
• 回测期间：2020-01-01 至 2024-01-01
• 初始资金：100万元
• 股票池：沪深300
• 调仓频率：月度

**回测结果**
• 总收益率：+68.5%
• 年化收益率：+14.2%
• 最大回撤：-12.8%
• 夏普比率：1.35
• 胜率：58.3%
• 交易次数：156次

**基准对比**
• 沪深300指数同期收益：+28.3%
• 超额收益：+40.2%
• 信息比率：1.12

✅ **策略评价**：该策略在历史数据中表现良好，具有较好的风险调整收益。但请注意，历史表现不代表未来收益。`};let S;t.includes("均值回归策略")?S=`🤖 **均值回归策略详细分析**

**策略原理**
均值回归策略基于"价格会回归到其长期均值"的理论，当价格偏离均值过多时进行反向操作。

**具体实施方案**
1. **参数设置**
   • 均值计算周期：20日移动平均线
   • 偏离阈值：±2个标准差
   • 持仓周期：5-15个交易日

2. **交易规则**
   • 买入条件：价格跌破均值-2σ时买入
   • 卖出条件：价格回归到均值+1σ时卖出
   • 止损条件：价格继续偏离超过-3σ时止损

3. **风险控制**
   • 单笔投资不超过总资金的10%
   • 同时持仓不超过5只股票
   • 设置15%的止损线

**适用环境**
• 最适合：震荡市场，波动率适中
• 不适合：单边趋势市场
• 推荐板块：大盘蓝筹股、银行股

**预期表现**
• 年化收益：12-18%
• 最大回撤：-8.2%
• 胜率：约65%
• 夏普比率：1.34

**实操建议**
1. 选择流动性好的大盘股
2. 避免在重大事件前后使用
3. 定期检查参数有效性
4. 结合基本面筛选标的`:t.includes("动量策略")?S=`🚀 **动量策略详细分析**

**策略原理**
动量策略基于"强者恒强"的市场规律，追踪价格趋势的持续性，在上涨趋势中买入强势股票。

**具体实施方案**
1. **参数设置**
   • 动量周期：过去20个交易日
   • 强势阈值：涨幅排名前20%
   • 持仓周期：1-3个月

2. **交易规则**
   • 买入条件：股票20日涨幅>15%且成交量放大
   • 加仓条件：突破前期高点且量价齐升
   • 卖出条件：跌破20日均线或涨幅排名跌出前50%

3. **风险控制**
   • 严格止损：跌破买入价8%立即止损
   • 分批建仓：分3次建仓，每次1/3仓位
   • 行业分散：不超过3个行业

**适用环境**
• 最适合：牛市或明确上升趋势
• 不适合：震荡市或熊市
• 推荐板块：科技股、新能源、医药

**预期表现**
• 年化收益：15-25%
• 最大回撤：-15.7%
• 胜率：约55%
• 夏普比率：1.12

**实操建议**
1. 关注市场热点和题材股
2. 严格执行止损纪律
3. 在趋势确立后再进入
4. 注意仓位管理，避免追高`:t.includes("配对交易")?S=`⚖️ **配对交易策略详细分析**

**策略原理**
配对交易通过做多被低估的股票，同时做空被高估的股票，利用两只相关股票间的价差回归获利。

**具体实施方案**
1. **股票配对选择**
   • 同行业龙头股：如招商银行 vs 平安银行
   • 相关系数>0.7的股票对
   • 基本面相似但估值有差异

2. **交易规则**
   • 价差偏离历史均值2σ时建仓
   • 做多相对便宜的股票
   • 做空相对昂贵的股票（A股可用融券）
   • 价差回归到均值时平仓

3. **风险控制**
   • 市场中性：多空仓位基本平衡
   • 止损线：价差继续扩大超过3σ
   • 时间止损：持仓超过3个月强制平仓

**适用环境**
• 最适合：任何市场环境（市场中性）
• 特别适合：震荡市场
• 推荐配对：银行股、地产股、钢铁股

**预期表现**
• 年化收益：8-12%
• 最大回撤：-4.1%
• 胜率：约70%
• 夏普比率：1.67

**实操建议**
1. 选择流动性好的股票对
2. 定期检查相关性是否稳定
3. 注意融券成本和可融券数量
4. 避免在重大事件期间操作`:t.includes("多因子模型")?S=`🧮 **多因子选股模型详细分析**

**策略原理**
多因子模型通过综合多个有效因子对股票进行评分排序，选择综合评分最高的股票构建投资组合。

**具体实施方案**
1. **因子体系**
   • 估值因子（25%权重）：PE、PB、PS
   • 盈利因子（30%权重）：ROE、ROA、净利润增长率
   • 成长因子（25%权重）：营收增长率、EPS增长率
   • 质量因子（20%权重）：资产负债率、现金流

2. **选股流程**
   • 因子标准化处理
   • 加权计算综合得分
   • 选择得分前20%的股票
   • 等权重构建投资组合

3. **调仓规则**
   • 调仓频率：每月调仓一次
   • 换手率控制：单次调仓不超过30%
   • 行业中性：各行业权重不偏离基准过多

**适用环境**
• 最适合：中长期投资
• 适用市场：各种市场环境
• 推荐范围：全市场选股

**预期表现**
• 年化收益：15-20%
• 最大回撤：-9.8%
• 胜率：约62%
• 夏普比率：1.45

**实操建议**
1. 定期检查因子有效性
2. 根据市场环境调整因子权重
3. 注意因子间的相关性
4. 结合宏观环境优化模型`:t.includes("因子")?S=k.factor:t.includes("信号")||t.includes("技术指标")||t.includes("MACD")||t.includes("RSI")?S=k.signal:t.includes("回测")?S=k.backtest:S=k.strategy,_={role:"assistant",content:S,hasStockInfo:!1,isQuantAnalysis:!0}}else if(n){const k={code:"000001",name:"平安银行",price:"12.45",change:.23,changePercent:1.88,industry:"银行",pe:5.2,pb:.8,marketCap:24e10,analysis:{fundamental:"公司基本面良好，ROE持续提升，资产质量稳定。",technical:"技术面显示股价处于上升通道，MACD金叉，RSI指标健康。",recommendation:"建议适量配置，目标价位13.5元。",risk:"需关注银行业监管政策变化和利率环境影响。"}};_={role:"assistant",content:`根据您的查询，我为您分析了${k.name}(${k.code})：

**基本信息**
• 当前价格：¥${k.price}
• 涨跌幅：${k.change>0?"+":""}${k.change}(${k.changePercent>0?"+":""}${k.changePercent}%)
• 所属行业：${k.industry}
• 市盈率：${k.pe}
• 市净率：${k.pb}

**投资分析**
📊 **基本面分析**：${k.analysis.fundamental}

📈 **技术面分析**：${k.analysis.technical}

💡 **投资建议**：${k.analysis.recommendation}

⚠️ **风险提示**：${k.analysis.risk}`,stockInfo:k,hasStockInfo:!0}}else if(t.includes("markdown")||t.includes("测试")||t.includes("格式"))_={role:"assistant",content:`# Markdown语法测试

## 基本格式

**粗体文本** 和 *斜体文本* 以及 ~~删除线文本~~

### 列表示例

#### 无序列表
- 第一项
- 第二项
  - 子项目 A
  - 子项目 B
- 第三项

#### 有序列表
1. 首先做这个
2. 然后做那个
3. 最后完成
   1. 子步骤 1
   2. 子步骤 2

### 代码示例

这是\`内联代码\`示例。

\`\`\`javascript
// 这是代码块示例
function calculateReturn(price, cost) {
  return ((price - cost) / cost * 100).toFixed(2) + '%';
}

const stockReturn = calculateReturn(12.45, 10.20);
console.log('投资收益率:', stockReturn);
\`\`\`

\`\`\`python
# Python代码示例
import pandas as pd
import numpy as np

def analyze_stock(data):
    """分析股票数据"""
    return {
        'mean': data.mean(),
        'std': data.std(),
        'sharpe': data.mean() / data.std()
    }
\`\`\`

### 引用文本

> 投资有风险，入市需谨慎。
> 
> 这是一个重要的投资原则，所有投资者都应该牢记。

### 表格示例

| 股票代码 | 股票名称 | 当前价格 | 涨跌幅 | 推荐等级 |
|---------|---------|---------|--------|----------|
| 000001  | 平安银行 | 12.45   | +1.88% | 买入     |
| 600519  | 贵州茅台 | 1678.90 | -0.74% | 持有     |
| 300750  | 宁德时代 | 185.50  | +4.62% | 买入     |

### 链接示例

访问 [上海证券交易所](https://www.sse.com.cn) 获取更多信息。

### 分割线

---

### 任务列表

- [x] 完成市场分析
- [x] 更新投资组合
- [ ] 制定下周投资计划
- [ ] 风险评估报告

这样的markdown格式可以让投资信息更加清晰易读！`,hasStockInfo:!1};else{const k=["根据您的风险偏好和投资目标，我建议您可以关注以下股票。","从技术面分析，该股票目前处于上升趋势，但需要注意风险控制。","根据基本面分析，该公司的财务状况良好，具有长期投资价值。","建议您关注该行业的龙头企业，它们通常具有更好的抗风险能力。","从估值角度来看，目前该股票的PE处于历史低位，具有投资价值。"];_={role:"assistant",content:k[Math.floor(Math.random()*k.length)],hasStockInfo:!1}}return chatHistory.push({role:"user",content:t},_),Promise.resolve({code:200,data:_,message:"success"})}},BREAKPOINTS={"mobile-xs":320,"mobile-sm":375,mobile:480,"mobile-lg":640,"tablet-sm":768,tablet:1024,"tablet-lg":1200,"desktop-sm":1200,"desktop-md":1300,desktop:1400,"desktop-lg":1600,"desktop-xl":1920};let globalBreakpointState=null,globalListeners=new Set;function createGlobalBreakpointState(){const t=ref(window.innerWidth),e=ref(window.innerHeight),s=computed(()=>{const _=t.value;return{isMobileXs:_<=BREAKPOINTS["mobile-xs"],isMobileSm:_<=BREAKPOINTS["mobile-sm"],isMobile:_<=BREAKPOINTS.mobile,isMobileLg:_<=BREAKPOINTS["mobile-lg"],isTabletSm:_<=BREAKPOINTS["tablet-sm"],isTablet:_<=BREAKPOINTS.tablet,isTabletLg:_<=BREAKPOINTS["tablet-lg"],isDesktopSm:_>=BREAKPOINTS["desktop-sm"],isDesktopMd:_>=BREAKPOINTS["desktop-md"],isDesktop:_>=BREAKPOINTS.desktop,isDesktopLg:_>=BREAKPOINTS["desktop-lg"],isDesktopXl:_>=BREAKPOINTS["desktop-xl"]}}),o=computed(()=>{const _=t.value;return _<=BREAKPOINTS["tablet-sm"]?"mobile":_<=BREAKPOINTS.desktop?"tablet":"desktop"}),a=computed(()=>t.value<=BREAKPOINTS["tablet-sm"]),n=computed(()=>t.value>BREAKPOINTS["tablet-sm"]&&t.value<=BREAKPOINTS.desktop),r=computed(()=>t.value>BREAKPOINTS.desktop),d=computed(()=>e.value>t.value),m=computed(()=>t.value>e.value),c=computed(()=>"ontouchstart"in window||navigator.maxTouchPoints>0);return{currentWidth:t,currentHeight:e,breakpointStates:s,deviceType:o,isMobileView:a,isTabletView:n,isDesktopView:r,isPortrait:d,isLandscape:m,isTouchDevice:c,updateDimensions:()=>{const _=window.innerWidth,k=window.innerHeight;(t.value!==_||e.value!==k)&&(t.value=_,e.value=k,globalListeners.forEach(S=>S({width:_,height:k,deviceType:o.value,isMobileView:a.value})))}}}function setupGlobalListeners(){if(typeof window>"u")return;let t=null;const e=()=>{t&&clearTimeout(t),t=setTimeout(()=>{globalBreakpointState.updateDimensions()},16)};return window.addEventListener("resize",e,{passive:!0}),screen.orientation?screen.orientation.addEventListener("change",e):window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),screen.orientation?screen.orientation.removeEventListener("change",e):window.removeEventListener("orientationchange",e),t&&clearTimeout(t)}}function useResponsiveBreakpoints(){if(!globalBreakpointState&&typeof window<"u"&&(globalBreakpointState=createGlobalBreakpointState(),setupGlobalListeners()),!globalBreakpointState)return{currentWidth:ref(1920),currentHeight:ref(1080),breakpointStates:ref({}),deviceType:ref("desktop"),isMobileView:ref(!1),isTabletView:ref(!1),isDesktopView:ref(!0),isPortrait:ref(!1),isLandscape:ref(!0),isTouchDevice:ref(!1),addBreakpointListener:()=>{},removeBreakpointListener:()=>{},checkBreakpoint:()=>!1,getBreakpointValue:()=>0};const t=a=>{globalListeners.add(a)},e=a=>{globalListeners.delete(a)},s=(a,n="max")=>{const r=BREAKPOINTS[a];if(!r)return console.warn(`断点 ${a} 不存在`),!1;const d=globalBreakpointState.currentWidth.value;return n==="max"?d<=r:d>=r},o=a=>BREAKPOINTS[a]||0;return onUnmounted(()=>{}),{currentWidth:globalBreakpointState.currentWidth,currentHeight:globalBreakpointState.currentHeight,breakpointStates:globalBreakpointState.breakpointStates,deviceType:globalBreakpointState.deviceType,isMobileView:globalBreakpointState.isMobileView,isTabletView:globalBreakpointState.isTabletView,isDesktopView:globalBreakpointState.isDesktopView,isPortrait:globalBreakpointState.isPortrait,isLandscape:globalBreakpointState.isLandscape,isTouchDevice:globalBreakpointState.isTouchDevice,addBreakpointListener:t,removeBreakpointListener:e,checkBreakpoint:s,getBreakpointValue:o}}function useMobileDetection(){const{isMobileView:t,deviceType:e,isTouchDevice:s}=useResponsiveBreakpoints();return{isMobileView:t,deviceType:e,isTouchDevice:s}}const _hoisted_1$A={class:"market-index-card"},_hoisted_2$y={class:"card-header"},_hoisted_3$y={class:"header-content"},_hoisted_4$x={class:"market-status"},_hoisted_5$v={class:"update-time"},_hoisted_6$u={class:"index-list"},_hoisted_7$t=["onClick"],_hoisted_8$r={class:"trend-icon"},_hoisted_9$r={key:0,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},_hoisted_10$q={key:1,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},_hoisted_11$o={key:2,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round"},_hoisted_12$o={class:"index-content"},_hoisted_13$n={class:"index-header"},_hoisted_14$l={class:"index-info"},_hoisted_15$l={class:"index-name"},_hoisted_16$l={class:"index-code"},_hoisted_17$l={class:"index-price-section"},_hoisted_18$k={class:"change-section"},_hoisted_19$k={class:"change-info"},_hoisted_20$j={class:"change-value"},_hoisted_21$i={class:"change-percent"},_hoisted_22$i={class:"change-progress"},_hoisted_23$i={class:"progress-bar"},_hoisted_24$i={class:"mini-chart"},_hoisted_25$h={width:"100%",height:"24",class:"trend-line"},_hoisted_26$h=["d","stroke"],_sfc_main$A={__name:"MarketIndex",emits:["send-to-chat"],setup(t,{emit:e}){const s=e,o=ref(""),a=ref([{code:"SH000001",name:"上证指数",price:"3245.68",change:12.45,changePercent:.38,trendData:[3233,3238,3241,3245,3248,3246,3245]},{code:"SZ399001",name:"深证成指",price:"10856.32",change:-23.67,changePercent:-.22,trendData:[10880,10875,10870,10865,10860,10858,10856]},{code:"SZ399006",name:"创业板指",price:"2134.89",change:8.92,changePercent:.42,trendData:[2126,2128,2130,2132,2134,2135,2135]},{code:"SH000300",name:"沪深300",price:"3876.54",change:15.23,changePercent:.39,trendData:[3861,3865,3870,3873,3875,3876,3877]}]),n=computed(()=>{const l=a.value.filter(k=>k.change>0).length,_=a.value.length;return l>=_*.75?"bullish":l<=_*.25?"bearish":"mixed"});let r=null;const d=l=>{const S=l.trendData||[];if(S.length<2)return"";const g=Math.min(...S),f=Math.max(...S)-g||1;return`M ${S.map((b,y)=>{const $=y/(S.length-1)*80,w=20-(b-g)/f*20;return`${$},${w}`}).join(" L ")}`},m=()=>{a.value.forEach(l=>{const _=(Math.random()-.5)*20,k=(Math.random()-.5)*2;l.change=parseFloat(_.toFixed(2)),l.changePercent=parseFloat(k.toFixed(2));const g=parseFloat(l.price)+_;l.price=g.toFixed(2),l.trendData&&(l.trendData.shift(),l.trendData.push(g))}),o.value=new Date().toLocaleTimeString("zh-CN",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})},c=l=>{s("send-to-chat",{type:"market",content:l,title:`${l.name}指数分析`})};return onMounted(()=>{m(),r=setInterval(m,3e4)}),onUnmounted(()=>{r&&clearInterval(r)}),(l,_)=>(openBlock(),createElementBlock("div",_hoisted_1$A,[createBaseVNode("div",_hoisted_2$y,[createBaseVNode("div",_hoisted_3$y,[_[0]||(_[0]=createBaseVNode("div",{class:"title-section"},[createBaseVNode("div",{class:"title-icon"},"📈"),createBaseVNode("h3",{class:"card-title"},"大盘指数")],-1)),createBaseVNode("div",_hoisted_4$x,[createBaseVNode("div",{class:normalizeClass(["status-indicator",n.value])},null,2),createBaseVNode("div",_hoisted_5$v,toDisplayString(o.value),1)])])]),createBaseVNode("div",_hoisted_6$u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value,(k,S)=>(openBlock(),createElementBlock("div",{key:k.code,class:normalizeClass(["index-card",{positive:k.change>0,negative:k.change<0,neutral:k.change===0}]),onClick:g=>c(k),style:normalizeStyle({"--delay":S*.1+"s"})},[_[4]||(_[4]=createBaseVNode("div",{class:"card-background"},null,-1)),createBaseVNode("div",_hoisted_8$r,[createBaseVNode("div",{class:normalizeClass(["trend-arrow",k.change>0?"up":k.change<0?"down":"flat"])},[k.change>0?(openBlock(),createElementBlock("svg",_hoisted_9$r,_[1]||(_[1]=[createBaseVNode("line",{x1:"12",y1:"19",x2:"12",y2:"5"},null,-1),createBaseVNode("polyline",{points:"5,12 12,5 19,12"},null,-1)]))):k.change<0?(openBlock(),createElementBlock("svg",_hoisted_10$q,_[2]||(_[2]=[createBaseVNode("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),createBaseVNode("polyline",{points:"19,12 12,19 5,12"},null,-1)]))):(openBlock(),createElementBlock("svg",_hoisted_11$o,_[3]||(_[3]=[createBaseVNode("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)])))],2)]),createBaseVNode("div",_hoisted_12$o,[createBaseVNode("div",_hoisted_13$n,[createBaseVNode("div",_hoisted_14$l,[createBaseVNode("div",_hoisted_15$l,toDisplayString(k.name),1),createBaseVNode("div",_hoisted_16$l,toDisplayString(k.code),1)]),createBaseVNode("div",_hoisted_17$l,[(openBlock(),createElementBlock("div",{class:"index-price",key:k.price},toDisplayString(k.price),1))])]),createBaseVNode("div",_hoisted_18$k,[createBaseVNode("div",_hoisted_19$k,[createBaseVNode("span",_hoisted_20$j,toDisplayString(k.change>0?"+":"")+toDisplayString(k.change),1),createBaseVNode("span",_hoisted_21$i,"("+toDisplayString(k.changePercent>0?"+":"")+toDisplayString(k.changePercent)+"%)",1)]),createBaseVNode("div",_hoisted_22$i,[createBaseVNode("div",_hoisted_23$i,[createBaseVNode("div",{class:"progress-fill",style:normalizeStyle({width:Math.min(Math.abs(k.changePercent)*10,100)+"%",backgroundColor:k.change>0?"#ef4444":k.change<0?"#10b981":"#6b7280"})},null,4)])])]),createBaseVNode("div",_hoisted_24$i,[(openBlock(),createElementBlock("svg",_hoisted_25$h,[createBaseVNode("path",{d:d(k),stroke:k.change>0?"#ef4444":k.change<0?"#10b981":"#6b7280","stroke-width":"1.5",fill:"none"},null,8,_hoisted_26$h)]))])]),_[5]||(_[5]=createBaseVNode("div",{class:"hover-overlay"},null,-1))],14,_hoisted_7$t))),128))])]))}},MarketIndex=_export_sfc(_sfc_main$A,[["__scopeId","data-v-6810ea1d"]]),_hoisted_1$z={key:0,class:"price-tag-container"},_hoisted_2$x={class:"price-tag original-price"},_hoisted_3$x={class:"price-tag promo-price"},_hoisted_4$w=["onClick"],_hoisted_5$u={class:"dropdown-text"},_hoisted_6$t={key:0,class:"dropdown-price"},_hoisted_7$s={key:0,class:"price-tag-container"},_hoisted_8$q={class:"price-tag original-price"},_hoisted_9$q={class:"price-tag promo-price"},_sfc_main$z={__name:"StockActionButtons",props:{stock:{type:Object,required:!0},actions:{type:Array,default:()=>[]},size:{type:String,default:"small",validator:t=>["large","default","small"].includes(t)},isMobile:{type:Boolean,default:!1},containerClass:{type:String,default:""},mode:{type:String,default:"full",validator:t=>["full","compact","minimal"].includes(t)},maxButtons:{type:Number,default:4}},emits:["action-click","add-watchlist","remove-watchlist","buy-stock","sell-stock","paid-analysis","ai-trading","show-buy-dialog","show-sell-dialog","show-analysis-dialog","show-ai-trading-dialog"],setup(t,{emit:e}){const s=t,o=e,a=useUserStore(),n=ref(!1),r=ref(null),d=computed(()=>s.isMobile?s.mode==="minimal"?"small":"default":s.size),m=computed(()=>a.isInWatchlist(s.stock.code)),c=computed(()=>{var x;let w=[...s.actions];if(w=w.filter(v=>v.key==="addWatchlist"?!m.value:v.key==="removeWatchlist"?m.value:!0),s.mode==="minimal"){const v=["addWatchlist","removeWatchlist","buy","sell"];w=w.filter(C=>v.includes(C.key))}else if(s.mode==="compact"){const v=["analysis","paidAnalysis","aiTrading","quantAnalysis","addWatchlist","removeWatchlist","buy","sell"];w=w.sort((C,T)=>{const D=v.indexOf(C.key),B=v.indexOf(T.key);return(D===-1?999:D)-(B===-1?999:B)})}return console.log("📋 visibleActions 计算结果:",{stockCode:((x=s.stock)==null?void 0:x.code)||"unknown",originalActions:s.actions.map(v=>v.key),filteredActions:w.map(v=>v.key),isInWatchlist:m.value,isMobile:s.isMobile,maxButtons:s.maxButtons}),w}),l=computed(()=>{var x;const w=s.isMobile&&c.value.length>2;return console.log("🔍 StockActionButtons shouldShowDropdown:",{stockCode:((x=s.stock)==null?void 0:x.code)||"unknown",isMobile:s.isMobile,visibleActionsLength:c.value.length,shouldShowDropdown:w,visibleActions:c.value.map(v=>v.key),mode:s.mode,maxButtons:s.maxButtons,allActions:s.actions.map(v=>v.key)}),w}),_=computed(()=>{if(!s.isMobile||!l.value)return c.value;const w=["analysis","paidAnalysis","aiTrading","quantAnalysis"],x=[...c.value],v=[];for(w.forEach(C=>{const T=x.findIndex(D=>D.key===C);T!==-1&&v.length<2&&v.push(x.splice(T,1)[0])});v.length<2&&x.length>0;)v.push(x.shift());return console.log("📱 Primary actions:",v.map(C=>C.key)),v}),k=computed(()=>{if(!s.isMobile||!l.value)return console.log("📋 Secondary actions: 无 (isMobile:",s.isMobile,", shouldShowDropdown:",l.value,")"),[];const w=_.value.map(v=>v.key),x=c.value.filter(v=>!w.includes(v.key));return console.log("📋 Secondary actions:",x.map(v=>v.key)),x}),S=computed(()=>{if(!r.value||!n.value)return{};const w=r.value.getBoundingClientRect();return{position:"fixed",top:`${w.bottom+4}px`,left:`${w.right-140}px`,zIndex:2e4}}),g=w=>{console.log("🚀 StockActionButtons - 执行操作:",w.key,s.stock),o("action-click",{action:w.key,stock:s.stock,actionConfig:w});const v={addWatchlist:"add-watchlist",removeWatchlist:"remove-watchlist",buy:"buy-stock",sell:"sell-stock",analysis:"paid-analysis",paidAnalysis:"paid-analysis",aiTrading:"ai-trading",quantAnalysis:"ai-trading"}[w.key];v&&o(v,s.stock);const T={buy:"show-buy-dialog",sell:"show-sell-dialog",analysis:"show-analysis-dialog",paidAnalysis:"show-analysis-dialog",aiTrading:"show-ai-trading-dialog",quantAnalysis:"show-ai-trading-dialog"}[w.key];T&&o(T,s.stock)},N=w=>{E(),g(w)},f=()=>{n.value=!n.value},E=()=>{n.value=!1},b=w=>{!w.target.closest(".more-actions-dropdown")&&!w.target.closest(".dropdown-menu")&&E()};onMounted(()=>{document.addEventListener("click",b)}),onUnmounted(()=>{document.removeEventListener("click",b)});const y=w=>{const x={addWatchlist:"加自选",removeWatchlist:"移除",buy:"买入",sell:"卖出",analysis:"分析",paidAnalysis:"分析",aiTrading:"AI交易",quantAnalysis:"AI交易",addPosition:"加仓"};return w.mobileText?w.mobileText:x[w.key]?x[w.key]:w.text&&w.text.length>4?w.text.substring(0,4):w.text||"操作"},$=w=>w.icon?w.icon.includes("M")?h("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[h("path",{d:w.icon,stroke:"currentColor","stroke-width":"2",fill:w.iconFill||"none"})]):h("span",{class:"icon-text"},w.icon):null;return(w,x)=>{const v=resolveComponent("el-button");return openBlock(),createElementBlock("div",{class:normalizeClass(["stock-action-buttons",[t.containerClass,{mobile:t.isMobile,[t.mode]:!0}]])},[t.isMobile&&l.value?(openBlock(),createElementBlock(Fragment,{key:0},[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value,C=>(openBlock(),createBlock(v,{key:C.key,type:C.type||"default",size:d.value,onClick:withModifiers(T=>g(C),["stop"]),class:normalizeClass([C.class,"stock-action-btn"]),loading:C.loading},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($(C)))),createTextVNode(" "+toDisplayString(y(C))+" ",1),C.priceTag?(openBlock(),createElementBlock("div",_hoisted_1$z,[createBaseVNode("span",_hoisted_2$x,toDisplayString(C.priceTag.original),1),createBaseVNode("span",_hoisted_3$x,toDisplayString(C.priceTag.promo),1)])):createCommentVNode("",!0)]),_:2},1032,["type","size","onClick","class","loading"]))),128)),k.value.length>0?(openBlock(),createElementBlock("div",{key:0,class:"more-actions-dropdown",ref_key:"moreButton",ref:r},[createBaseVNode("button",{class:"more-btn",onClick:withModifiers(f,["stop"])},x[2]||(x[2]=[createBaseVNode("span",{class:"more-icon"},"⋯",-1)])),(openBlock(),createBlock(Teleport,{to:"body"},[n.value?(openBlock(),createElementBlock("div",{key:0,class:"dropdown-overlay",onClick:x[1]||(x[1]=C=>n.value=!1)},[createBaseVNode("div",{class:"dropdown-menu",onClick:x[0]||(x[0]=withModifiers(()=>{},["stop"])),style:normalizeStyle(S.value)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.value,C=>(openBlock(),createElementBlock("div",{key:C.key,class:"dropdown-item",onClick:T=>N(C)},[(openBlock(),createBlock(resolveDynamicComponent($(C)))),createBaseVNode("span",_hoisted_5$u,toDisplayString(y(C)),1),C.priceTag?(openBlock(),createElementBlock("div",_hoisted_6$t,toDisplayString(C.priceTag.promo),1)):createCommentVNode("",!0)],8,_hoisted_4$w))),128))],4)])):createCommentVNode("",!0)]))],512)):createCommentVNode("",!0)],64)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(c.value,C=>(openBlock(),createBlock(v,{key:C.key,type:C.type||"default",size:d.value,onClick:withModifiers(T=>g(C),["stop"]),class:normalizeClass([C.class,"stock-action-btn"]),loading:C.loading},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($(C)))),createTextVNode(" "+toDisplayString(t.isMobile?y(C):C.text)+" ",1),C.priceTag?(openBlock(),createElementBlock("div",_hoisted_7$s,[createBaseVNode("span",_hoisted_8$q,toDisplayString(C.priceTag.original),1),createBaseVNode("span",_hoisted_9$q,toDisplayString(C.priceTag.promo),1)])):createCommentVNode("",!0)]),_:2},1032,["type","size","onClick","class","loading"]))),128))],2)}}},StockActionButtons=_export_sfc(_sfc_main$z,[["__scopeId","data-v-85498b40"]]),_hoisted_1$y={class:"stock-list-container"},_hoisted_2$w={key:0,class:"list-toolbar"},_hoisted_3$w={class:"toolbar-left"},_hoisted_4$v={key:0,class:"toolbar-title"},_hoisted_5$t={key:1,class:"toolbar-time"},_hoisted_6$s={class:"toolbar-right"},_hoisted_7$r=["onClick"],_hoisted_8$p={class:"stock-info"},_hoisted_9$p={class:"stock-header"},_hoisted_10$p={class:"stock-name-code"},_hoisted_11$n={class:"name-code-row"},_hoisted_12$n={class:"stock-name"},_hoisted_13$m={class:"stock-code"},_hoisted_14$k={class:"stock-status"},_hoisted_15$k={key:0,class:"recommend-index"},_hoisted_16$k={class:"recommend-stars"},_hoisted_17$k={class:"recommend-score"},_hoisted_18$j={key:1,class:"watchlist-status"},_hoisted_19$j={class:"status-value"},_hoisted_20$i={class:"status-value"},_hoisted_21$h={class:"stock-price-change"},_hoisted_22$h={class:"current-price"},_hoisted_23$h={class:"stock-details"},_hoisted_24$h={key:0,class:"detail-group"},_hoisted_25$g={key:0,class:"detail-item"},_hoisted_26$g={class:"detail-value target-price"},_hoisted_27$g={key:1,class:"detail-item"},_hoisted_28$f={class:"detail-value expected-return"},_hoisted_29$e={key:2,class:"detail-item"},_hoisted_30$e={class:"detail-value risk-level"},_hoisted_31$e={key:3,class:"detail-item"},_hoisted_32$e={class:"detail-value industry"},_hoisted_33$e={key:1,class:"detail-group watchlist-details"},_hoisted_34$e={key:0,class:"detail-item"},_hoisted_35$d={class:"detail-value industry"},_hoisted_36$d={class:"detail-item"},_hoisted_37$d={class:"detail-value recommend-level"},_hoisted_38$d={key:2,class:"detail-group position-details"},_hoisted_39$b={class:"detail-item"},_hoisted_40$b={class:"detail-value"},_hoisted_41$a={class:"detail-item"},_hoisted_42$a={class:"detail-value"},_hoisted_43$9={class:"detail-item"},_hoisted_44$9={class:"detail-value target-price"},_hoisted_45$9={class:"detail-item"},_hoisted_46$9={class:"detail-value industry"},_hoisted_47$8={key:3,class:"stock-reason"},_hoisted_48$8={class:"reason-text"},_hoisted_49$7={key:0,class:"stock-actions"},_hoisted_50$7={key:1,class:"list-footer"},_sfc_main$y={__name:"StockList",props:{stocks:{type:Array,default:()=>[]},actions:{type:Array,default:()=>[]},showToolbar:{type:Boolean,default:!1},toolbarTitle:{type:String,default:""},showTime:{type:Boolean,default:!1},timestamp:{type:[String,Number,Date],default:null},showRecommendIndex:{type:Boolean,default:!1},showRecommendTooltip:{type:Boolean,default:!1},showWatchlistStatus:{type:Boolean,default:!1},showPositionStatus:{type:Boolean,default:!1},showBasicDetails:{type:Boolean,default:!0},showWatchlistDetails:{type:Boolean,default:!1},showPositionDetails:{type:Boolean,default:!1},showReason:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!1},listClass:{type:String,default:""},clickable:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},emits:["stock-click","action-click","add-watchlist","remove-watchlist","sell-stock","buy-stock","paid-analysis","ai-trading"],setup(t,{emit:e}){const s=t,o=e;useUserStore();const a={"000001":12.68,"000858":52.3,"000002":24.15,300750:485.2,600519:1680.5,"000700":15.8},n=N=>N.currentPrice?N.currentPrice:N.price?N.price:a[N.code]||0,r=N=>{let f=N.change||0;return typeof f=="string"&&(f=parseFloat(f.replace(/[+%]/g,""))||0),{positive:f>0,negative:f<0,neutral:f===0}},d=N=>{let f=N.change||0,E=N.changePercent||0;if(typeof f=="string"&&typeof E=="string")return`${f} (${E})`;const b=f>0?`+${f}`:f.toString(),y=E>0?`+${E}%`:`${E}%`;return`${b} (${y})`},m=N=>({强烈推荐:"strong-recommend",推荐:"recommend",中性:"neutral",谨慎:"caution"})[N]||"neutral",c=N=>{const f=new Date(N),b=new Date-f,y=Math.floor(b/(1e3*60*60*24));return y===0?"今天添加":y===1?"昨天添加":y<7?`${y}天前添加`:f.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})},l=N=>{if(!N)return"";const f=new Date(N),b=new Date-f,y=Math.floor(b/(1e3*60)),$=Math.floor(b/(1e3*60*60)),w=Math.floor(b/(1e3*60*60*24));return y<60?`${y}分钟前`:$<24?`${$}小时前`:w<7?`${w}天前`:f.toLocaleDateString("zh-CN")},_=N=>!N.quantity||!N.avgPrice?0:(n(N)-N.avgPrice)*N.quantity,k=N=>N.avgPrice?(n(N)-N.avgPrice)/N.avgPrice*100:0,S=N=>{s.clickable&&o("stock-click",N)},g=N=>{const{action:f,stock:E}=N;o("action-click",{action:f,stock:E});const y={addWatchlist:"add-watchlist",removeWatchlist:"remove-watchlist",sell:"sell-stock",buy:"buy-stock",analysis:"paid-analysis",paidAnalysis:"paid-analysis",aiTrading:"ai-trading",quantAnalysis:"ai-trading"}[f];y&&o(y,E)};return(N,f)=>{const E=resolveComponent("el-icon"),b=resolveComponent("el-tooltip");return openBlock(),createElementBlock("div",_hoisted_1$y,[t.showToolbar?(openBlock(),createElementBlock("div",_hoisted_2$w,[createBaseVNode("div",_hoisted_3$w,[t.toolbarTitle?(openBlock(),createElementBlock("span",_hoisted_4$v,toDisplayString(t.toolbarTitle),1)):createCommentVNode("",!0),t.showTime?(openBlock(),createElementBlock("span",_hoisted_5$t,toDisplayString(l(t.timestamp)),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_6$s,[renderSlot(N.$slots,"toolbar-actions",{},void 0,!0)])])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["stock-list",t.listClass])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.stocks,(y,$)=>{var w;return openBlock(),createElementBlock("div",{key:y.code||$,class:normalizeClass(["stock-item",{clickable:t.clickable}]),onClick:x=>S(y)},[createBaseVNode("div",_hoisted_8$p,[createBaseVNode("div",_hoisted_9$p,[createBaseVNode("div",_hoisted_10$p,[createBaseVNode("div",_hoisted_11$n,[createBaseVNode("span",_hoisted_12$n,toDisplayString(y.name),1),createBaseVNode("span",_hoisted_13$m,"("+toDisplayString(y.code)+")",1)]),createBaseVNode("div",_hoisted_14$k,[t.showRecommendIndex&&y.recommendIndex?(openBlock(),createElementBlock("div",_hoisted_15$k,[createBaseVNode("div",_hoisted_16$k,[(openBlock(),createElementBlock(Fragment,null,renderList(5,x=>createBaseVNode("span",{key:x,class:normalizeClass(["star",x<=Math.floor(y.recommendIndex)?"filled":x<=y.recommendIndex?"half":"empty"])}," ★ ",2)),64))]),createBaseVNode("span",_hoisted_17$k,toDisplayString(y.recommendIndex)+"/5.0",1),t.showRecommendTooltip?(openBlock(),createBlock(b,{key:0,placement:"top",effect:"dark","show-after":100},{content:withCtx(()=>f[0]||(f[0]=[createBaseVNode("div",{class:"recommend-index-tooltip"},[createBaseVNode("div",{class:"tooltip-title"},"推荐指数说明："),createBaseVNode("div",{class:"tooltip-item"},[createBaseVNode("span",{class:"score"},"5.0："),createBaseVNode("span",{class:"desc"},"强烈推荐 - 投资价值极高")]),createBaseVNode("div",{class:"tooltip-item"},[createBaseVNode("span",{class:"score"},"4.0-4.9："),createBaseVNode("span",{class:"desc"},"推荐 - 具备较好投资价值")]),createBaseVNode("div",{class:"tooltip-item"},[createBaseVNode("span",{class:"score"},"3.0-3.9："),createBaseVNode("span",{class:"desc"},"中性 - 可持续观察")]),createBaseVNode("div",{class:"tooltip-item"},[createBaseVNode("span",{class:"score"},"2.0-2.9："),createBaseVNode("span",{class:"desc"},"谨慎 - 建议控制仓位")]),createBaseVNode("div",{class:"tooltip-item"},[createBaseVNode("span",{class:"score"},"1.0-1.9："),createBaseVNode("span",{class:"desc"},"不推荐 - 建议回避")])],-1)])),default:withCtx(()=>[createVNode(E,{class:"help-icon"},{default:withCtx(()=>[createVNode(unref(question_filled_default))]),_:1})]),_:1})):createCommentVNode("",!0),y.recommendLevel?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(["recommend-level",m(y.recommendLevel)])},toDisplayString(y.recommendLevel),3)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.showWatchlistStatus&&y.addedAt?(openBlock(),createElementBlock("div",_hoisted_18$j,[f[1]||(f[1]=createBaseVNode("span",{class:"status-label"},"关注：",-1)),createBaseVNode("span",_hoisted_19$j,toDisplayString(c(y.addedAt)),1)])):createCommentVNode("",!0),t.showPositionStatus&&y.quantity?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(["position-status",_(y)>=0?"profit":"loss"])},[f[2]||(f[2]=createBaseVNode("span",{class:"status-label"},"盈亏：",-1)),createBaseVNode("span",_hoisted_20$i,toDisplayString(_(y)>=0?"+":"")+"¥"+toDisplayString(Math.abs(_(y)).toFixed(2))+" ("+toDisplayString(k(y)>=0?"+":"")+toDisplayString(k(y).toFixed(2))+"%) ",1)],2)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_21$h,[createBaseVNode("span",_hoisted_22$h,"¥"+toDisplayString(n(y)),1),createBaseVNode("span",{class:normalizeClass(["price-change",r(y)])},toDisplayString(d(y)),3)])]),createBaseVNode("div",_hoisted_23$h,[t.showBasicDetails?(openBlock(),createElementBlock("div",_hoisted_24$h,[y.targetPrice?(openBlock(),createElementBlock("div",_hoisted_25$g,[f[3]||(f[3]=createBaseVNode("span",{class:"detail-label"},"目标价",-1)),createBaseVNode("span",_hoisted_26$g,"¥"+toDisplayString(y.targetPrice),1)])):createCommentVNode("",!0),y.expectedReturn?(openBlock(),createElementBlock("div",_hoisted_27$g,[f[4]||(f[4]=createBaseVNode("span",{class:"detail-label"},"预期收益",-1)),createBaseVNode("span",_hoisted_28$f,toDisplayString(y.expectedReturn),1)])):createCommentVNode("",!0),y.riskLevel?(openBlock(),createElementBlock("div",_hoisted_29$e,[f[5]||(f[5]=createBaseVNode("span",{class:"detail-label"},"风险等级",-1)),createBaseVNode("span",_hoisted_30$e,toDisplayString(y.riskLevel),1)])):createCommentVNode("",!0),y.industry?(openBlock(),createElementBlock("div",_hoisted_31$e,[f[6]||(f[6]=createBaseVNode("span",{class:"detail-label"},"所属行业",-1)),createBaseVNode("span",_hoisted_32$e,toDisplayString(y.industry),1)])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.showWatchlistDetails?(openBlock(),createElementBlock("div",_hoisted_33$e,[y.industry?(openBlock(),createElementBlock("div",_hoisted_34$e,[f[7]||(f[7]=createBaseVNode("span",{class:"detail-label"},"所属行业",-1)),createBaseVNode("span",_hoisted_35$d,toDisplayString(y.industry||"未分类"),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_36$d,[f[8]||(f[8]=createBaseVNode("span",{class:"detail-label"},"推荐等级",-1)),createBaseVNode("span",_hoisted_37$d,toDisplayString(y.recommendLevel||"中性"),1)])])):createCommentVNode("",!0),t.showPositionDetails&&y.quantity?(openBlock(),createElementBlock("div",_hoisted_38$d,[createBaseVNode("div",_hoisted_39$b,[f[9]||(f[9]=createBaseVNode("span",{class:"detail-label"},"持仓数量：",-1)),createBaseVNode("span",_hoisted_40$b,toDisplayString(y.quantity.toLocaleString())+"股",1)]),createBaseVNode("div",_hoisted_41$a,[f[10]||(f[10]=createBaseVNode("span",{class:"detail-label"},"成本价：",-1)),createBaseVNode("span",_hoisted_42$a,"¥"+toDisplayString((w=y.avgPrice)==null?void 0:w.toFixed(2)),1)]),createBaseVNode("div",_hoisted_43$9,[f[11]||(f[11]=createBaseVNode("span",{class:"detail-label"},"持仓市值：",-1)),createBaseVNode("span",_hoisted_44$9,"¥"+toDisplayString((y.quantity*n(y)).toFixed(2)),1)]),createBaseVNode("div",_hoisted_45$9,[f[12]||(f[12]=createBaseVNode("span",{class:"detail-label"},"所属行业：",-1)),createBaseVNode("span",_hoisted_46$9,toDisplayString(y.industry||"未分类"),1)])])):createCommentVNode("",!0),t.showReason&&y.reason?(openBlock(),createElementBlock("div",_hoisted_47$8,[f[13]||(f[13]=createBaseVNode("span",{class:"reason-label"},"推荐理由：",-1)),createBaseVNode("span",_hoisted_48$8,toDisplayString(y.reason),1)])):createCommentVNode("",!0)])]),t.actions.length>0?(openBlock(),createElementBlock("div",_hoisted_49$7,[createVNode(StockActionButtons,{stock:y,actions:t.actions,"is-mobile":t.isMobile,mode:"compact",size:"small",onActionClick:g},null,8,["stock","actions","is-mobile"])])):createCommentVNode("",!0)],10,_hoisted_7$r)}),128))],2),t.showFooter?(openBlock(),createElementBlock("div",_hoisted_50$7,[renderSlot(N.$slots,"footer",{},void 0,!0)])):createCommentVNode("",!0)])}}},StockList=_export_sfc(_sfc_main$y,[["__scopeId","data-v-404acc06"]]);function useTouchHandler(){const t=ref({startX:0,startY:0,startTime:0,isDragging:!1,currentTarget:null}),e={DRAG_THRESHOLD:10,TAP_TIME_THRESHOLD:300,MOBILE_BREAKPOINT:768};let s=null,o=0;const a=()=>{const l=window.innerWidth;return l!==o&&(s=l<=e.MOBILE_BREAKPOINT,o=l),s},n=(l,_)=>{if(!a())return;const k=_.touches[0];t.value.startX=k.clientX,t.value.startY=k.clientY,t.value.startTime=performance.now(),t.value.isDragging=!1,t.value.currentTarget=l},r=l=>{if(!a()||!t.value.currentTarget)return;const _=l.touches[0],k=Math.abs(_.clientX-t.value.startX),S=Math.abs(_.clientY-t.value.startY);(k>e.DRAG_THRESHOLD||S>e.DRAG_THRESHOLD)&&(t.value.isDragging=!0)},d=(l,_,k=null)=>{if(!a()||!t.value.currentTarget)return!1;const g=performance.now()-t.value.startTime,N=t.value.currentTarget;let f=!1;return g<e.TAP_TIME_THRESHOLD&&!t.value.isDragging?(f=!0,_&&typeof _=="function"&&requestAnimationFrame(()=>{_(N)})):t.value.isDragging&&k&&typeof k=="function"&&k(N,t.value),m(),f},m=()=>{t.value.startX=0,t.value.startY=0,t.value.startTime=0,t.value.isDragging=!1,t.value.currentTarget=null};return{touchState:t,handleTouchStart:n,handleTouchMove:r,handleTouchEnd:d,handleClick:(l,_)=>{!a()&&_&&typeof _=="function"&&requestAnimationFrame(()=>{_(l)})},resetTouchState:m,isMobile:a,TOUCH_CONFIG:e}}const _hoisted_1$x={class:"mobile-stock-list-container"},_hoisted_2$v={key:0,class:"mobile-list-toolbar"},_hoisted_3$v={class:"toolbar-content"},_hoisted_4$u={key:0,class:"toolbar-time"},_hoisted_5$s={class:"toolbar-actions"},_hoisted_6$r={key:0,class:"empty-state"},_hoisted_7$q={class:"empty-text"},_hoisted_8$o=["onClick","onTouchstart"],_hoisted_9$o={class:"stock-main-info"},_hoisted_10$o={class:"stock-identity"},_hoisted_11$m={class:"stock-name-wrapper"},_hoisted_12$m={class:"stock-name"},_hoisted_13$l={class:"stock-code"},_hoisted_14$j={class:"price-section"},_hoisted_15$j={class:"current-price"},_hoisted_16$j={class:"change-amount"},_hoisted_17$j={class:"change-percent"},_hoisted_18$i={key:0,class:"recommend-rating-integrated"},_hoisted_19$i={class:"rating-content-inline"},_hoisted_20$h={class:"rating-stars"},_hoisted_21$g={class:"rating-score"},_hoisted_22$g={key:1,class:"stock-status-info"},_hoisted_23$g={key:0,class:"status-item watchlist-status"},_hoisted_24$g={class:"status-text"},_hoisted_25$f={class:"position-info-inline"},_hoisted_26$f={class:"position-text"},_hoisted_27$f={class:"profit-loss-inline"},_hoisted_28$e={key:2,class:"stock-details-optimized"},_hoisted_29$d={class:"details-grid"},_hoisted_30$d={key:0,class:"detail-item"},_hoisted_31$d={class:"detail-value"},_hoisted_32$d={key:1,class:"detail-item"},_hoisted_33$d={class:"detail-value target"},_hoisted_34$d={key:2,class:"detail-item"},_hoisted_35$c={class:"detail-value return"},_hoisted_36$c={key:3,class:"detail-item"},_hoisted_37$c={class:"detail-value risk"},_hoisted_38$c={key:0,class:"detail-item"},_hoisted_39$a={class:"detail-value"},_hoisted_40$a={key:1,class:"detail-item"},_hoisted_41$9={class:"detail-value"},_hoisted_42$9={key:3,class:"recommend-reason"},_hoisted_43$8=["onClick"],_hoisted_44$8={class:"reason-toggle-btn"},_hoisted_45$8={class:"reason-text"},_hoisted_46$8={key:4,class:"mobile-actions"},_hoisted_47$7={key:1,class:"mobile-list-footer"},_hoisted_48$7={class:"rating-info-header"},_sfc_main$x={__name:"MobileStockList",props:{stocks:{type:Array,default:()=>[]},actions:{type:Array,default:()=>[]},showToolbar:{type:Boolean,default:!1},toolbarTitle:{type:String,default:""},showTime:{type:Boolean,default:!1},timestamp:{type:[String,Number,Date],default:null},showRecommendIndex:{type:Boolean,default:!1},showWatchlistStatus:{type:Boolean,default:!1},showPositionStatus:{type:Boolean,default:!1},showDetails:{type:Boolean,default:!0},showReason:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!1},listClass:{type:String,default:""},clickable:{type:Boolean,default:!1},emptyText:{type:String,default:"暂无股票数据"},emptyDescription:{type:String,default:"请稍后再试或刷新页面"}},emits:["stock-click","action-click","add-watchlist","remove-watchlist","sell-stock","buy-stock","paid-analysis","ai-trading"],setup(t,{emit:e}){const s=t,o=e;useUserStore();const{handleTouchStart:a,handleTouchMove:n,handleTouchEnd:r,handleClick:d}=useTouchHandler(),m=ref(!1),c=ref([]),l=computed(()=>(console.log("📱 MobileStockList maxMobileButtons:",{actionsLength:s.actions.length,actions:s.actions.map(M=>M.key||M.text),maxButtons:2}),2)),_=()=>{if(s.stocks.length>0&&s.showReason){const M=s.stocks[0];M.reason&&!c.value.includes(M.code)&&c.value.push(M.code)}},k={"000001":12.68,"000858":52.3,"000002":24.15,300750:485.2,600519:1680.5,"000700":15.8},S=M=>M.currentPrice?M.currentPrice:M.price?M.price:k[M.code]||0,g=M=>{let R=M.change||0;return typeof R=="string"&&(R=parseFloat(R.replace(/[+%]/g,""))||0),{positive:R>0,negative:R<0,neutral:R===0}},N=M=>{let R=M.change||0;return typeof R=="string"?R.includes("%")?R.split("(")[0].trim():R:R>0?`+${R}`:R.toString()},f=M=>{var P;let R=M.changePercent||0;return typeof R=="string"?R.includes("(")&&((P=R.match(/\((.*?)\)/))==null?void 0:P[1])||R:R>0?`+${R}%`:`${R}%`},E=M=>({强烈推荐:"strong-recommend",推荐:"recommend",中性:"neutral",谨慎:"caution"})[M]||"neutral",b=M=>{const R=new Date(M),K=new Date-R,X=Math.floor(K/(1e3*60*60*24));return X===0?"今天":X===1?"昨天":X<7?`${X}天前`:R.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})},y=M=>M?new Date(M).toLocaleString("zh-CN"):"",$=M=>{if(M==null)return"0.0";if(typeof M=="string"){const R=parseFloat(M);return isNaN(R)?"0.0":R.toFixed(1)}return typeof M=="number"?M.toFixed(1):"0.0"},w=M=>{if(M==null)return 0;if(typeof M=="string"){const R=parseFloat(M);return isNaN(R)?0:R}return typeof M=="number"?M:0},x=M=>s.showWatchlistStatus&&M.addedAt||s.showPositionStatus&&M.quantity,v=M=>{const R=M.industry||M.targetPrice||M.expectedReturn||M.riskLevel,P=s.showPositionStatus&&(M.avgPrice||M.marketValue);return R||P},C=M=>!M.quantity||!M.avgPrice?0:(S(M)-M.avgPrice)*M.quantity,T=M=>M.avgPrice?(S(M)-M.avgPrice)/M.avgPrice*100:0,D=M=>{s.clickable&&o("stock-click",M)},B=M=>{const{action:R,stock:P}=M;o("action-click",{action:R,stock:P});const X={addWatchlist:"add-watchlist",removeWatchlist:"remove-watchlist",sell:"sell-stock",buy:"buy-stock",analysis:"paid-analysis",paidAnalysis:"paid-analysis",aiTrading:"ai-trading",quantAnalysis:"ai-trading"}[R];X&&o(X,P)},I=(M,R)=>{R.currentTarget.style.transform="scale(0.98)",R.currentTarget.style.transition="transform 0.1s ease",a(M,R)},L=M=>{n(M)},U=M=>{setTimeout(()=>{M.currentTarget.style.transform="scale(1)"},100),r(M,R=>{D(R)})},Y=M=>{d(M,R=>{D(R)})},se=M=>{const R=c.value.indexOf(M);R>-1?c.value.splice(R,1):c.value.push(M)},J=M=>{!M.target.closest(".rating-info-popup")&&!M.target.closest(".rating-info-btn")&&(m.value=!1)};return watch(()=>s.stocks,()=>{_()},{immediate:!0}),onMounted(()=>{document.addEventListener("click",J),_(),console.log("MobileStockList mounted:",{stocksLength:s.stocks?s.stocks.length:0,stocks:s.stocks,showToolbar:s.showToolbar,toolbarTitle:s.toolbarTitle,showTime:s.showTime,timestamp:s.timestamp,showRecommendIndex:s.showRecommendIndex,showDetails:s.showDetails,showReason:s.showReason,actionsLength:s.actions?s.actions.length:0})}),onUnmounted(()=>{document.removeEventListener("click",J)}),(M,R)=>(openBlock(),createElementBlock("div",_hoisted_1$x,[t.showToolbar?(openBlock(),createElementBlock("div",_hoisted_2$v,[createBaseVNode("div",_hoisted_3$v,[t.showTime?(openBlock(),createElementBlock("span",_hoisted_4$u,toDisplayString(y(t.timestamp)||"刚刚更新"),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_5$s,[renderSlot(M.$slots,"toolbar-actions",{},void 0,!0)])])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["mobile-stock-list",[t.listClass,{"with-toolbar":t.showToolbar}]])},[!t.stocks||t.stocks.length===0?(openBlock(),createElementBlock("div",_hoisted_6$r,[R[6]||(R[6]=createBaseVNode("div",{class:"empty-icon"},"📊",-1)),createBaseVNode("div",_hoisted_7$q,[createBaseVNode("h4",null,toDisplayString(t.emptyText),1),createBaseVNode("p",null,toDisplayString(t.emptyDescription),1)])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.stocks,(P,K)=>(openBlock(),createElementBlock("div",{key:P.code||K,class:normalizeClass(["mobile-stock-card",{clickable:t.clickable}]),onClick:X=>Y(P),onTouchstart:X=>I(P,X),onTouchmove:R[1]||(R[1]=X=>L(X)),onTouchend:R[2]||(R[2]=X=>U(X))},[createBaseVNode("div",_hoisted_9$o,[createBaseVNode("div",_hoisted_10$o,[createBaseVNode("div",_hoisted_11$m,[createBaseVNode("h4",_hoisted_12$m,toDisplayString(P.name),1),createBaseVNode("span",_hoisted_13$l,toDisplayString(P.code),1)])]),createBaseVNode("div",_hoisted_14$j,[createBaseVNode("div",_hoisted_15$j,"¥"+toDisplayString(S(P)),1),createBaseVNode("div",{class:normalizeClass(["price-change",g(P)])},[createBaseVNode("span",_hoisted_16$j,toDisplayString(N(P)),1),createBaseVNode("span",_hoisted_17$j,toDisplayString(f(P)),1)],2)])]),t.showRecommendIndex&&P.recommendIndex?(openBlock(),createElementBlock("div",_hoisted_18$i,[P.recommendLevel?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["recommend-badge-inline",E(P.recommendLevel)])},toDisplayString(P.recommendLevel),3)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_19$i,[createBaseVNode("div",_hoisted_20$h,[(openBlock(),createElementBlock(Fragment,null,renderList(5,X=>createBaseVNode("span",{key:X,class:normalizeClass(["star",X<=Math.floor(w(P.recommendIndex))?"filled":X<=w(P.recommendIndex)?"half":"empty"])}," ★ ",2)),64))]),createBaseVNode("span",_hoisted_21$g,toDisplayString($(P.recommendIndex)),1),createBaseVNode("div",{class:"rating-info-btn",onClick:R[0]||(R[0]=withModifiers(X=>m.value=!m.value,["stop"]))},R[7]||(R[7]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none"}),createBaseVNode("path",{d:"M9,9h0a3,3,0,0,1,6,0c0,2-3,3-3,3",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"}),createBaseVNode("circle",{cx:"12",cy:"17",r:"1",fill:"currentColor"})],-1)]))])])):createCommentVNode("",!0),x(P)?(openBlock(),createElementBlock("div",_hoisted_22$g,[t.showWatchlistStatus&&P.addedAt?(openBlock(),createElementBlock("div",_hoisted_23$g,[R[8]||(R[8]=createBaseVNode("div",{class:"status-icon"},"⭐",-1)),createBaseVNode("span",_hoisted_24$g,toDisplayString(b(P.addedAt))+"关注",1)])):createCommentVNode("",!0),t.showPositionStatus&&P.quantity?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["status-item position-status-inline",C(P)>=0?"profit":"loss"])},[R[9]||(R[9]=createBaseVNode("div",{class:"status-icon"},"📊",-1)),createBaseVNode("div",_hoisted_25$f,[createBaseVNode("span",_hoisted_26$f,"持仓 "+toDisplayString(P.quantity.toLocaleString())+"股",1),createBaseVNode("span",_hoisted_27$f,toDisplayString(C(P)>=0?"+":"")+"¥"+toDisplayString(Math.abs(C(P)).toFixed(2))+" ("+toDisplayString(T(P)>=0?"+":"")+toDisplayString(T(P).toFixed(2))+"%) ",1)])],2)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.showDetails&&v(P)?(openBlock(),createElementBlock("div",_hoisted_28$e,[createBaseVNode("div",_hoisted_29$d,[P.industry?(openBlock(),createElementBlock("div",_hoisted_30$d,[R[10]||(R[10]=createBaseVNode("span",{class:"detail-label"},"行业",-1)),createBaseVNode("span",_hoisted_31$d,toDisplayString(P.industry),1)])):createCommentVNode("",!0),P.targetPrice?(openBlock(),createElementBlock("div",_hoisted_32$d,[R[11]||(R[11]=createBaseVNode("span",{class:"detail-label"},"目标价",-1)),createBaseVNode("span",_hoisted_33$d,"¥"+toDisplayString(P.targetPrice),1)])):createCommentVNode("",!0),P.expectedReturn?(openBlock(),createElementBlock("div",_hoisted_34$d,[R[12]||(R[12]=createBaseVNode("span",{class:"detail-label"},"预期收益",-1)),createBaseVNode("span",_hoisted_35$c,toDisplayString(P.expectedReturn),1)])):createCommentVNode("",!0),P.riskLevel?(openBlock(),createElementBlock("div",_hoisted_36$c,[R[13]||(R[13]=createBaseVNode("span",{class:"detail-label"},"风险",-1)),createBaseVNode("span",_hoisted_37$c,toDisplayString(P.riskLevel),1)])):createCommentVNode("",!0),t.showPositionStatus&&P.quantity?(openBlock(),createElementBlock(Fragment,{key:4},[P.avgPrice?(openBlock(),createElementBlock("div",_hoisted_38$c,[R[14]||(R[14]=createBaseVNode("span",{class:"detail-label"},"成本价",-1)),createBaseVNode("span",_hoisted_39$a,"¥"+toDisplayString(P.avgPrice.toFixed(2)),1)])):createCommentVNode("",!0),P.marketValue?(openBlock(),createElementBlock("div",_hoisted_40$a,[R[15]||(R[15]=createBaseVNode("span",{class:"detail-label"},"市值",-1)),createBaseVNode("span",_hoisted_41$9,"¥"+toDisplayString(P.marketValue.toLocaleString()),1)])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)])])):createCommentVNode("",!0),t.showReason&&P.reason?(openBlock(),createElementBlock("div",_hoisted_42$9,[createBaseVNode("div",{class:"reason-header",onClick:withModifiers(X=>se(P.code),["stop"])},[R[17]||(R[17]=createBaseVNode("div",{class:"reason-icon"},"💡",-1)),R[18]||(R[18]=createBaseVNode("span",{class:"reason-label"},"推荐理由",-1)),createBaseVNode("button",_hoisted_44$8,[(openBlock(),createElementBlock("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",class:normalizeClass({rotated:c.value.includes(P.code)})},R[16]||(R[16]=[createBaseVNode("path",{d:"M6 9l6 6 6-6",stroke:"currentColor","stroke-width":"2"},null,-1)]),2))])],8,_hoisted_43$8),createBaseVNode("div",{class:normalizeClass(["reason-content",{expanded:c.value.includes(P.code)}])},[createBaseVNode("p",_hoisted_45$8,toDisplayString(P.reason),1)],2)])):createCommentVNode("",!0),t.actions.length>0?(openBlock(),createElementBlock("div",_hoisted_46$8,[createVNode(StockActionButtons,{stock:P,actions:t.actions,"is-mobile":!0,mode:"compact",size:"small","max-buttons":l.value,onActionClick:B},null,8,["stock","actions","max-buttons"])])):createCommentVNode("",!0)],42,_hoisted_8$o))),128))],2),t.showFooter?(openBlock(),createElementBlock("div",_hoisted_47$7,[renderSlot(M.$slots,"footer",{},void 0,!0)])):createCommentVNode("",!0),m.value?(openBlock(),createBlock(Teleport,{key:2,to:"body"},[createBaseVNode("div",{class:"rating-info-popup",onClick:R[5]||(R[5]=P=>m.value=!1)},[createBaseVNode("div",{class:"rating-info-dialog",onClick:R[4]||(R[4]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_48$7,[R[19]||(R[19]=createBaseVNode("span",{class:"info-title"},"推荐指数说明",-1)),createBaseVNode("button",{class:"close-btn",onClick:R[3]||(R[3]=P=>m.value=!1)},"✕")]),R[20]||(R[20]=createBaseVNode("div",{class:"rating-info-content"},[createBaseVNode("div",{class:"info-item"},[createBaseVNode("span",{class:"score-range"},"5.0"),createBaseVNode("span",{class:"score-desc"},"强烈推荐 - 投资价值极高")]),createBaseVNode("div",{class:"info-item"},[createBaseVNode("span",{class:"score-range"},"4.0-4.9"),createBaseVNode("span",{class:"score-desc"},"推荐 - 具备较好投资价值")]),createBaseVNode("div",{class:"info-item"},[createBaseVNode("span",{class:"score-range"},"3.0-3.9"),createBaseVNode("span",{class:"score-desc"},"中性 - 可持续观察")]),createBaseVNode("div",{class:"info-item"},[createBaseVNode("span",{class:"score-range"},"2.0-2.9"),createBaseVNode("span",{class:"score-desc"},"谨慎 - 建议控制仓位")]),createBaseVNode("div",{class:"info-item"},[createBaseVNode("span",{class:"score-range"},"1.0-1.9"),createBaseVNode("span",{class:"score-desc"},"不推荐 - 建议回避")])],-1))])])])):createCommentVNode("",!0)]))}},MobileStockList=_export_sfc(_sfc_main$x,[["__scopeId","data-v-c9203a9b"]]),STOCK_ACTION_ICONS={star:"⭐",chart:"🎯",robot:"🤖",sell:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",buy:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},BASE_STOCK_ACTIONS={analysis:{key:"analysis",text:"量化分析",mobileText:"分析",type:"default",class:"paid-analysis-btn",icon:STOCK_ACTION_ICONS.chart,priceTag:{original:"3智点",promo:"1智点"},priority:1},aiTrading:{key:"aiTrading",text:"AI委托交易",mobileText:"AI交易",type:"default",class:"quant-analysis-btn",icon:STOCK_ACTION_ICONS.robot,priceTag:{original:"3智点",promo:"1智点"},priority:2},addWatchlist:{key:"addWatchlist",text:"加入自选",mobileText:"加自选",type:"primary",class:"add-watchlist-btn",icon:STOCK_ACTION_ICONS.star,priority:3},removeWatchlist:{key:"removeWatchlist",text:"移除自选",mobileText:"移除",type:"success",class:"remove-watchlist-btn",icon:STOCK_ACTION_ICONS.star,priority:3},buy:{key:"buy",text:"买入",mobileText:"买入",type:"default",class:"buy-stock-btn-secondary",icon:STOCK_ACTION_ICONS.buy,priority:4},sell:{key:"sell",text:"卖出",mobileText:"卖出",type:"danger",class:"sell-stock-btn",icon:STOCK_ACTION_ICONS.sell,priority:4},addPosition:{key:"addPosition",text:"加仓",mobileText:"加仓",type:"default",class:"buy-stock-btn-secondary",icon:STOCK_ACTION_ICONS.buy,priority:5}},STOCK_ACTION_PRESETS={recommendation:[BASE_STOCK_ACTIONS.analysis,BASE_STOCK_ACTIONS.aiTrading,BASE_STOCK_ACTIONS.addWatchlist,BASE_STOCK_ACTIONS.removeWatchlist,BASE_STOCK_ACTIONS.buy],watchlist:[BASE_STOCK_ACTIONS.analysis,BASE_STOCK_ACTIONS.aiTrading,BASE_STOCK_ACTIONS.removeWatchlist,BASE_STOCK_ACTIONS.buy],portfolio:[BASE_STOCK_ACTIONS.analysis,BASE_STOCK_ACTIONS.aiTrading,BASE_STOCK_ACTIONS.sell,BASE_STOCK_ACTIONS.addPosition],chatFull:[BASE_STOCK_ACTIONS.analysis,BASE_STOCK_ACTIONS.aiTrading,BASE_STOCK_ACTIONS.addWatchlist,BASE_STOCK_ACTIONS.removeWatchlist,BASE_STOCK_ACTIONS.buy],chatCompact:[BASE_STOCK_ACTIONS.analysis,BASE_STOCK_ACTIONS.aiTrading,BASE_STOCK_ACTIONS.addWatchlist,BASE_STOCK_ACTIONS.removeWatchlist],mobile:[BASE_STOCK_ACTIONS.analysis,BASE_STOCK_ACTIONS.aiTrading,BASE_STOCK_ACTIONS.addWatchlist,BASE_STOCK_ACTIONS.removeWatchlist]},getStockActionConfig=(t,e={})=>{const{isMobile:s=!1,maxButtons:o=4,includePaidFeatures:a=!0}=e;let n=STOCK_ACTION_PRESETS[t]||STOCK_ACTION_PRESETS.recommendation;return a||(n=n.filter(r=>!r.priceTag)),n.sort((r,d)=>(r.priority||999)-(d.priority||999)),n},_hoisted_1$w={class:"recommendations-container"},_hoisted_2$u={class:"card-header"},_hoisted_3$u={class:"update-time"},_hoisted_4$t={class:"recommendations-list"},_sfc_main$w={__name:"StockRecommendations",emits:["send-to-chat","show-buy-dialog","action-click"],setup(t,{emit:e}){const s=e;useUserStore();const{isMobileView:o}=useMobileDetection(),a=computed(()=>getStockActionConfig("recommendation",{isMobile:o.value,maxButtons:o.value?3:5})),n=computed(()=>new Date().toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})),r=ref([{code:"000001",name:"平安银行",price:"12.45",change:.28,changePercent:2.3,recommendIndex:4.2,recommendLevel:"推荐",targetPrice:"15.80",expectedReturn:"+26.9%",riskLevel:"中等",industry:"银行",reason:"业绩稳健增长，ROE持续提升，估值处于历史低位，具备较好的投资价值。"},{code:"000858",name:"五粮液",price:"168.90",change:-2.05,changePercent:-1.2,recommendIndex:4.6,recommendLevel:"强烈推荐",targetPrice:"195.00",expectedReturn:"+15.5%",riskLevel:"中等",industry:"食品饮料",reason:"白酒龙头企业，品牌价值突出，渠道优势明显，长期成长性确定。"},{code:"000002",name:"万科A",price:"18.76",change:.15,changePercent:.8,recommendIndex:3.9,recommendLevel:"推荐",targetPrice:"22.50",expectedReturn:"+19.9%",riskLevel:"中等",industry:"房地产",reason:"房地产行业回暖，公司财务稳健，土地储备充足，估值合理。"},{code:"300750",name:"宁德时代",price:"198.50",change:6.72,changePercent:3.5,recommendIndex:4.5,recommendLevel:"强烈推荐",targetPrice:"245.00",expectedReturn:"+23.4%",riskLevel:"较高",industry:"电池",reason:"新能源汽车产业链核心标的，技术领先，市场份额稳固，成长空间巨大。"}]),d=computed(()=>r.value.map(l=>({code:l.code,name:l.name,price:parseFloat(l.price),change:l.change,changePercent:l.changePercent,recommendIndex:l.recommendIndex,recommendLevel:l.recommendLevel,targetPrice:l.targetPrice,expectedReturn:l.expectedReturn,riskLevel:l.riskLevel,industry:l.industry,reason:l.reason}))),m=()=>{ElMessage.success("推荐列表已更新")},c=({action:l,stock:_})=>{console.log("StockRecommendations - 转发股票操作:",l,_),s("action-click",{action:l,stock:_})};return onMounted(()=>{}),onUnmounted(()=>{}),(l,_)=>{const k=resolveComponent("el-button");return openBlock(),createElementBlock("div",_hoisted_1$w,[createBaseVNode("div",_hoisted_2$u,[_[1]||(_[1]=createBaseVNode("h3",{class:"card-title"},"智能荐股",-1)),createBaseVNode("div",_hoisted_3$u,toDisplayString(n.value),1),createVNode(k,{size:"small",text:"",onClick:m},{default:withCtx(()=>_[0]||(_[0]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M21 3v5h-5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M3 21v-5h5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1,__:[0]})]),createBaseVNode("div",_hoisted_4$t,[unref(o)?(openBlock(),createBlock(MobileStockList,{key:1,stocks:d.value,actions:a.value,"show-recommend-index":!0,"show-details":!0,clickable:!1,onActionClick:c},null,8,["stocks","actions"])):(openBlock(),createBlock(StockList,{key:0,stocks:d.value,actions:a.value,"show-recommend-index":!0,"show-basic-details":!0,"show-reason":!0,clickable:!1,"is-mobile":unref(o),onActionClick:c},null,8,["stocks","actions","is-mobile"]))])])}}},StockRecommendations=_export_sfc(_sfc_main$w,[["__scopeId","data-v-cc1c9385"]]),_hoisted_1$v={class:"message-push-center"},_hoisted_2$t={class:"push-container"},_hoisted_3$t={class:"push-header"},_hoisted_4$s={class:"header-left"},_hoisted_5$r={class:"header-title"},_hoisted_6$q={class:"subtitle"},_hoisted_7$p={class:"header-actions"},_hoisted_8$n={class:"category-tabs"},_hoisted_9$n=["onClick"],_hoisted_10$n={class:"tab-icon"},_hoisted_11$l={class:"tab-label"},_hoisted_12$l={key:0,class:"tab-badge"},_hoisted_13$k={class:"scroll-indicator"},_hoisted_14$i={class:"messages-container"},_hoisted_15$i={key:0,class:"loading-state"},_hoisted_16$i={class:"loading-content"},_hoisted_17$i={key:1,class:"empty-state"},_hoisted_18$h={class:"empty-text"},_hoisted_19$h={key:2,class:"messages-list"},_hoisted_20$g={class:"group-header"},_hoisted_21$f={class:"group-date"},_hoisted_22$f={class:"group-count"},_hoisted_23$f={class:"group-messages"},_hoisted_24$f=["onClick"],_hoisted_25$e={class:"message-icon"},_hoisted_26$e={key:0,class:"urgent-dot"},_hoisted_27$e={class:"message-content"},_hoisted_28$d={class:"message-header"},_hoisted_29$c={class:"message-title"},_hoisted_30$c={class:"message-time"},_hoisted_31$c={class:"message-preview"},_hoisted_32$c={key:0,class:"message-tags"},_hoisted_33$c={key:0,class:"tag-more"},_hoisted_34$c={key:0,class:"unread-dot"},_hoisted_35$b={key:3,class:"load-more"},_hoisted_36$b=["disabled"],_hoisted_37$b={key:0,class:"loading-spinner-small"},_hoisted_38$b={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},_hoisted_39$9={key:4,class:"no-more-data"},_hoisted_40$9={class:"modal-header"},_hoisted_41$8={class:"modal-title-section"},_hoisted_42$8={class:"title-content"},_hoisted_43$7={class:"title-meta"},_hoisted_44$7={class:"message-type"},_hoisted_45$7={class:"modal-body"},_hoisted_46$7={class:"message-meta-info"},_hoisted_47$6={class:"meta-item"},_hoisted_48$6={class:"meta-value"},_hoisted_49$6={class:"meta-item"},_hoisted_50$6={class:"meta-value"},_hoisted_51$6={class:"meta-item"},_hoisted_52$6={class:"message-detail-content"},_hoisted_53$6={class:"content-text"},_hoisted_54$6={key:0,class:"message-details"},_hoisted_55$6={class:"details-grid"},_hoisted_56$6={class:"detail-key"},_hoisted_57$6={class:"detail-value"},_hoisted_58$6={key:1,class:"message-detail-tags"},_hoisted_59$6={class:"tags-list"},_hoisted_60$6={class:"modal-footer"},_hoisted_61$6={class:"modal-body"},_hoisted_62$6={class:"history-filters"},_hoisted_63$6={class:"search-box"},_hoisted_64$6={class:"filter-controls"},_hoisted_65$6={class:"history-stats"},_hoisted_66$6={class:"stat-item"},_hoisted_67$6={class:"stat-number"},_hoisted_68$6={class:"stat-item"},_hoisted_69$6={class:"stat-number unread"},_hoisted_70$4={class:"history-messages"},_hoisted_71$4={key:0,class:"empty-state"},_hoisted_72$4={key:1,class:"history-list"},_hoisted_73$4=["onClick"],_hoisted_74$4={class:"history-icon"},_hoisted_75$4={class:"history-content"},_hoisted_76$4={class:"history-header"},_hoisted_77$4={class:"history-title"},_hoisted_78$3={class:"history-meta"},_hoisted_79$3={class:"history-type"},_hoisted_80$3={class:"history-time"},_hoisted_81$3={class:"history-preview"},_hoisted_82$3={key:0,class:"history-tags"},_hoisted_83$3={key:0,class:"unread-dot"},_hoisted_84$3={class:"modal-footer"},_hoisted_85$3={class:"modal-body"},_hoisted_86$3={class:"settings-section"},_hoisted_87$3={class:"settings-grid"},_hoisted_88$3={class:"setting-item"},_hoisted_89$3={class:"setting-item"},_hoisted_90$3={class:"setting-item"},_hoisted_91$2={class:"setting-item"},_hoisted_92$2={class:"setting-item"},_hoisted_93$2={class:"settings-section"},_hoisted_94$2={class:"time-settings"},_hoisted_95$2={class:"time-range"},_hoisted_96$2={class:"time-input-group"},_hoisted_97$2={class:"time-input-group"},_hoisted_98$2={class:"setting-item"},_hoisted_99$2={class:"settings-section"},_hoisted_100$2={class:"frequency-options"},_hoisted_101$2={class:"frequency-option"},_hoisted_102$2={class:"frequency-option"},_hoisted_103$2={class:"frequency-option"},_sfc_main$v={__name:"MessagePushCenter",emits:["send-to-chat"],setup(t,{emit:e}){const s=e,o=ref("all"),a=ref(!1),n=ref(!1),r=ref(!0),d=ref(1),m=ref(15),c=ref(!1),l=ref(null),_=ref(0),k=ref(0),S=ref(!1),g=ref(!1),N=ref(!1),f=ref(null),E=ref(""),b=ref(""),y=ref(""),$=ref([{key:"all",name:"全部",icon:"📋"},{key:"market",name:"市场",icon:"📈"},{key:"news",name:"资讯",icon:"📰"},{key:"alert",name:"提醒",icon:"⚠️"},{key:"system",name:"系统",icon:"⚙️"},{key:"trade",name:"交易",icon:"💰"}]),w=ref({market:!0,news:!0,alert:!0,system:!0,trade:!0,startTime:"09:00",endTime:"21:00",doNotDisturb:!1,frequency:"realtime"}),x=()=>{const Z=["urgent","high","medium","low"],z=[],be=[{type:"market",title:"市场异动提醒",content:"芯片板块大幅上涨，建议关注相关龙头股票机会"},{type:"news",title:"重要资讯",content:"央行宣布降准0.25个百分点，利好银行和地产板块"},{type:"alert",title:"价格提醒",content:"您关注的平安银行跌幅超过5%，请注意风险控制"},{type:"system",title:"系统通知",content:"您的投资偏好设置已更新，推荐算法将为您提供更精准的建议"},{type:"trade",title:"交易执行",content:"您的买入订单已成功执行：茅台 100股 @ ¥1850.00"}];for(let ke=1;ke<=100;ke++){const Pe=be[ke%be.length],me=Math.random()*30*24*60*60*1e3;z.push({id:ke,type:Pe.type,priority:Z[Math.floor(Math.random()*Z.length)],title:`${Pe.title} ${ke}`,message:Pe.content,time:new Date(Date.now()-me),read:Math.random()>.3,tags:v(Pe.type),details:C(Pe.type)})}return z.sort((ke,Pe)=>new Date(Pe.time)-new Date(ke.time))},v=Z=>({market:["市场动态","板块异动","涨停","跌停"],news:["政策","财经","公告","利好"],alert:["风险提醒","价格预警","止损"],system:["系统更新","功能升级","维护"],trade:["交易记录","成交","分红","资金"]}[Z]||["其他"]).slice(0,Math.floor(Math.random()*3)+1),C=Z=>({market:{涨幅:"+"+(Math.random()*10).toFixed(2)+"%",成交量:"放大"+Math.floor(Math.random()*200)+"%"},news:{影响程度:"重大",相关板块:"银行、地产"},alert:{触发价格:"¥"+(Math.random()*100).toFixed(2),风险等级:"中等"},system:{更新版本:"v2.1.0",影响范围:"全部用户"},trade:{成交价格:"¥"+(Math.random()*500+10).toFixed(2),手续费:"¥"+(Math.random()*10).toFixed(2)}})[Z]||{},T=ref(x()),D=ref([]),B=computed(()=>T.value.filter(Z=>!Z.read).length),I=computed(()=>{let Z=D.value;return o.value!=="all"&&(Z=Z.filter(z=>z.type===o.value)),Z}),L=computed(()=>{const Z=[],z=new Map;return I.value.forEach(be=>{const ke=P(be.time);z.has(ke)||(z.set(ke,{date:ke,messages:[]}),Z.push(z.get(ke))),z.get(ke).messages.push(be)}),Z}),U=computed(()=>{let Z=T.value;if(E.value){const z=E.value.toLowerCase();Z=Z.filter(be=>be.title.toLowerCase().includes(z)||be.message.toLowerCase().includes(z)||be.tags&&be.tags.some(ke=>ke.toLowerCase().includes(z)))}return b.value&&(Z=Z.filter(z=>z.type===b.value)),y.value&&(Z=Z.filter(z=>z.priority===y.value)),Z}),Y=Z=>{o.value!==Z&&(o.value=Z,M(!0))},se=()=>{const Z=$.value.find(z=>z.key===o.value);return Z?Z.name:"全部"},J=Z=>Z==="all"?B.value:T.value.filter(z=>z.type===Z&&!z.read).length,M=(Z=!1)=>{if(Z){if(a.value)return;a.value=!0}else{if(n.value)return;n.value=!0}setTimeout(()=>{let z=T.value;if(o.value!=="all"&&(z=z.filter(be=>be.type===o.value)),Z)D.value=z.slice(0,m.value),d.value=1,a.value=!1;else{const be=d.value*m.value,ke=be+m.value,Pe=z.slice(be,ke);D.value=[...D.value,...Pe],d.value++,n.value=!1}r.value=D.value.length<z.length},Z?300:500)},R=()=>{!n.value&&r.value&&M()},P=Z=>{const z=new Date,be=new Date(Z),ke=Math.floor((z-be)/(1e3*60*60*24));return ke===0?"今天":ke===1?"昨天":ke<=7?`${ke}天前`:ke<=30?`${Math.floor(ke/7)}周前`:`${Math.floor(ke/30)}个月前`},K=Z=>{const be=new Date-Z,ke=Math.floor(be/(1e3*60)),Pe=Math.floor(be/(1e3*60*60)),me=Math.floor(be/(1e3*60*60*24));return ke<1?"刚刚":ke<60?`${ke}分钟前`:Pe<24?`${Pe}小时前`:me<7?`${me}天前`:Z.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})},X=Z=>Z?Z.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",W=Z=>({market:"market-icon",news:"news-icon",alert:"alert-icon",system:"system-icon",trade:"trade-icon"})[Z]||"default-icon",Be=Z=>({market:"📈",news:"📰",alert:"⚠️",system:"⚙️",trade:"💰"})[Z]||"📄",de=Z=>({market:"market-tag",news:"news-tag",alert:"alert-tag",system:"system-tag",trade:"trade-tag"})[Z]||"default-tag",ve=Z=>({market:"市场动态",news:"财经资讯",alert:"风险提醒",system:"系统通知",trade:"交易记录"})[Z]||"其他",ue=Z=>({urgent:"紧急",high:"高",medium:"中",low:"低"})[Z]||"普通",he=Z=>{f.value=Z,S.value=!0,Z.read||(Z.read=!0)},Re=()=>{S.value=!1,f.value=null},$e=()=>{g.value=!0,E.value="",b.value="",y.value=""},Ne=()=>{g.value=!1},Ve=()=>{N.value=!0},Se=()=>{N.value=!1},Ue=Z=>{s("send-to-chat",{type:"message",content:Z.message,title:Z.title,details:Z.details}),Re(),ElMessage.success("消息已发送到对话框")},Ie=()=>{D.value.forEach(Z=>{Z.read=!0}),ElMessage.success("所有消息已标记为已读")},Je=()=>{U.value.forEach(Z=>{Z.read=!0}),ElMessage.success("已标记为已读")},Te=Z=>{w.value[Z]=!w.value[Z]},nt=()=>{ElMessage.success("设置已保存"),Se()},ut=()=>{w.value={market:!0,news:!0,alert:!0,system:!0,trade:!0,startTime:"09:00",endTime:"21:00",doNotDisturb:!1,frequency:"realtime"},ElMessage.info("设置已重置")},et=Z=>{l.value&&(Z.preventDefault(),l.value.scrollLeft+=Z.deltaY)},tt=()=>{if(l.value){const{scrollWidth:Z,clientWidth:z}=l.value;c.value=Z>z}},pt=Z=>{l.value&&(_.value=Z.touches[0].clientX,k.value=l.value.scrollLeft)},st=Z=>{if(l.value&&_.value!==0){Z.preventDefault();const z=Z.touches[0].clientX,be=_.value-z;l.value.scrollLeft=k.value+be}},ht=()=>{_.value=0,k.value=0},Ge=()=>{setTimeout(()=>{c.value=!1},2e3)};return onMounted(()=>{M(!0),setTimeout(()=>{tt()},100),window.addEventListener("resize",tt)}),onUnmounted(()=>{window.removeEventListener("resize",tt)}),(Z,z)=>{var be,ke,Pe,me,p,ne,ye,ze,Ke,mt,Xe,We,ot,it;return openBlock(),createElementBlock("div",_hoisted_1$v,[createBaseVNode("div",_hoisted_2$t,[createBaseVNode("div",_hoisted_3$t,[createBaseVNode("div",_hoisted_4$s,[z[19]||(z[19]=createBaseVNode("div",{class:"header-icon"},[createBaseVNode("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M13.73 21a2 2 0 0 1-3.46 0",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),createBaseVNode("div",_hoisted_5$r,[z[18]||(z[18]=createBaseVNode("h3",null,"消息中心",-1)),createBaseVNode("span",_hoisted_6$q,toDisplayString(B.value)+"条未读消息",1)])]),createBaseVNode("div",_hoisted_7$p,[B.value>0?(openBlock(),createElementBlock("button",{key:0,class:"action-btn",onClick:Ie},z[20]||(z[20]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("polyline",{points:"20,6 9,17 4,12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),createTextVNode(" 全部已读 ")]))):createCommentVNode("",!0),createBaseVNode("button",{class:"action-btn settings-btn",onClick:Ve},z[21]||(z[21]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1",stroke:"currentColor","stroke-width":"2"})],-1)]))])]),createBaseVNode("div",_hoisted_8$n,[createBaseVNode("div",{class:"tabs-wrapper",ref_key:"tabsWrapper",ref:l,onWheel:et,onTouchstart:pt,onTouchmove:st,onTouchend:ht,onScroll:Ge},[(openBlock(!0),createElementBlock(Fragment,null,renderList($.value,te=>(openBlock(),createElementBlock("button",{key:te.key,class:normalizeClass(["tab-button",{active:o.value===te.key}]),onClick:Ce=>Y(te.key)},[createBaseVNode("span",_hoisted_10$n,toDisplayString(te.icon),1),createBaseVNode("span",_hoisted_11$l,toDisplayString(te.name),1),J(te.key)>0?(openBlock(),createElementBlock("span",_hoisted_12$l,toDisplayString(J(te.key)),1)):createCommentVNode("",!0)],10,_hoisted_9$n))),128))],544),withDirectives(createBaseVNode("div",_hoisted_13$k,z[22]||(z[22]=[createBaseVNode("div",{class:"scroll-hint"},"← 滑动查看更多 →",-1)]),512),[[vShow,c.value]])]),createBaseVNode("div",_hoisted_14$i,[a.value?(openBlock(),createElementBlock("div",_hoisted_15$i,[createBaseVNode("div",_hoisted_16$i,[z[23]||(z[23]=createBaseVNode("div",{class:"loading-spinner"},null,-1)),createBaseVNode("span",null,"正在加载"+toDisplayString(se())+"消息...",1)])])):I.value.length===0?(openBlock(),createElementBlock("div",_hoisted_17$i,[z[24]||(z[24]=createBaseVNode("div",{class:"empty-icon"},"📭",-1)),createBaseVNode("p",_hoisted_18$h,"暂无"+toDisplayString(se())+"消息",1)])):(openBlock(),createElementBlock("div",_hoisted_19$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(L.value,te=>(openBlock(),createElementBlock("div",{key:te.date,class:"message-group"},[createBaseVNode("div",_hoisted_20$g,[createBaseVNode("span",_hoisted_21$f,toDisplayString(te.date),1),createBaseVNode("span",_hoisted_22$f,toDisplayString(te.messages.length)+"条",1)]),createBaseVNode("div",_hoisted_23$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(te.messages,Ce=>{var Qe;return openBlock(),createElementBlock("div",{key:Ce.id,class:normalizeClass(["message-item",{unread:!Ce.read,urgent:Ce.priority==="urgent",important:Ce.priority==="high"}]),onClick:xe=>he(Ce)},[createBaseVNode("div",_hoisted_25$e,[createBaseVNode("div",{class:normalizeClass(["icon-circle",W(Ce.type)])},[createBaseVNode("span",null,toDisplayString(Be(Ce.type)),1)],2),Ce.priority==="urgent"?(openBlock(),createElementBlock("div",_hoisted_26$e)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_27$e,[createBaseVNode("div",_hoisted_28$d,[createBaseVNode("h4",_hoisted_29$c,toDisplayString(Ce.title),1),createBaseVNode("span",_hoisted_30$c,toDisplayString(K(Ce.time)),1)]),createBaseVNode("p",_hoisted_31$c,toDisplayString(Ce.message),1),(Qe=Ce.tags)!=null&&Qe.length?(openBlock(),createElementBlock("div",_hoisted_32$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ce.tags.slice(0,3),xe=>(openBlock(),createElementBlock("span",{key:xe,class:normalizeClass(["message-tag",de(Ce.type)])},toDisplayString(xe),3))),128)),Ce.tags.length>3?(openBlock(),createElementBlock("span",_hoisted_33$c," +"+toDisplayString(Ce.tags.length-3),1)):createCommentVNode("",!0)])):createCommentVNode("",!0)]),Ce.read?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_34$c))],10,_hoisted_24$f)}),128))])]))),128))])),r.value&&!a.value?(openBlock(),createElementBlock("div",_hoisted_35$b,[createBaseVNode("button",{class:"load-more-btn",onClick:R,disabled:n.value},[n.value?(openBlock(),createElementBlock("div",_hoisted_37$b)):(openBlock(),createElementBlock("svg",_hoisted_38$b,z[25]||(z[25]=[createBaseVNode("path",{d:"M12 5v14m7-7l-7 7-7-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))),createTextVNode(" "+toDisplayString(n.value?"加载中...":"加载更多"),1)],8,_hoisted_36$b)])):createCommentVNode("",!0),!r.value&&D.value.length>0?(openBlock(),createElementBlock("div",_hoisted_39$9,z[26]||(z[26]=[createBaseVNode("div",{class:"no-more-line"},null,-1),createBaseVNode("span",{class:"no-more-text"},"已显示全部消息",-1),createBaseVNode("div",{class:"no-more-line"},null,-1)]))):createCommentVNode("",!0)]),createBaseVNode("div",{class:"push-footer"},[createBaseVNode("button",{class:"footer-action",onClick:$e},z[27]||(z[27]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("polyline",{points:"12,6 12,12 16,14",stroke:"currentColor","stroke-width":"2"})],-1),createTextVNode(" 查看历史 ")])),createBaseVNode("button",{class:"footer-action",onClick:Ve},z[28]||(z[28]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1",stroke:"currentColor","stroke-width":"2"})],-1),createTextVNode(" 推送设置 ")]))])]),(openBlock(),createBlock(Teleport,{to:"body"},[S.value?(openBlock(),createElementBlock("div",{key:0,class:"modal-overlay detail-modal-overlay",onClick:Re},[createBaseVNode("div",{class:"modal-container detail-modal",onClick:z[1]||(z[1]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_40$9,[createBaseVNode("div",_hoisted_41$8,[createBaseVNode("div",{class:normalizeClass(["title-icon",W((be=f.value)==null?void 0:be.type)])},[createBaseVNode("span",null,toDisplayString(Be((ke=f.value)==null?void 0:ke.type)),1)],2),createBaseVNode("div",_hoisted_42$8,[createBaseVNode("h3",null,toDisplayString((Pe=f.value)==null?void 0:Pe.title),1),createBaseVNode("div",_hoisted_43$7,[createBaseVNode("span",_hoisted_44$7,toDisplayString(ve((me=f.value)==null?void 0:me.type)),1),createBaseVNode("span",{class:normalizeClass(["priority-badge",(p=f.value)==null?void 0:p.priority])},toDisplayString(ue((ne=f.value)==null?void 0:ne.priority)),3)])])]),createBaseVNode("button",{class:"close-button",onClick:Re},z[29]||(z[29]=[createBaseVNode("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2"})],-1)]))]),createBaseVNode("div",_hoisted_45$7,[createBaseVNode("div",_hoisted_46$7,[createBaseVNode("div",_hoisted_47$6,[z[30]||(z[30]=createBaseVNode("span",{class:"meta-label"},"发送时间",-1)),createBaseVNode("span",_hoisted_48$6,toDisplayString(X((ye=f.value)==null?void 0:ye.time)),1)]),createBaseVNode("div",_hoisted_49$6,[z[31]||(z[31]=createBaseVNode("span",{class:"meta-label"},"消息类型",-1)),createBaseVNode("span",_hoisted_50$6,toDisplayString(ve((ze=f.value)==null?void 0:ze.type)),1)]),createBaseVNode("div",_hoisted_51$6,[z[32]||(z[32]=createBaseVNode("span",{class:"meta-label"},"重要程度",-1)),createBaseVNode("span",{class:normalizeClass(["meta-value","priority",(Ke=f.value)==null?void 0:Ke.priority])},toDisplayString(ue((mt=f.value)==null?void 0:mt.priority)),3)])]),createBaseVNode("div",_hoisted_52$6,[z[33]||(z[33]=createBaseVNode("h4",null,"消息内容",-1)),createBaseVNode("div",_hoisted_53$6,toDisplayString((Xe=f.value)==null?void 0:Xe.message),1)]),(We=f.value)!=null&&We.details?(openBlock(),createElementBlock("div",_hoisted_54$6,[z[34]||(z[34]=createBaseVNode("h4",null,"详细信息",-1)),createBaseVNode("div",_hoisted_55$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value.details,(te,Ce)=>(openBlock(),createElementBlock("div",{key:Ce,class:"detail-item"},[createBaseVNode("span",_hoisted_56$6,toDisplayString(Ce),1),createBaseVNode("span",_hoisted_57$6,toDisplayString(te),1)]))),128))])])):createCommentVNode("",!0),(it=(ot=f.value)==null?void 0:ot.tags)!=null&&it.length?(openBlock(),createElementBlock("div",_hoisted_58$6,[z[35]||(z[35]=createBaseVNode("h4",null,"相关标签",-1)),createBaseVNode("div",_hoisted_59$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value.tags,te=>(openBlock(),createElementBlock("span",{key:te,class:normalizeClass(["detail-tag",de(f.value.type)])},toDisplayString(te),3))),128))])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_60$6,[createBaseVNode("button",{class:"modal-btn secondary",onClick:Re}," 关闭 "),createBaseVNode("button",{class:"modal-btn primary",onClick:z[0]||(z[0]=te=>Ue(f.value))},z[36]||(z[36]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",stroke:"currentColor","stroke-width":"2"})],-1),createTextVNode(" 发送到对话 ")]))])])])):createCommentVNode("",!0)])),(openBlock(),createBlock(Teleport,{to:"body"},[g.value?(openBlock(),createElementBlock("div",{key:0,class:"modal-overlay history-modal-overlay",onClick:Ne},[createBaseVNode("div",{class:"modal-container history-modal",onClick:z[5]||(z[5]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:"modal-header"},[z[38]||(z[38]=createBaseVNode("div",{class:"modal-title-section"},[createBaseVNode("div",{class:"title-icon history-icon"},[createBaseVNode("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("polyline",{points:"12,6 12,12 16,14",stroke:"currentColor","stroke-width":"2"})])]),createBaseVNode("div",{class:"title-content"},[createBaseVNode("h3",null,"历史消息"),createBaseVNode("p",{class:"title-desc"},"查看所有消息记录")])],-1)),createBaseVNode("button",{class:"close-button",onClick:Ne},z[37]||(z[37]=[createBaseVNode("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2"})],-1)]))]),createBaseVNode("div",_hoisted_61$6,[createBaseVNode("div",_hoisted_62$6,[createBaseVNode("div",_hoisted_63$6,[z[39]||(z[39]=createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",class:"search-icon"},[createBaseVNode("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"m21 21-4.35-4.35",stroke:"currentColor","stroke-width":"2"})],-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":z[2]||(z[2]=te=>E.value=te),type:"text",placeholder:"搜索消息...",class:"search-input"},null,512),[[vModelText,E.value]])]),createBaseVNode("div",_hoisted_64$6,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":z[3]||(z[3]=te=>b.value=te),class:"filter-select"},z[40]||(z[40]=[createBaseVNode("option",{value:""},"全部类型",-1),createBaseVNode("option",{value:"market"},"市场动态",-1),createBaseVNode("option",{value:"news"},"财经资讯",-1),createBaseVNode("option",{value:"alert"},"风险提醒",-1),createBaseVNode("option",{value:"system"},"系统通知",-1),createBaseVNode("option",{value:"trade"},"交易记录",-1)]),512),[[vModelSelect,b.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":z[4]||(z[4]=te=>y.value=te),class:"filter-select"},z[41]||(z[41]=[createBaseVNode("option",{value:""},"全部优先级",-1),createBaseVNode("option",{value:"urgent"},"紧急",-1),createBaseVNode("option",{value:"high"},"高",-1),createBaseVNode("option",{value:"medium"},"中",-1),createBaseVNode("option",{value:"low"},"低",-1)]),512),[[vModelSelect,y.value]])])]),createBaseVNode("div",_hoisted_65$6,[createBaseVNode("div",_hoisted_66$6,[createBaseVNode("span",_hoisted_67$6,toDisplayString(U.value.length),1),z[42]||(z[42]=createBaseVNode("span",{class:"stat-label"},"总消息",-1))]),createBaseVNode("div",_hoisted_68$6,[createBaseVNode("span",_hoisted_69$6,toDisplayString(U.value.filter(te=>!te.read).length),1),z[43]||(z[43]=createBaseVNode("span",{class:"stat-label"},"未读",-1))])]),createBaseVNode("div",_hoisted_70$4,[U.value.length===0?(openBlock(),createElementBlock("div",_hoisted_71$4,z[44]||(z[44]=[createBaseVNode("div",{class:"empty-icon"},"🔍",-1),createBaseVNode("p",{class:"empty-text"},"没有找到匹配的消息",-1)]))):(openBlock(),createElementBlock("div",_hoisted_72$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(U.value,te=>{var Ce;return openBlock(),createElementBlock("div",{key:te.id,class:normalizeClass(["history-item",{unread:!te.read,urgent:te.priority==="urgent",important:te.priority==="high"}]),onClick:Qe=>he(te)},[createBaseVNode("div",_hoisted_74$4,[createBaseVNode("div",{class:normalizeClass(["icon-circle",W(te.type)])},[createBaseVNode("span",null,toDisplayString(Be(te.type)),1)],2)]),createBaseVNode("div",_hoisted_75$4,[createBaseVNode("div",_hoisted_76$4,[createBaseVNode("h4",_hoisted_77$4,toDisplayString(te.title),1),createBaseVNode("div",_hoisted_78$3,[createBaseVNode("span",_hoisted_79$3,toDisplayString(ve(te.type)),1),createBaseVNode("span",{class:normalizeClass(["history-priority",te.priority])},toDisplayString(ue(te.priority)),3),createBaseVNode("span",_hoisted_80$3,toDisplayString(K(te.time)),1)])]),createBaseVNode("p",_hoisted_81$3,toDisplayString(te.message),1),(Ce=te.tags)!=null&&Ce.length?(openBlock(),createElementBlock("div",_hoisted_82$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(te.tags.slice(0,5),Qe=>(openBlock(),createElementBlock("span",{key:Qe,class:normalizeClass(["history-tag",de(te.type)])},toDisplayString(Qe),3))),128))])):createCommentVNode("",!0)]),te.read?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_83$3))],10,_hoisted_73$4)}),128))]))])]),createBaseVNode("div",_hoisted_84$3,[createBaseVNode("button",{class:"modal-btn secondary",onClick:Ne}," 关闭 "),U.value.some(te=>!te.read)?(openBlock(),createElementBlock("button",{key:0,class:"modal-btn primary",onClick:Je}," 标记为已读 ")):createCommentVNode("",!0)])])])):createCommentVNode("",!0)])),(openBlock(),createBlock(Teleport,{to:"body"},[N.value?(openBlock(),createElementBlock("div",{key:0,class:"modal-overlay settings-modal-overlay",onClick:Se},[createBaseVNode("div",{class:"modal-container settings-modal",onClick:z[17]||(z[17]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:"modal-header"},[z[46]||(z[46]=createBaseVNode("div",{class:"modal-title-section"},[createBaseVNode("div",{class:"title-icon settings-icon"},[createBaseVNode("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1",stroke:"currentColor","stroke-width":"2"})])]),createBaseVNode("div",{class:"title-content"},[createBaseVNode("h3",null,"推送设置"),createBaseVNode("p",{class:"title-desc"},"管理您的消息推送偏好")])],-1)),createBaseVNode("button",{class:"close-button",onClick:Se},z[45]||(z[45]=[createBaseVNode("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2"})],-1)]))]),createBaseVNode("div",_hoisted_85$3,[createBaseVNode("div",_hoisted_86$3,[z[57]||(z[57]=createBaseVNode("h4",null,"消息类型推送",-1)),createBaseVNode("div",_hoisted_87$3,[createBaseVNode("div",_hoisted_88$3,[z[48]||(z[48]=createBaseVNode("div",{class:"setting-info"},[createBaseVNode("div",{class:"setting-title"},"市场动态"),createBaseVNode("div",{class:"setting-desc"},"股价变动、板块异动等")],-1)),createBaseVNode("div",{class:normalizeClass(["toggle-switch",{active:w.value.market}]),onClick:z[6]||(z[6]=te=>Te("market"))},z[47]||(z[47]=[createBaseVNode("div",{class:"toggle-handle"},null,-1)]),2)]),createBaseVNode("div",_hoisted_89$3,[z[50]||(z[50]=createBaseVNode("div",{class:"setting-info"},[createBaseVNode("div",{class:"setting-title"},"财经资讯"),createBaseVNode("div",{class:"setting-desc"},"政策新闻、公司公告等")],-1)),createBaseVNode("div",{class:normalizeClass(["toggle-switch",{active:w.value.news}]),onClick:z[7]||(z[7]=te=>Te("news"))},z[49]||(z[49]=[createBaseVNode("div",{class:"toggle-handle"},null,-1)]),2)]),createBaseVNode("div",_hoisted_90$3,[z[52]||(z[52]=createBaseVNode("div",{class:"setting-info"},[createBaseVNode("div",{class:"setting-title"},"风险提醒"),createBaseVNode("div",{class:"setting-desc"},"价格预警、风险评估等")],-1)),createBaseVNode("div",{class:normalizeClass(["toggle-switch",{active:w.value.alert}]),onClick:z[8]||(z[8]=te=>Te("alert"))},z[51]||(z[51]=[createBaseVNode("div",{class:"toggle-handle"},null,-1)]),2)]),createBaseVNode("div",_hoisted_91$2,[z[54]||(z[54]=createBaseVNode("div",{class:"setting-info"},[createBaseVNode("div",{class:"setting-title"},"系统通知"),createBaseVNode("div",{class:"setting-desc"},"系统更新、功能通知等")],-1)),createBaseVNode("div",{class:normalizeClass(["toggle-switch",{active:w.value.system}]),onClick:z[9]||(z[9]=te=>Te("system"))},z[53]||(z[53]=[createBaseVNode("div",{class:"toggle-handle"},null,-1)]),2)]),createBaseVNode("div",_hoisted_92$2,[z[56]||(z[56]=createBaseVNode("div",{class:"setting-info"},[createBaseVNode("div",{class:"setting-title"},"交易记录"),createBaseVNode("div",{class:"setting-desc"},"买卖记录、委托状态等")],-1)),createBaseVNode("div",{class:normalizeClass(["toggle-switch",{active:w.value.trade}]),onClick:z[10]||(z[10]=te=>Te("trade"))},z[55]||(z[55]=[createBaseVNode("div",{class:"toggle-handle"},null,-1)]),2)])])]),createBaseVNode("div",_hoisted_93$2,[z[62]||(z[62]=createBaseVNode("h4",null,"推送时间",-1)),createBaseVNode("div",_hoisted_94$2,[createBaseVNode("div",_hoisted_95$2,[createBaseVNode("div",_hoisted_96$2,[z[58]||(z[58]=createBaseVNode("label",null,"开始时间",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":z[11]||(z[11]=te=>w.value.startTime=te),type:"time",class:"time-input"},null,512),[[vModelText,w.value.startTime]])]),createBaseVNode("div",_hoisted_97$2,[z[59]||(z[59]=createBaseVNode("label",null,"结束时间",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":z[12]||(z[12]=te=>w.value.endTime=te),type:"time",class:"time-input"},null,512),[[vModelText,w.value.endTime]])])]),createBaseVNode("div",_hoisted_98$2,[z[61]||(z[61]=createBaseVNode("div",{class:"setting-info"},[createBaseVNode("div",{class:"setting-title"},"免打扰模式"),createBaseVNode("div",{class:"setting-desc"},"指定时间段内不接收推送")],-1)),createBaseVNode("div",{class:normalizeClass(["toggle-switch",{active:w.value.doNotDisturb}]),onClick:z[13]||(z[13]=te=>Te("doNotDisturb"))},z[60]||(z[60]=[createBaseVNode("div",{class:"toggle-handle"},null,-1)]),2)])])]),createBaseVNode("div",_hoisted_99$2,[z[69]||(z[69]=createBaseVNode("h4",null,"推送频率",-1)),createBaseVNode("div",_hoisted_100$2,[createBaseVNode("label",_hoisted_101$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":z[14]||(z[14]=te=>w.value.frequency=te),type:"radio",value:"realtime",class:"frequency-radio"},null,512),[[vModelRadio,w.value.frequency]]),z[63]||(z[63]=createBaseVNode("span",{class:"frequency-label"},"实时推送",-1)),z[64]||(z[64]=createBaseVNode("span",{class:"frequency-desc"},"消息产生时立即推送",-1))]),createBaseVNode("label",_hoisted_102$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":z[15]||(z[15]=te=>w.value.frequency=te),type:"radio",value:"hourly",class:"frequency-radio"},null,512),[[vModelRadio,w.value.frequency]]),z[65]||(z[65]=createBaseVNode("span",{class:"frequency-label"},"每小时汇总",-1)),z[66]||(z[66]=createBaseVNode("span",{class:"frequency-desc"},"每小时汇总推送一次",-1))]),createBaseVNode("label",_hoisted_103$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":z[16]||(z[16]=te=>w.value.frequency=te),type:"radio",value:"daily",class:"frequency-radio"},null,512),[[vModelRadio,w.value.frequency]]),z[67]||(z[67]=createBaseVNode("span",{class:"frequency-label"},"每日汇总",-1)),z[68]||(z[68]=createBaseVNode("span",{class:"frequency-desc"},"每天汇总推送一次",-1))])])])]),createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{class:"modal-btn secondary",onClick:ut}," 重置默认 "),createBaseVNode("button",{class:"modal-btn primary",onClick:nt}," 保存设置 ")])])])):createCommentVNode("",!0)]))])}}},MessagePushCenter=_export_sfc(_sfc_main$v,[["__scopeId","data-v-efa02cde"]]),_sfc_main$u={name:"MobilePushNotifications",data(){return{activeCategory:"all",isRefreshing:!1,isLoading:!1,hasMore:!0,showPermissionTip:!1,toast:{show:!1,message:"",type:"info"},showSettingsDialog:!1,touchStartY:null,touchStartTime:null,showScrollIndicator:!1,showDetailDialog:!1,selectedNotification:null,detailTouchStartY:null,detailTouchStartTime:null,settings:{market:!0,news:!0,alert:!0,system:!0,trade:!0,startTime:"09:00",endTime:"21:00",doNotDisturb:!1,frequency:"realtime"},settingCategories:[{id:"market",name:"市场动态",description:"股价变动、板块异动等"},{id:"news",name:"财经资讯",description:"政策新闻、公司公告等"},{id:"alert",name:"风险提醒",description:"价格预警、风险评估等"},{id:"system",name:"系统通知",description:"系统更新、功能通知等"},{id:"trade",name:"交易记录",description:"买卖记录、委托状态等"}],categories:[{id:"all",name:"全部",icon:"📬",count:0},{id:"market",name:"市场",icon:"📈",count:0},{id:"news",name:"资讯",icon:"📰",count:0},{id:"alert",name:"提醒",icon:"⚠️",count:0},{id:"trade",name:"交易",icon:"💰",count:0},{id:"system",name:"系统",icon:"⚙️",count:0}],notifications:[]}},computed:{filteredNotifications(){return this.activeCategory==="all"?this.notifications:this.notifications.filter(t=>t.type===this.activeCategory)},unreadCount(){return this.notifications.filter(t=>!t.read).length}},mounted(){this.generateNotifications(),this.updateCategoryCounts(),this.checkPermission(),this.loadSettings()},methods:{generateNotifications(){this.notifications=[{id:1,type:"market",title:"股价提醒",message:"您关注的贵州茅台(600519)上涨5.2%，当前价格¥1,850.00",time:new Date(Date.now()-5*60*1e3),read:!1,priority:"urgent",details:"贵州茅台今日开盘价¥1,758.00，最高价¥1,865.50，最低价¥1,745.20。成交量较昨日增长15.3%，主要受益于白酒板块整体上涨和机构资金流入。技术指标显示短期仍有上涨空间。",data:{股票代码:"600519",当前价格:"¥1,850.00",涨跌幅:"+5.2%",涨跌额:"+¥91.50",成交量:"12.5万手",成交额:"23.1亿元",换手率:"0.79%",市盈率:"31.2倍"},actions:[{id:"view",text:"查看详情",type:"primary"},{id:"trade",text:"立即交易",type:"secondary"}]},{id:2,type:"news",title:"财经快讯",message:"央行宣布降准0.25个百分点，预计释放流动性约5000亿元",time:new Date(Date.now()-15*60*1e3),read:!1,priority:"high",details:"中国人民银行决定于2024年1月15日下调金融机构存款准备金率0.25个百分点（不含已执行5%存款准备金率的金融机构）。本次降准为全面降准，体现了稳健货币政策的灵活适度，有利于保持银行体系流动性合理充裕，促进货币信贷合理增长，支持高质量发展。",data:{政策类型:"全面降准",降准幅度:"0.25个百分点",释放流动性:"约5000亿元",实施时间:"2024年1月15日",影响机构:"大部分金融机构",政策目标:"支持实体经济"}},{id:3,type:"alert",title:"风险提醒",message:"您的投资组合今日亏损超过5%，建议及时关注市场变化",time:new Date(Date.now()-30*60*1e3),read:!0,priority:"urgent",details:"您的投资组合今日表现不佳，主要原因是科技股大幅下跌。建议关注市场情绪变化，考虑适当调整仓位配置。如果您是长期投资者，可以考虑逢低加仓优质标的。请根据自身风险承受能力做出投资决策。",data:{总资产:"¥158,500.00",今日盈亏:"-¥8,350.00",盈亏比例:"-5.26%",持仓股票:"8只",最大亏损:"宁德时代 -12.3%",风险等级:"中高风险",建议操作:"关注止损"},actions:[{id:"adjust",text:"调整仓位",type:"primary"},{id:"view",text:"查看详情",type:"secondary"}]},{id:4,type:"trade",title:"交易通知",message:"您的买入订单已成功执行：平安银行 1000股 @ ¥12.50",time:new Date(Date.now()-60*60*1e3),read:!0,priority:"medium"},{id:5,type:"system",title:"系统通知",message:"投资助手已更新至v2.1.0，新增智能推荐功能",time:new Date(Date.now()-2*60*60*1e3),read:!1,priority:"low"}]},updateCategoryCounts(){this.categories.forEach(t=>{t.id==="all"?t.count=this.unreadCount:t.count=this.notifications.filter(e=>e.type===t.id&&!e.read).length})},openNotification(t){this.selectedNotification=t,this.showDetailDialog=!0},markAsRead(t){t.read||(t.read=!0,this.updateCategoryCounts(),this.showToast("已标记为已读","success"))},handleAction(t,e){this.markAsRead(t),this.$emit("action-click",{notification:t,action:e})},markAllAsRead(){const t=this.notifications.filter(e=>!e.read);if(t.length===0){this.showToast("没有未读通知");return}t.forEach(e=>e.read=!0),this.updateCategoryCounts(),this.showToast(`已标记${t.length}条通知为已读`,"success")},openSettings(){this.showSettingsDialog=!0,this.$nextTick(()=>{this.checkScrollIndicator()})},closeSettings(){this.showSettingsDialog=!1,this.showScrollIndicator=!1},checkScrollIndicator(){const t=document.querySelector(".settings-content");if(t){const e=t.scrollHeight>t.clientHeight,s=t.scrollTop===0;this.showScrollIndicator=e&&s}},handleContentScroll(t){const e=t.target,s=e.scrollHeight>e.clientHeight,o=e.scrollTop===0,a=e.scrollTop>=e.scrollHeight-e.clientHeight-10;this.showScrollIndicator=s&&o,a&&(this.showScrollIndicator=!1)},scrollToMore(){const t=document.querySelector(".settings-content");t&&t.scrollTo({top:200,behavior:"smooth"})},resetSettings(){this.settings={market:!0,news:!0,alert:!0,system:!0,trade:!0,startTime:"09:00",endTime:"21:00",doNotDisturb:!1,frequency:"realtime"},this.showToast("设置已重置默认","success")},saveSettings(){localStorage.setItem("pushSettings",JSON.stringify(this.settings)),this.showToast("设置已保存","success"),this.closeSettings()},loadSettings(){const t=localStorage.getItem("pushSettings");if(t)try{this.settings={...this.settings,...JSON.parse(t)}}catch(e){console.error("加载设置失败:",e)}},closeDetail(){this.showDetailDialog=!1,this.selectedNotification=null},markAsReadAndClose(){this.selectedNotification&&!this.selectedNotification.read&&this.markAsRead(this.selectedNotification),this.closeDetail()},handleDetailAction(t,e){this.markAsRead(t),this.$emit("action-click",{notification:t,action:e}),this.closeDetail()},handleDetailTouchStart(t){this.detailTouchStartY=t.touches[0].clientY,this.detailTouchStartTime=Date.now()},handleDetailTouchMove(t){if(!this.detailTouchStartY)return;const s=t.touches[0].clientY-this.detailTouchStartY;if(s>0){t.preventDefault();const o=document.querySelector(".detail-dialog"),a=Math.min(s*.5,100);o.style.transform=`translateY(${a}px)`,o.style.opacity=Math.max(1-s/300,.5)}},handleDetailTouchEnd(t){if(!this.detailTouchStartY)return;const s=t.changedTouches[0].clientY-this.detailTouchStartY,o=Date.now()-this.detailTouchStartTime,a=document.querySelector(".detail-dialog");a&&(a.style.transform="",a.style.opacity=""),(s>100||s>50&&o<300)&&this.closeDetail(),this.detailTouchStartY=null,this.detailTouchStartTime=null},handleTouchStart(t){this.touchStartY=t.touches[0].clientY,this.touchStartTime=Date.now()},handleTouchMove(t){if(!this.touchStartY)return;const s=t.touches[0].clientY-this.touchStartY;if(s>0){t.preventDefault();const o=document.querySelector(".settings-dialog"),a=Math.min(s*.5,100);o.style.transform=`translateY(${a}px)`,o.style.opacity=Math.max(1-s/300,.5)}},handleTouchEnd(t){if(!this.touchStartY)return;const s=t.changedTouches[0].clientY-this.touchStartY,o=Date.now()-this.touchStartTime,a=document.querySelector(".settings-dialog");a&&(a.style.transform="",a.style.opacity=""),(s>100||s>50&&o<300)&&this.closeSettings(),this.touchStartY=null,this.touchStartTime=null},async loadMore(){if(!this.isLoading){this.isLoading=!0;try{await new Promise(e=>setTimeout(e,800));const t=this.generateMoreNotifications();t.length>0?(t.forEach(e=>{e.isNew=!0}),this.notifications.push(...t),this.updateCategoryCounts(),this.showToast(`加载了${t.length}条新消息`,"success"),setTimeout(()=>{t.forEach(e=>{e.isNew=!1})},1e3)):(this.hasMore=!1,this.showToast("已显示全部通知"))}catch{this.showToast("加载失败，请重试","error")}finally{this.isLoading=!1}}},generateMoreNotifications(){if(this.notifications.length>=15)return[];const t=["market","news","alert","trade","system"],e=["urgent","high","medium","low"],s=[],o=Math.floor(Math.random()*3)+3;for(let a=0;a<o;a++){const n=t[Math.floor(Math.random()*t.length)],r=e[Math.floor(Math.random()*e.length)],d=Math.random()>.7,m={id:Date.now()+a,type:n,priority:r,read:d,title:this.getRandomTitle(n),message:this.getRandomMessage(n),time:new Date(Date.now()-Math.random()*24*60*60*1e3),actions:this.getRandomActions(n)};s.push(m)}return s},getRandomTitle(t){const e={market:["股价异动","板块轮动","资金流向","技术突破","量价分析"],news:["政策解读","财经要闻","公司公告","行业动态","宏观数据"],alert:["风险提醒","价格预警","止损提示","波动警告","资金预警"],trade:["交易提醒","委托状态","成交回报","资金变动","持仓调整"],system:["系统通知","功能更新","维护公告","服务升级","安全提醒"]},s=e[t]||e.system;return s[Math.floor(Math.random()*s.length)]},getRandomMessage(t){const e={market:["科技板块强势拉升，建议关注龙头股机会","银行股集体上涨，资金面宽松预期增强","新能源板块调整，关注低位布局机会","医药股分化明显，精选个股是关键","消费板块企稳回升，关注业绩确定性"],news:["央行降准释放长期资金，利好股市表现","新政策出台支持实体经济，相关板块受益","重要经济数据公布，超出市场预期","国际市场波动加剧，需关注风险传导","行业监管政策调整，影响相关公司估值"],alert:["您的投资组合波动较大，建议适当调整","持仓股票接近止损位，请注意风险控制","账户资金使用率过高，建议合理配置","市场波动加剧，建议降低仓位","个股集中度过高，建议分散投资"],trade:["您的买入订单已成功执行","卖出订单部分成交，剩余数量继续挂单","委托订单已撤销，资金已解冻","分红派息到账，请查收","新股申购结果公布，恭喜中签"],system:["投资助手新增智能分析功能","系统将于今晚进行例行维护","新版本已发布，请及时更新","推送服务已优化，体验更流畅","数据接口升级完成，信息更及时"]},s=e[t]||e.system;return s[Math.floor(Math.random()*s.length)]},getRandomActions(t){const s={market:[[{id:"view",text:"查看详情",type:"primary"},{id:"trade",text:"立即交易",type:"secondary"}]],alert:[[{id:"adjust",text:"查看详情",type:"primary"}]],trade:[[{id:"view",text:"查看详情",type:"primary"}]]}[t];return s?s[Math.floor(Math.random()*s.length)]:null},checkPermission(){"Notification"in window&&Notification.permission==="default"&&(this.showPermissionTip=!0)},async requestPermission(){"Notification"in window&&(await Notification.requestPermission()==="granted"?this.showToast("通知权限已开启","success"):this.showToast("通知权限被拒绝","error")),this.showPermissionTip=!1},getTypeIcon(t){return{market:"📈",news:"📰",alert:"⚠️",trade:"💰",system:"⚙️"}[t]||"📬"},formatTime(t){const s=new Date-t,o=Math.floor(s/6e4),a=Math.floor(s/36e5),n=Math.floor(s/864e5);return o<1?"刚刚":o<60?`${o}分钟前`:a<24?`${a}小时前`:n<7?`${n}天前`:t.toLocaleDateString()},showToast(t,e="info"){this.toast={show:!0,message:t,type:e},setTimeout(()=>{this.toast.show=!1},3e3)}}},_hoisted_1$u={class:"mobile-push-container"},_hoisted_2$s={class:"push-header"},_hoisted_3$s={class:"header-actions"},_hoisted_4$r={class:"notification-categories"},_hoisted_5$q={class:"category-scroll"},_hoisted_6$p=["onClick"],_hoisted_7$o={class:"category-icon"},_hoisted_8$m={class:"category-name"},_hoisted_9$m={key:0,class:"category-count"},_hoisted_10$m={class:"notifications-container",ref:"container","data-scrollable":""},_hoisted_11$k={key:0,class:"refresh-indicator"},_hoisted_12$k={class:"notifications-list"},_hoisted_13$j=["onClick"],_hoisted_14$h={class:"notification-content"},_hoisted_15$h={class:"notification-header"},_hoisted_16$h={class:"app-info"},_hoisted_17$h={class:"meta"},_hoisted_18$g={class:"time"},_hoisted_19$g={key:0,class:"unread-dot"},_hoisted_20$f={class:"notification-body"},_hoisted_21$e={class:"title"},_hoisted_22$e={class:"message"},_hoisted_23$e={class:"actions"},_hoisted_24$e=["onClick"],_hoisted_25$d=["onClick"],_hoisted_26$d={key:0,class:"empty-state"},_hoisted_27$d={key:1,class:"load-more"},_hoisted_28$c=["disabled"],_hoisted_29$b={key:0,class:"loading-spinner"},_hoisted_30$b={key:2,class:"load-complete"},_hoisted_31$b={key:0,class:"permission-tip"},_hoisted_32$b={class:"tip-content"},_hoisted_33$b={class:"detail-header"},_hoisted_34$b={class:"detail-app-info"},_hoisted_35$a={class:"detail-meta"},_hoisted_36$a={class:"detail-time"},_hoisted_37$a={class:"detail-content","data-scrollable":""},_hoisted_38$a={key:0,class:"detail-priority"},_hoisted_39$8={class:"detail-title"},_hoisted_40$8={class:"detail-message"},_hoisted_41$7={key:1,class:"detail-extra"},_hoisted_42$7={class:"extra-content"},_hoisted_43$6={key:2,class:"detail-data"},_hoisted_44$6={class:"data-list"},_hoisted_45$6={class:"data-label"},_hoisted_46$6={class:"data-value"},_hoisted_47$5={class:"detail-footer"},_hoisted_48$5=["onClick"],_hoisted_49$5={class:"settings-header"},_hoisted_50$5={class:"setting-section"},_hoisted_51$5={class:"setting-info"},_hoisted_52$5={class:"setting-label"},_hoisted_53$5={class:"setting-desc"},_hoisted_54$5={class:"setting-control"},_hoisted_55$5={class:"toggle-switch"},_hoisted_56$5=["onUpdate:modelValue"],_hoisted_57$5={class:"setting-section"},_hoisted_58$5={class:"time-range"},_hoisted_59$5={class:"time-input"},_hoisted_60$5={class:"time-input"},_hoisted_61$5={class:"setting-item"},_hoisted_62$5={class:"setting-control"},_hoisted_63$5={class:"toggle-switch"},_hoisted_64$5={class:"setting-section"},_hoisted_65$5={class:"frequency-options"},_hoisted_66$5={class:"frequency-option"},_hoisted_67$5={class:"frequency-option"},_hoisted_68$5={class:"frequency-option"},_hoisted_69$5={class:"settings-footer"};function _sfc_render$1(t,e,s,o,a,n){var r,d,m,c,l,_,k,S,g,N;return openBlock(),createElementBlock("div",_hoisted_1$u,[createBaseVNode("div",_hoisted_2$s,[e[30]||(e[30]=createBaseVNode("h3",null,"消息推送",-1)),createBaseVNode("div",_hoisted_3$s,[createBaseVNode("button",{onClick:e[0]||(e[0]=(...f)=>n.markAllAsRead&&n.markAllAsRead(...f)),class:"action-btn"},e[28]||(e[28]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor","stroke-width":"2"})],-1),createTextVNode(" 全部已读 ")])),createBaseVNode("button",{onClick:e[1]||(e[1]=(...f)=>n.openSettings&&n.openSettings(...f)),class:"action-btn settings-btn"},e[29]||(e[29]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1",stroke:"currentColor","stroke-width":"2"})],-1)]))])]),createBaseVNode("div",_hoisted_4$r,[createBaseVNode("div",_hoisted_5$q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.categories,f=>(openBlock(),createElementBlock("button",{key:f.id,onClick:E=>a.activeCategory=f.id,class:normalizeClass(["category-btn",{active:a.activeCategory===f.id}])},[createBaseVNode("span",_hoisted_7$o,toDisplayString(f.icon),1),createBaseVNode("span",_hoisted_8$m,toDisplayString(f.name),1),f.count>0?(openBlock(),createElementBlock("span",_hoisted_9$m,toDisplayString(f.count),1)):createCommentVNode("",!0)],10,_hoisted_6$p))),128))])]),createBaseVNode("div",_hoisted_10$m,[a.isRefreshing?(openBlock(),createElementBlock("div",_hoisted_11$k,e[31]||(e[31]=[createBaseVNode("div",{class:"refresh-spinner"},null,-1),createBaseVNode("span",null,"正在刷新...",-1)]))):createCommentVNode("",!0),createBaseVNode("div",_hoisted_12$k,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filteredNotifications,f=>(openBlock(),createElementBlock("div",{key:f.id,class:normalizeClass(["notification-card",{unread:!f.read,"new-message":f.isNew,urgent:f.priority==="urgent"}]),onClick:E=>n.openNotification(f)},[createBaseVNode("div",_hoisted_14$h,[createBaseVNode("div",_hoisted_15$h,[createBaseVNode("div",_hoisted_16$h,[createBaseVNode("div",{class:normalizeClass(["app-icon",f.type])},toDisplayString(n.getTypeIcon(f.type)),3),createBaseVNode("div",_hoisted_17$h,[e[32]||(e[32]=createBaseVNode("span",{class:"app-name"},"投资助手",-1)),createBaseVNode("span",_hoisted_18$g,toDisplayString(n.formatTime(f.time)),1)])]),f.read?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_19$g))]),createBaseVNode("div",_hoisted_20$f,[createBaseVNode("h4",_hoisted_21$e,toDisplayString(f.title),1),createBaseVNode("p",_hoisted_22$e,toDisplayString(f.message),1)]),createBaseVNode("div",_hoisted_23$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.actions,E=>(openBlock(),createElementBlock("button",{key:E.id,onClick:withModifiers(b=>n.handleAction(f,E),["stop"]),class:normalizeClass(["action-button",E.type])},toDisplayString(E.text),11,_hoisted_24$e))),128)),f.read?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,onClick:withModifiers(E=>n.markAsRead(f),["stop"]),class:"action-button secondary"}," 标记已读 ",8,_hoisted_25$d))])])],10,_hoisted_13$j))),128)),n.filteredNotifications.length===0?(openBlock(),createElementBlock("div",_hoisted_26$d,e[33]||(e[33]=[createBaseVNode("div",{class:"empty-icon"},"📭",-1),createBaseVNode("p",{class:"empty-text"},"暂无消息",-1),createBaseVNode("p",{class:"empty-desc"},"开启推送通知，及时获取重要信息",-1)]))):createCommentVNode("",!0),a.hasMore&&n.filteredNotifications.length>0?(openBlock(),createElementBlock("div",_hoisted_27$d,[createBaseVNode("button",{onClick:e[2]||(e[2]=(...f)=>n.loadMore&&n.loadMore(...f)),disabled:a.isLoading,class:"load-more-btn"},[a.isLoading?(openBlock(),createElementBlock("div",_hoisted_29$b)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(a.isLoading?"加载中...":"加载更多"),1)],8,_hoisted_28$c)])):createCommentVNode("",!0),!a.hasMore&&n.filteredNotifications.length>0?(openBlock(),createElementBlock("div",_hoisted_30$b,e[34]||(e[34]=[createBaseVNode("span",{class:"complete-icon"},"✓",-1),createBaseVNode("span",{class:"complete-text"},"已显示全部消息",-1)]))):createCommentVNode("",!0)])],512),a.showPermissionTip?(openBlock(),createElementBlock("div",_hoisted_31$b,[createBaseVNode("div",_hoisted_32$b,[e[35]||(e[35]=createBaseVNode("span",{class:"tip-icon"},"🔔",-1)),e[36]||(e[36]=createBaseVNode("span",{class:"tip-text"},"开启推送通知获取实时消息",-1)),createBaseVNode("button",{onClick:e[3]||(e[3]=(...f)=>n.requestPermission&&n.requestPermission(...f)),class:"tip-btn"},"开启"),createBaseVNode("button",{onClick:e[4]||(e[4]=f=>a.showPermissionTip=!1),class:"tip-close"},"✕")])])):createCommentVNode("",!0),a.toast.show?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["toast",a.toast.type])},toDisplayString(a.toast.message),3)):createCommentVNode("",!0),(openBlock(),createBlock(Teleport,{to:"body"},[a.showDetailDialog?(openBlock(),createElementBlock("div",{key:0,class:"detail-overlay",onClick:e[11]||(e[11]=(...f)=>n.closeDetail&&n.closeDetail(...f))},[createBaseVNode("div",{class:"detail-dialog",onClick:e[10]||(e[10]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:"drag-indicator",onTouchstart:e[5]||(e[5]=(...f)=>n.handleDetailTouchStart&&n.handleDetailTouchStart(...f)),onTouchmove:e[6]||(e[6]=(...f)=>n.handleDetailTouchMove&&n.handleDetailTouchMove(...f)),onTouchend:e[7]||(e[7]=(...f)=>n.handleDetailTouchEnd&&n.handleDetailTouchEnd(...f))},null,32),createBaseVNode("div",_hoisted_33$b,[createBaseVNode("div",_hoisted_34$b,[createBaseVNode("div",{class:normalizeClass(["detail-app-icon",(r=a.selectedNotification)==null?void 0:r.type])},toDisplayString(n.getTypeIcon((d=a.selectedNotification)==null?void 0:d.type)),3),createBaseVNode("div",_hoisted_35$a,[e[37]||(e[37]=createBaseVNode("span",{class:"detail-app-name"},"投资助手",-1)),createBaseVNode("span",_hoisted_36$a,toDisplayString(n.formatTime((m=a.selectedNotification)==null?void 0:m.time)),1)])]),createBaseVNode("button",{onClick:e[8]||(e[8]=(...f)=>n.closeDetail&&n.closeDetail(...f)),class:"detail-close"},e[38]||(e[38]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2"})],-1)]))]),createBaseVNode("div",_hoisted_37$a,[((c=a.selectedNotification)==null?void 0:c.priority)==="urgent"?(openBlock(),createElementBlock("div",_hoisted_38$a,e[39]||(e[39]=[createBaseVNode("span",{class:"priority-badge urgent"},"🔴 紧急",-1)]))):createCommentVNode("",!0),createBaseVNode("h3",_hoisted_39$8,toDisplayString((l=a.selectedNotification)==null?void 0:l.title),1),createBaseVNode("div",_hoisted_40$8,toDisplayString((_=a.selectedNotification)==null?void 0:_.message),1),(k=a.selectedNotification)!=null&&k.details?(openBlock(),createElementBlock("div",_hoisted_41$7,[e[40]||(e[40]=createBaseVNode("h4",{class:"extra-title"},"详细信息",-1)),createBaseVNode("div",_hoisted_42$7,toDisplayString(a.selectedNotification.details),1)])):createCommentVNode("",!0),(S=a.selectedNotification)!=null&&S.data?(openBlock(),createElementBlock("div",_hoisted_43$6,[e[41]||(e[41]=createBaseVNode("h4",{class:"data-title"},"相关数据",-1)),createBaseVNode("div",_hoisted_44$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.selectedNotification.data,(f,E)=>(openBlock(),createElementBlock("div",{key:E,class:"data-item"},[createBaseVNode("span",_hoisted_45$6,toDisplayString(E)+":",1),createBaseVNode("span",_hoisted_46$6,toDisplayString(f),1)]))),128))])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_47$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList((g=a.selectedNotification)==null?void 0:g.actions,f=>(openBlock(),createElementBlock("button",{key:f.id,onClick:E=>n.handleDetailAction(a.selectedNotification,f),class:normalizeClass(["detail-action-button",f.type])},toDisplayString(f.text),11,_hoisted_48$5))),128)),(N=a.selectedNotification)!=null&&N.read?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,onClick:e[9]||(e[9]=(...f)=>n.markAsReadAndClose&&n.markAsReadAndClose(...f)),class:"detail-action-button secondary"}," 标记已读 "))])])])):createCommentVNode("",!0)])),(openBlock(),createBlock(Teleport,{to:"body"},[a.showSettingsDialog?(openBlock(),createElementBlock("div",{key:0,class:"settings-overlay",onClick:e[27]||(e[27]=(...f)=>n.closeSettings&&n.closeSettings(...f))},[createBaseVNode("div",{class:"settings-dialog",onClick:e[26]||(e[26]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:"drag-indicator",onTouchstart:e[12]||(e[12]=(...f)=>n.handleTouchStart&&n.handleTouchStart(...f)),onTouchmove:e[13]||(e[13]=(...f)=>n.handleTouchMove&&n.handleTouchMove(...f)),onTouchend:e[14]||(e[14]=(...f)=>n.handleTouchEnd&&n.handleTouchEnd(...f))},null,32),createBaseVNode("div",_hoisted_49$5,[e[43]||(e[43]=createBaseVNode("h3",{class:"settings-title"},"推送设置",-1)),createBaseVNode("button",{onClick:e[15]||(e[15]=(...f)=>n.closeSettings&&n.closeSettings(...f)),class:"settings-close"},e[42]||(e[42]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2"})],-1)]))]),createBaseVNode("div",{class:"settings-content",onScroll:e[22]||(e[22]=(...f)=>n.handleContentScroll&&n.handleContentScroll(...f)),"data-scrollable":""},[createBaseVNode("div",_hoisted_50$5,[e[45]||(e[45]=createBaseVNode("h4",{class:"section-title"},"消息类型推送",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.settingCategories,f=>(openBlock(),createElementBlock("div",{class:"setting-item",key:f.id},[createBaseVNode("div",_hoisted_51$5,[createBaseVNode("div",_hoisted_52$5,toDisplayString(f.name),1),createBaseVNode("div",_hoisted_53$5,toDisplayString(f.description),1)]),createBaseVNode("div",_hoisted_54$5,[createBaseVNode("label",_hoisted_55$5,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":E=>a.settings[f.id]=E},null,8,_hoisted_56$5),[[vModelCheckbox,a.settings[f.id]]]),e[44]||(e[44]=createBaseVNode("span",{class:"toggle-slider"},null,-1))])])]))),128))]),e[55]||(e[55]=createBaseVNode("div",{class:"settings-divider"},null,-1)),createBaseVNode("div",_hoisted_57$5,[e[50]||(e[50]=createBaseVNode("h4",{class:"section-title"},"推送时间",-1)),createBaseVNode("div",_hoisted_58$5,[createBaseVNode("div",_hoisted_59$5,[e[46]||(e[46]=createBaseVNode("label",null,"开始时间",-1)),withDirectives(createBaseVNode("input",{type:"time","onUpdate:modelValue":e[16]||(e[16]=f=>a.settings.startTime=f),class:"time-picker"},null,512),[[vModelText,a.settings.startTime]])]),createBaseVNode("div",_hoisted_60$5,[e[47]||(e[47]=createBaseVNode("label",null,"结束时间",-1)),withDirectives(createBaseVNode("input",{type:"time","onUpdate:modelValue":e[17]||(e[17]=f=>a.settings.endTime=f),class:"time-picker"},null,512),[[vModelText,a.settings.endTime]])])]),createBaseVNode("div",_hoisted_61$5,[e[49]||(e[49]=createBaseVNode("div",{class:"setting-info"},[createBaseVNode("div",{class:"setting-label"},"免打扰模式"),createBaseVNode("div",{class:"setting-desc"},"指定时间段内不接收推送")],-1)),createBaseVNode("div",_hoisted_62$5,[createBaseVNode("label",_hoisted_63$5,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=f=>a.settings.doNotDisturb=f)},null,512),[[vModelCheckbox,a.settings.doNotDisturb]]),e[48]||(e[48]=createBaseVNode("span",{class:"toggle-slider"},null,-1))])])])]),e[56]||(e[56]=createBaseVNode("div",{class:"settings-divider"},null,-1)),createBaseVNode("div",_hoisted_64$5,[e[54]||(e[54]=createBaseVNode("h4",{class:"section-title"},"推送频率",-1)),createBaseVNode("div",_hoisted_65$5,[createBaseVNode("label",_hoisted_66$5,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":e[19]||(e[19]=f=>a.settings.frequency=f),type:"radio",value:"realtime",class:"frequency-radio"},null,512),[[vModelRadio,a.settings.frequency]]),e[51]||(e[51]=createBaseVNode("div",{class:"frequency-content"},[createBaseVNode("span",{class:"frequency-label"},"实时推送"),createBaseVNode("span",{class:"frequency-desc"},"消息产生时立即推送")],-1))]),createBaseVNode("label",_hoisted_67$5,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":e[20]||(e[20]=f=>a.settings.frequency=f),type:"radio",value:"hourly",class:"frequency-radio"},null,512),[[vModelRadio,a.settings.frequency]]),e[52]||(e[52]=createBaseVNode("div",{class:"frequency-content"},[createBaseVNode("span",{class:"frequency-label"},"每小时汇总"),createBaseVNode("span",{class:"frequency-desc"},"每小时汇总推送一次")],-1))]),createBaseVNode("label",_hoisted_68$5,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":e[21]||(e[21]=f=>a.settings.frequency=f),type:"radio",value:"daily",class:"frequency-radio"},null,512),[[vModelRadio,a.settings.frequency]]),e[53]||(e[53]=createBaseVNode("div",{class:"frequency-content"},[createBaseVNode("span",{class:"frequency-label"},"每日汇总"),createBaseVNode("span",{class:"frequency-desc"},"每天汇总推送一次")],-1))])])])],32),a.showScrollIndicator?(openBlock(),createElementBlock("div",{key:0,class:"scroll-indicator",onClick:e[23]||(e[23]=(...f)=>n.scrollToMore&&n.scrollToMore(...f))},e[57]||(e[57]=[createBaseVNode("div",{class:"scroll-hint"},[createBaseVNode("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M7 13l3 3 3-3",stroke:"currentColor","stroke-width":"2"})]),createBaseVNode("span",null,"向下滚动查看更多")],-1)]))):createCommentVNode("",!0),createBaseVNode("div",_hoisted_69$5,[createBaseVNode("button",{onClick:e[24]||(e[24]=(...f)=>n.resetSettings&&n.resetSettings(...f)),class:"reset-btn"},"重置默认"),createBaseVNode("button",{onClick:e[25]||(e[25]=(...f)=>n.saveSettings&&n.saveSettings(...f)),class:"save-btn"},"保存设置")])])])):createCommentVNode("",!0)]))])}const MobilePushNotifications=_export_sfc(_sfc_main$u,[["render",_sfc_render$1],["__scopeId","data-v-2ddd3584"]]),ICONS={star:"⭐",chart:"🎯",trading:"🤖",buy:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",sell:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},RECOMMENDATION_CONFIG={showRecommendIndex:!0,showRecommendTooltip:!0,showBasicDetails:!0,showReason:!0,clickable:!0,actions:[{key:"analysis",text:"量化分析",type:"default",class:"paid-analysis-btn",icon:ICONS.chart,priceTag:{original:"3智点",promo:"1智点"}},{key:"aiTrading",text:"AI委托交易",type:"default",class:"quant-analysis-btn",icon:ICONS.trading,priceTag:{original:"3智点",promo:"1智点"}},{key:"addWatchlist",text:"加入自选",type:"primary",class:"add-watchlist-btn",icon:ICONS.star},{key:"removeWatchlist",text:"已加自选",type:"success",class:"remove-watchlist-btn",icon:ICONS.star},{key:"buy",text:"购买",type:"default",class:"buy-stock-btn-secondary",icon:ICONS.buy}]},WATCHLIST_CONFIG={showWatchlistStatus:!0,showBasicDetails:!0,showWatchlistDetails:!1,clickable:!0,actions:[{key:"analysis",text:"量化分析",type:"default",class:"paid-analysis-btn",icon:ICONS.chart,priceTag:{original:"3智点",promo:"1智点"}},{key:"aiTrading",text:"AI委托交易",type:"default",class:"quant-analysis-btn",icon:ICONS.trading,priceTag:{original:"3智点",promo:"1智点"}},{key:"removeWatchlist",text:"移除自选",type:"default",class:"remove-watchlist-btn",icon:ICONS.star},{key:"buy",text:"买入",type:"default",class:"buy-stock-btn-secondary",icon:ICONS.buy}]},PORTFOLIO_CONFIG={showPositionStatus:!0,showPositionDetails:!0,clickable:!0,actions:[{key:"analysis",text:"量化分析",type:"default",class:"paid-analysis-btn",icon:ICONS.chart,priceTag:{original:"3智点",promo:"1智点"}},{key:"aiTrading",text:"AI委托交易",type:"default",class:"quant-analysis-btn",icon:ICONS.trading,priceTag:{original:"3智点",promo:"1智点"}},{key:"sell",text:"卖出",type:"danger",class:"sell-stock-btn",icon:ICONS.sell},{key:"buy",text:"加仓",type:"default",class:"buy-stock-btn-secondary",icon:ICONS.buy}]},SMART_RECOMMENDATION_CONFIG={showToolbar:!0,showTime:!0,showRecommendIndex:!0,showRecommendTooltip:!0,showBasicDetails:!0,showReason:!0,clickable:!0,listClass:"persistent-stock-list",actions:[{key:"analysis",text:"量化分析",type:"default",class:"paid-analysis-btn",icon:ICONS.chart,priceTag:{original:"3智点",promo:"1智点"}},{key:"aiTrading",text:"AI委托交易",type:"default",class:"quant-analysis-btn",icon:ICONS.trading,priceTag:{original:"3智点",promo:"1智点"}},{key:"addWatchlist",text:"加入自选",type:"primary",class:"add-watchlist-btn",icon:ICONS.star},{key:"removeWatchlist",text:"已加自选",type:"success",class:"remove-watchlist-btn",icon:ICONS.star},{key:"buy",text:"购买",type:"default",class:"buy-stock-btn-secondary",icon:ICONS.buy}]},QUANT_RECOMMENDATION_CONFIG={showBasicDetails:!0,showReason:!0,clickable:!0,actions:[{key:"analysis",text:"详细分析",type:"default",class:"detail-analysis-btn"},{key:"addWatchlist",text:"加入自选",type:"primary",class:"add-watchlist-btn",icon:ICONS.star}]},SIMPLE_CONFIG={showBasicDetails:!1,clickable:!0,actions:[{key:"addWatchlist",text:"关注",type:"primary",class:"add-watchlist-btn",icon:ICONS.star}]},getStockListConfig=t=>({recommendation:RECOMMENDATION_CONFIG,watchlist:WATCHLIST_CONFIG,portfolio:PORTFOLIO_CONFIG,smartRecommendation:SMART_RECOMMENDATION_CONFIG,quantRecommendation:QUANT_RECOMMENDATION_CONFIG,simple:SIMPLE_CONFIG})[t]||SIMPLE_CONFIG,_hoisted_1$t={class:"watchlist-container"},_hoisted_2$r={class:"card-header"},_hoisted_3$r={class:"header-actions"},_hoisted_4$q={class:"watchlist-content"},_hoisted_5$p={key:0,class:"empty-state"},_hoisted_6$o={key:1,class:"watchlist-list"},_hoisted_7$n={key:0,class:"card-footer"},_sfc_main$t={__name:"WatchlistView",emits:["send-to-chat","show-buy-dialog","action-click"],setup(t,{emit:e}){const s=e,o=useUserStore(),{isMobileView:a}=useMobileDetection(),n=computed(()=>getStockActionConfig("watchlist",{isMobile:a.value,maxButtons:a.value?3:4})),r=computed(()=>o.watchlist.map(N=>{const f=m(N),E=c(N),b=N.targetPrice||l(f);return{...N,price:f,change:E.change,changePercent:E.changePercent,industry:N.industry||"未分类",recommendLevel:N.recommendLevel||"中性",targetPrice:b,expectedReturn:N.expectedReturn||_(f,b),riskLevel:N.riskLevel||k(N.recommendLevel||"中性")}})),d=({action:N,stock:f})=>{console.log("WatchlistView - 转发股票操作:",N,f),s("action-click",{action:N,stock:f})},m=N=>{const f=parseFloat(N.price),E=(Math.random()-.5)*2;return(f*(1+E/100)).toFixed(2)},c=N=>{if(N.change!==void 0&&N.changePercent!==void 0)return{change:N.change,changePercent:N.changePercent};const f=parseFloat(m(N)),E=parseFloat(N.price),b=f-E,y=(b/E*100).toFixed(2);return{change:b>=0?`+${b.toFixed(2)}`:b.toFixed(2),changePercent:parseFloat(y)>=0?`+${y}%`:`${y}%`}},l=N=>{const f=parseFloat(N),E=1.1+Math.random()*.3;return(f*E).toFixed(2)},_=(N,f)=>{const E=parseFloat(N);return`+${((parseFloat(f)-E)/E*100).toFixed(1)}%`},k=N=>({强烈推荐:"较低",推荐:"中等",中性:"中等",谨慎:"较高",不推荐:"高"})[N]||"中等",S=async()=>{try{await ElMessageBox.confirm("确定要清空所有自选股吗？此操作不可恢复。","确认清空",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),o.watchlist.splice(0),localStorage.setItem("watchlist",JSON.stringify([])),ElMessage.success("已清空所有自选股")}catch{}},g=()=>{ElMessage.success("自选股数据已刷新")};return onMounted(()=>{}),onUnmounted(()=>{}),(N,f)=>{const E=resolveComponent("el-button");return openBlock(),createElementBlock("div",_hoisted_1$t,[createBaseVNode("div",_hoisted_2$r,[f[1]||(f[1]=createBaseVNode("h3",{class:"card-title"},"我的自选股",-1)),createBaseVNode("div",_hoisted_3$r,[createVNode(E,{size:"small",text:"",onClick:g},{default:withCtx(()=>f[0]||(f[0]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M21 3v5h-5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M3 21v-5h5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1,__:[0]})])]),createBaseVNode("div",_hoisted_4$q,[unref(o).watchlist.length===0?(openBlock(),createElementBlock("div",_hoisted_5$p,f[2]||(f[2]=[createBaseVNode("div",{class:"empty-icon"}," ⭐ ",-1),createBaseVNode("div",{class:"empty-title"},"暂无自选股",-1),createBaseVNode("div",{class:"empty-desc"},"在聊天中分析股票时可以添加到自选股",-1)]))):(openBlock(),createElementBlock("div",_hoisted_6$o,[unref(a)?(openBlock(),createBlock(MobileStockList,{key:1,stocks:r.value,actions:n.value,"show-details":!0,clickable:!1,onActionClick:d},null,8,["stocks","actions"])):(openBlock(),createBlock(StockList,{key:0,stocks:r.value,actions:n.value,"show-watchlist-status":!0,"show-basic-details":!0,clickable:!1,"is-mobile":unref(a),onActionClick:d},null,8,["stocks","actions","is-mobile"]))]))]),unref(o).watchlist.length>0?(openBlock(),createElementBlock("div",_hoisted_7$n,[createVNode(E,{size:"small",text:"",onClick:S},{default:withCtx(()=>f[3]||(f[3]=[createTextVNode(" 清空自选股 ")])),_:1,__:[3]})])):createCommentVNode("",!0)])}}},WatchlistView=_export_sfc(_sfc_main$t,[["__scopeId","data-v-56346a1e"]]),_hoisted_1$s={class:"portfolio-view"},_hoisted_2$q={class:"account-summary"},_hoisted_3$q={class:"summary-main"},_hoisted_4$p={class:"total-assets-card"},_hoisted_5$o={class:"asset-info"},_hoisted_6$n={class:"asset-value"},_hoisted_7$m={width:"12",height:"12",viewBox:"0 0 24 24",fill:"none"},_hoisted_8$l=["d"],_hoisted_9$l={class:"summary-grid"},_hoisted_10$l={class:"summary-card"},_hoisted_11$j={class:"card-content"},_hoisted_12$j={class:"card-value"},_hoisted_13$i={class:"summary-card"},_hoisted_14$g={class:"card-content"},_hoisted_15$g={class:"card-value"},_hoisted_16$g={class:"summary-card"},_hoisted_17$g={class:"card-content"},_hoisted_18$f={class:"portfolio-content"},_hoisted_19$f={key:0,class:"empty-state"},_sfc_main$s={__name:"PortfolioView",emits:["send-to-chat","show-buy-dialog","show-sell-dialog","action-click"],setup(t,{emit:e}){const s=e,o=useUserStore(),{isMobileView:a}=useMobileDetection(),n=computed(()=>getStockActionConfig("portfolio",{isMobile:a.value,maxButtons:a.value?3:4})),r={"000001":12.68,"000858":52.3,"000002":24.15,300750:485.2,600519:1680.5,"000700":15.8},d=computed(()=>o.getTotalAssets()),m=computed(()=>o.portfolio.reduce((E,b)=>{const y=_(b.code);return E+b.quantity*y},0)),c=computed(()=>o.portfolio.reduce((E,b)=>E+k(b),0)),l=computed(()=>o.portfolio.map(E=>{const b=_(E.code),y=k(E),$=S(E),w=x=>({"000001":"银行业","000858":"食品饮料","000002":"房地产",300750:"医疗器械",600519:"食品饮料","000700":"交通运输"})[x]||"未分类";return{code:E.code,name:E.name,price:b,change:$,changeAmount:y,industry:E.industry||w(E.code),quantity:E.quantity,avgPrice:E.avgPrice,marketValue:E.quantity*b,profitLoss:y,profitPercent:$}})),_=E=>r[E]||0,k=E=>(_(E.code)-E.avgPrice)*E.quantity,S=E=>(_(E.code)-E.avgPrice)/E.avgPrice*100,g=E=>E>=1e4?(E/1e4).toFixed(2)+"万":E.toFixed(2),N=()=>{ElMessage.success("数据已刷新")},f=({action:E,stock:b})=>{console.log("PortfolioView - 转发股票操作:",E,b),s("action-click",{action:E,stock:b})};return onMounted(()=>{}),onUnmounted(()=>{}),(E,b)=>(openBlock(),createElementBlock("div",_hoisted_1$s,[createBaseVNode("div",_hoisted_2$q,[createBaseVNode("div",{class:"summary-header"},[b[1]||(b[1]=createBaseVNode("h3",null,"我的资产",-1)),createBaseVNode("div",{class:"refresh-btn",onClick:N},b[0]||(b[0]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M1 4v6h6M23 20v-6h-6",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15",stroke:"currentColor","stroke-width":"2"})],-1)]))]),createBaseVNode("div",_hoisted_3$q,[createBaseVNode("div",_hoisted_4$p,[b[3]||(b[3]=createBaseVNode("div",{class:"asset-icon"},"💰",-1)),createBaseVNode("div",_hoisted_5$o,[b[2]||(b[2]=createBaseVNode("span",{class:"asset-label"},"总资产",-1)),createBaseVNode("span",_hoisted_6$n,"¥"+toDisplayString(g(d.value)),1),createBaseVNode("div",{class:normalizeClass(["asset-change",c.value>=0?"positive":"negative"])},[(openBlock(),createElementBlock("svg",_hoisted_7$m,[createBaseVNode("path",{d:c.value>=0?"M7 14l5-5 5 5":"M7 10l5 5 5-5",stroke:"currentColor","stroke-width":"2"},null,8,_hoisted_8$l)])),createTextVNode(" "+toDisplayString(c.value>=0?"+":"")+"¥"+toDisplayString(Math.abs(c.value).toFixed(2)),1)],2)])])]),createBaseVNode("div",_hoisted_9$l,[createBaseVNode("div",_hoisted_10$l,[b[5]||(b[5]=createBaseVNode("div",{class:"card-icon cash"},"💵",-1)),createBaseVNode("div",_hoisted_11$j,[b[4]||(b[4]=createBaseVNode("span",{class:"card-label"},"可用余额",-1)),createBaseVNode("span",_hoisted_12$j,"¥"+toDisplayString(g(unref(o).balance)),1)])]),createBaseVNode("div",_hoisted_13$i,[b[7]||(b[7]=createBaseVNode("div",{class:"card-icon stocks"},"📈",-1)),createBaseVNode("div",_hoisted_14$g,[b[6]||(b[6]=createBaseVNode("span",{class:"card-label"},"持仓市值",-1)),createBaseVNode("span",_hoisted_15$g,"¥"+toDisplayString(g(m.value)),1)])]),createBaseVNode("div",_hoisted_16$g,[createBaseVNode("div",{class:normalizeClass(["card-icon profit",c.value>=0?"positive":"negative"])},toDisplayString(c.value>=0?"📊":"📉"),3),createBaseVNode("div",_hoisted_17$g,[b[8]||(b[8]=createBaseVNode("span",{class:"card-label"},"今日盈亏",-1)),createBaseVNode("span",{class:normalizeClass(["card-value",c.value>=0?"positive":"negative"])},toDisplayString(c.value>=0?"+":"")+"¥"+toDisplayString(Math.abs(c.value).toFixed(2)),3)])])])]),createBaseVNode("div",_hoisted_18$f,[unref(a)?(openBlock(),createBlock(MobileStockList,{key:1,stocks:l.value,actions:n.value,"show-position-status":!0,"show-details":!0,clickable:!1,"empty-text":"暂无持仓","empty-description":"您还没有购买任何股票，可以通过聊天分析股票后进行购买",onActionClick:f},null,8,["stocks","actions"])):(openBlock(),createElementBlock(Fragment,{key:0},[unref(o).portfolio.length===0?(openBlock(),createElementBlock("div",_hoisted_19$f,b[9]||(b[9]=[createBaseVNode("div",{class:"empty-icon"},"📊",-1),createBaseVNode("div",{class:"empty-text"},[createBaseVNode("h4",null,"暂无持仓"),createBaseVNode("p",null,[createTextVNode("您还没有购买任何股票"),createBaseVNode("br"),createTextVNode("可以通过聊天分析股票后进行购买")])],-1)]))):(openBlock(),createBlock(StockList,{key:1,stocks:l.value,actions:n.value,"show-position-status":!0,"show-position-details":!0,"show-basic-details":!1,clickable:!1,"is-mobile":unref(a),onActionClick:f},null,8,["stocks","actions","is-mobile"]))],64))])]))}},PortfolioView=_export_sfc(_sfc_main$s,[["__scopeId","data-v-0bffec48"]]),_hoisted_1$r={class:"sidebar-content"},_hoisted_2$p=["width","height"],_hoisted_3$p={key:0,class:"count-badge"},_hoisted_4$o=["width","height"],_hoisted_5$n={key:0,class:"count-badge"},_hoisted_6$m=["width","height"],_hoisted_7$l={key:0,class:"unread-badge"},_hoisted_8$k={class:"tab-panel"},_hoisted_9$k={class:"tab-panel"},_hoisted_10$k={class:"tab-panel"},_hoisted_11$i={class:"tab-panel"},_hoisted_12$i={class:"tab-panel"},_sfc_main$r={__name:"Sidebar",emits:["send-to-chat","show-buy-dialog","show-sell-dialog","stock-action"],setup(t,{expose:e,emit:s}){const o=s,a=useUserStore(),{isMobileView:n,deviceType:r}=useMobileDetection(),d=ref(!0),m=ref("market"),c=ref(2),l=ref(!1),_=computed(()=>a.watchlist.length),k=computed(()=>a.portfolio.length);watch(r,(T,D)=>{console.log("Sidebar设备类型变化:",{oldType:D,newType:T}),D==="mobile"&&T!=="mobile"&&l.value&&(l.value=!1,document.body.style.overflow="")});const S=()=>{console.log("Sidebar toggleSidebar被调用",{isMobileView:n.value,isMobileExpanded:l.value,isCollapsed:d.value,windowWidth:window.innerWidth}),n.value?(l.value=!l.value,console.log("移动端模式，isMobileExpanded设为:",l.value),setTimeout(()=>{const T=document.querySelector(".mobile-close-btn");console.log("关闭按钮状态:",{exists:!!T,visible:T?getComputedStyle(T).visibility:"not found",display:T?getComputedStyle(T).display:"not found",zIndex:T?getComputedStyle(T).zIndex:"not found",position:T?T.getBoundingClientRect():"not found"})},100),l.value?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top="0"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top="")):(console.log("PC端模式，isCollapsed设为:",!d.value),d.value=!d.value)},g=()=>{n.value&&l.value&&(l.value=!1,document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top="")},N=()=>{},f=T=>{T.key==="Escape"&&n.value&&l.value&&g()};onMounted(()=>{n.value&&(d.value=!1),window.addEventListener("resize",N),document.addEventListener("keydown",f)}),onUnmounted(()=>{window.removeEventListener("resize",N),document.removeEventListener("keydown",f),document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top=""});const E=T=>{o("send-to-chat",T)},b=T=>{o("show-buy-dialog",T)},y=T=>{o("show-sell-dialog",T)},$=T=>{console.log("Sidebar - 转发股票操作:",T),o("stock-action",T)},w=T=>{switch(console.log("Sidebar - 通知点击:",T),T.type){case"market":m.value="market";break;case"trade":m.value="portfolio";break;case"alert":o("send-to-chat",{message:`风险提醒：${T.message}`,type:"alert"});break;default:o("send-to-chat",{message:`${T.title}: ${T.message}`,type:"notification"})}},x=({notification:T,action:D})=>{switch(console.log("Sidebar - 通知操作:",{notification:T,action:D}),D.id){case"view":o("send-to-chat",{message:`请显示${T.title}的详细信息`,type:"query"});break;case"trade":T.stockCode&&o("show-buy-dialog",{code:T.stockCode,name:T.stockName||T.title});break;case"adjust":m.value="portfolio";break}},v=()=>{console.log("Sidebar - 打开推送设置"),o("send-to-chat",{message:"请帮我设置消息推送偏好",type:"settings"})},C=T=>{T.stopPropagation(),n.value&&l.value&&console.log("移动端侧边栏滚动事件:",{deltaY:T.deltaY,target:T.target.className,scrollTop:T.target.scrollTop,scrollHeight:T.target.scrollHeight,clientHeight:T.target.clientHeight})};return e({toggleSidebar:S}),(T,D)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(["sidebar-overlay",{show:l.value}]),onClick:g},null,2),unref(n)?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,class:normalizeClass(["sidebar-toggle",{expanded:!d.value}]),onClick:S},[(openBlock(),createElementBlock("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",class:normalizeClass({rotated:d.value})},D[6]||(D[6]=[createBaseVNode("path",{d:"M15 18l-6-6 6-6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]),2))],2)),createBaseVNode("div",{class:normalizeClass(["sidebar-container",{collapsed:d.value,"mobile-expanded":l.value}]),onWheel:D[5]||(D[5]=withModifiers(()=>{},["stop"]))},[withDirectives(createBaseVNode("div",_hoisted_1$r,[unref(n)&&l.value?(openBlock(),createElementBlock("button",{key:0,class:"mobile-close-btn",onClick:g,title:"关闭面板"},D[7]||(D[7]=[createBaseVNode("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["tab-nav",{"mobile-nav":unref(n)}]),ref:"tabNavRef"},[createBaseVNode("div",{class:normalizeClass(["tab-item",{active:m.value==="market"}]),onClick:D[0]||(D[0]=B=>m.value="market")},[(openBlock(),createElementBlock("svg",{width:unref(n)?"18":"16",height:unref(n)?"18":"16",viewBox:"0 0 24 24",fill:"none"},D[8]||(D[8]=[createBaseVNode("path",{d:"M3 3v18h18",stroke:"currentColor","stroke-width":"2"},null,-1),createBaseVNode("path",{d:"M7 12l4-4 4 4 6-6",stroke:"currentColor","stroke-width":"2"},null,-1)]),8,_hoisted_2$p)),D[9]||(D[9]=createBaseVNode("span",{class:"tab-text"},"大盘指数",-1))],2),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:m.value==="stocks"}]),onClick:D[1]||(D[1]=B=>m.value="stocks")},D[10]||(D[10]=[createBaseVNode("span",{class:"tab-icon"},"🎯",-1),createBaseVNode("span",{class:"tab-text"},"智能荐股",-1)]),2),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:m.value==="watchlist"}]),onClick:D[2]||(D[2]=B=>m.value="watchlist")},[D[11]||(D[11]=createBaseVNode("span",{class:"tab-icon"},"⭐",-1)),D[12]||(D[12]=createBaseVNode("span",{class:"tab-text"},"自选股",-1)),_.value>0?(openBlock(),createElementBlock("span",_hoisted_3$p,toDisplayString(_.value),1)):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:m.value==="portfolio"}]),onClick:D[3]||(D[3]=B=>m.value="portfolio")},[(openBlock(),createElementBlock("svg",{width:unref(n)?"18":"16",height:unref(n)?"18":"16",viewBox:"0 0 24 24",fill:"none"},D[13]||(D[13]=[createBaseVNode("path",{d:"M3 3h18v18H3zM12 8v8m-4-4h8",stroke:"currentColor","stroke-width":"2"},null,-1)]),8,_hoisted_4$o)),D[14]||(D[14]=createBaseVNode("span",{class:"tab-text"},"持仓",-1)),k.value>0?(openBlock(),createElementBlock("span",_hoisted_5$n,toDisplayString(k.value),1)):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:m.value==="messages"}]),onClick:D[4]||(D[4]=B=>m.value="messages")},[(openBlock(),createElementBlock("svg",{width:unref(n)?"18":"16",height:unref(n)?"18":"16",viewBox:"0 0 24 24",fill:"none"},D[15]||(D[15]=[createBaseVNode("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",stroke:"currentColor","stroke-width":"2"},null,-1),createBaseVNode("path",{d:"M13.73 21a2 2 0 0 1-3.46 0",stroke:"currentColor","stroke-width":"2"},null,-1)]),8,_hoisted_6$m)),D[16]||(D[16]=createBaseVNode("span",{class:"tab-text"},"消息推送",-1)),c.value>0?(openBlock(),createElementBlock("span",_hoisted_7$l,toDisplayString(c.value),1)):createCommentVNode("",!0)],2)],2),createBaseVNode("div",{class:"tab-content",onWheel:C},[withDirectives(createBaseVNode("div",_hoisted_8$k,[createVNode(MarketIndex,{onSendToChat:E})],512),[[vShow,m.value==="market"]]),withDirectives(createBaseVNode("div",_hoisted_9$k,[createVNode(StockRecommendations,{onSendToChat:E,onShowBuyDialog:b,onActionClick:$})],512),[[vShow,m.value==="stocks"]]),withDirectives(createBaseVNode("div",_hoisted_10$k,[createVNode(WatchlistView,{onSendToChat:E,onShowBuyDialog:b,onActionClick:$})],512),[[vShow,m.value==="watchlist"]]),withDirectives(createBaseVNode("div",_hoisted_11$i,[createVNode(PortfolioView,{onSendToChat:E,onShowBuyDialog:b,onShowSellDialog:y,onActionClick:$})],512),[[vShow,m.value==="portfolio"]]),withDirectives(createBaseVNode("div",_hoisted_12$i,[unref(n)?(openBlock(),createBlock(MobilePushNotifications,{key:0,onNotificationClick:w,onActionClick:x,onOpenSettings:v})):(openBlock(),createBlock(MessagePushCenter,{key:1,onSendToChat:E}))],512),[[vShow,m.value==="messages"]])],32)],512),[[vShow,unref(n)&&l.value||!unref(n)&&!d.value]])],34)],64))}},Sidebar=_export_sfc(_sfc_main$r,[["__scopeId","data-v-83e1ec9e"]]),_hoisted_1$q={class:"user-profile-overlay"},_hoisted_2$o={class:"profile-close"},_hoisted_3$o={class:"mobile-header"},_hoisted_4$n={class:"mobile-user-info"},_hoisted_5$m={class:"mobile-avatar"},_hoisted_6$l={class:"mobile-user-details"},_hoisted_7$k={class:"mobile-content","data-scrollable":""},_hoisted_8$j={class:"mobile-balance-card"},_hoisted_9$j={class:"balance-grid"},_hoisted_10$j={class:"balance-item"},_hoisted_11$h={class:"balance-amount"},_hoisted_12$h={class:"balance-item"},_hoisted_13$h={class:"balance-amount"},_hoisted_14$f={class:"balance-item"},_hoisted_15$f={class:"balance-amount"},_hoisted_16$f={class:"balance-item"},_hoisted_17$f={class:"balance-amount"},_hoisted_18$e={class:"mobile-status-card"},_hoisted_19$e={class:"status-list"},_hoisted_20$e={class:"status-item verified"},_hoisted_21$d={class:"status-item-icon"},_hoisted_22$d={class:"status-item verified"},_hoisted_23$d={class:"status-item-icon"},_hoisted_24$d={class:"status-item pending"},_hoisted_25$c={class:"status-item-icon"},_hoisted_26$c={class:"status-item-action"},_hoisted_27$c={class:"mobile-info-card"},_hoisted_28$b={class:"info-list"},_hoisted_29$a={class:"info-row"},_hoisted_30$a={class:"info-row-value"},_hoisted_31$a={class:"info-row"},_hoisted_32$a={class:"info-row-value"},_hoisted_33$a={class:"info-row"},_hoisted_34$a={class:"info-row-value"},_hoisted_35$9={class:"info-row"},_hoisted_36$9={class:"info-row-value"},_hoisted_37$9={class:"info-row"},_hoisted_38$9={class:"info-row-value"},_hoisted_39$7={class:"info-row"},_hoisted_40$7={class:"info-row-value"},_hoisted_41$6={class:"mobile-settings-card"},_hoisted_42$6={class:"settings-list"},_hoisted_43$5={class:"settings-item-left"},_hoisted_44$5={class:"settings-item-left"},_hoisted_45$5={class:"settings-item-left"},_hoisted_46$5={class:"settings-item-left"},_hoisted_47$4={class:"profile-header"},_hoisted_48$4={class:"header-content"},_hoisted_49$4={class:"user-avatar"},_hoisted_50$4=["src"],_hoisted_51$4={key:1,class:"default-avatar"},_hoisted_52$4={class:"user-info"},_hoisted_53$4={class:"user-name"},_hoisted_54$4={class:"user-desc"},_hoisted_55$4={class:"user-stats"},_hoisted_56$4={class:"stat-item"},_hoisted_57$4={class:"stat-value"},_hoisted_58$4={class:"stat-item"},_hoisted_59$4={class:"stat-value"},_hoisted_60$4={class:"stat-item"},_hoisted_61$4={class:"stat-value"},_hoisted_62$4={class:"stat-item"},_hoisted_63$4={class:"stat-value"},_hoisted_64$4={class:"header-actions"},_hoisted_65$4={class:"profile-content"},_hoisted_66$4={class:"tab-content"},_hoisted_67$4={class:"info-section"},_hoisted_68$4={class:"info-grid"},_hoisted_69$4={class:"info-item"},_hoisted_70$3={class:"info-value"},_hoisted_71$3={class:"info-item"},_hoisted_72$3={class:"info-value"},_hoisted_73$3={class:"info-item"},_hoisted_74$3={class:"info-value"},_hoisted_75$3={class:"info-item"},_hoisted_76$3={class:"info-value"},_hoisted_77$3={class:"info-item"},_hoisted_78$2={class:"info-value"},_hoisted_79$2={class:"info-item"},_hoisted_80$2={class:"info-value"},_hoisted_81$2={class:"info-section"},_hoisted_82$2={class:"status-grid"},_hoisted_83$2={class:"status-card verified"},_hoisted_84$2={class:"status-icon"},_hoisted_85$2={class:"status-card verified"},_hoisted_86$2={class:"status-icon"},_hoisted_87$2={class:"status-card pending"},_hoisted_88$2={class:"status-icon"},_hoisted_89$2={class:"tab-content"},_hoisted_90$2={class:"accounts-container"},_hoisted_91$1={class:"account-card stock-account"},_hoisted_92$1={class:"account-header"},_hoisted_93$1={class:"account-icon"},_hoisted_94$1={class:"account-balance"},_hoisted_95$1={class:"balance-amount"},_hoisted_96$1={class:"amount"},_hoisted_97$1={class:"balance-actions"},_hoisted_98$1={class:"account-stats"},_hoisted_99$1={class:"stat-row"},_hoisted_100$1={class:"stat-value"},_hoisted_101$1={class:"stat-row"},_hoisted_102$1={class:"stat-value"},_hoisted_103$1={class:"account-card points-account"},_hoisted_104$1={class:"account-header"},_hoisted_105$1={class:"account-icon"},_hoisted_106$1={class:"account-balance"},_hoisted_107$1={class:"balance-amount points-balance"},_hoisted_108$1={class:"amount"},_hoisted_109$1={class:"balance-actions"},_hoisted_110={class:"tab-content"},_hoisted_111={class:"info-section"},_hoisted_112={class:"settings-list"},_hoisted_113={class:"setting-item"},_hoisted_114={class:"setting-item"},_hoisted_115={class:"setting-info"},_hoisted_116={class:"setting-item"},_hoisted_117={class:"setting-info"},_hoisted_118={class:"info-section"},_hoisted_119={class:"notification-settings"},_hoisted_120={class:"notification-item"},_hoisted_121={class:"notification-item"},_hoisted_122={class:"notification-item"},_hoisted_123={class:"notification-item"},_hoisted_124={class:"notification-item"},_hoisted_125={class:"mobile-settings-header"},_hoisted_126={class:"mobile-settings-content"},_hoisted_127={class:"mobile-profile-section"},_hoisted_128={class:"profile-item-left"},_hoisted_129={class:"profile-item-value"},_hoisted_130={class:"profile-item-left"},_hoisted_131={class:"profile-item-value"},_hoisted_132={class:"profile-item-left"},_hoisted_133={class:"profile-item-value"},_hoisted_134={class:"mobile-field-header"},_hoisted_135=["disabled"],_hoisted_136={class:"mobile-field-content"},_hoisted_137={class:"mobile-field-input-wrapper"},_hoisted_138=["type","placeholder"],_hoisted_139={key:0,class:"mobile-field-error"},_hoisted_140={class:"mobile-settings-header"},_hoisted_141={class:"mobile-settings-content"},_hoisted_142={class:"mobile-password-section"},_hoisted_143={class:"mobile-password-item"},_hoisted_144={class:"mobile-password-input-wrapper"},_hoisted_145=["type"],_hoisted_146={class:"mobile-password-item"},_hoisted_147={class:"mobile-password-input-wrapper"},_hoisted_148=["type"],_hoisted_149={class:"mobile-password-item"},_hoisted_150={class:"mobile-password-input-wrapper"},_hoisted_151=["type"],_hoisted_152={class:"mobile-settings-footer"},_hoisted_153=["disabled"],_hoisted_154={key:0},_hoisted_155={key:1},_hoisted_156={class:"recharge-content"},_hoisted_157={class:"balance-info"},_hoisted_158={class:"balance-value"},_hoisted_159={class:"form-section"},_hoisted_160={class:"amount-grid"},_hoisted_161=["onClick"],_hoisted_162={class:"form-section"},_hoisted_163={class:"form-section"},_hoisted_164={key:0,class:"summary-section"},_hoisted_165={class:"summary-row"},_hoisted_166={class:"amount"},_hoisted_167={class:"summary-row"},_hoisted_168={class:"amount"},_hoisted_169={class:"mobile-recharge-header"},_hoisted_170={class:"mobile-recharge-content"},_hoisted_171={class:"mobile-balance-info"},_hoisted_172={class:"balance-value"},_hoisted_173={class:"mobile-section"},_hoisted_174={class:"mobile-amount-grid"},_hoisted_175=["onClick"],_hoisted_176={class:"mobile-section"},_hoisted_177={class:"mobile-input-wrapper"},_hoisted_178={class:"mobile-section"},_hoisted_179={class:"mobile-payment-list"},_hoisted_180={key:0,class:"payment-check"},_hoisted_181={key:0,class:"payment-check"},_hoisted_182={key:0,class:"payment-check"},_hoisted_183={key:0,class:"mobile-summary"},_hoisted_184={class:"summary-row"},_hoisted_185={class:"amount"},_hoisted_186={class:"summary-row"},_hoisted_187={class:"amount"},_hoisted_188={class:"mobile-recharge-footer"},_hoisted_189=["disabled"],_hoisted_190={key:0},_hoisted_191={key:1},_hoisted_192={class:"recharge-content"},_hoisted_193={class:"balance-info"},_hoisted_194={class:"balance-row"},_hoisted_195={class:"balance-value"},_hoisted_196={class:"balance-row"},_hoisted_197={class:"balance-value"},_hoisted_198={class:"form-section"},_hoisted_199={class:"points-grid"},_hoisted_200=["onClick"],_hoisted_201={class:"points-cash"},_hoisted_202={class:"points-amount"},_hoisted_203={class:"form-section"},_hoisted_204={key:0,class:"summary-section"},_hoisted_205={class:"summary-row"},_hoisted_206={class:"amount"},_hoisted_207={class:"summary-row"},_hoisted_208={class:"amount"},_hoisted_209={class:"summary-row"},_hoisted_210={class:"amount"},_hoisted_211={class:"mobile-recharge-header"},_hoisted_212={class:"mobile-recharge-content"},_hoisted_213={class:"mobile-balance-info"},_hoisted_214={class:"balance-row"},_hoisted_215={class:"balance-value"},_hoisted_216={class:"balance-row"},_hoisted_217={class:"balance-value"},_hoisted_218={class:"mobile-section"},_hoisted_219={class:"mobile-points-grid"},_hoisted_220=["onClick"],_hoisted_221={class:"points-cash"},_hoisted_222={class:"points-amount"},_hoisted_223={class:"mobile-section"},_hoisted_224={class:"mobile-input-wrapper"},_hoisted_225={class:"input-suffix"},_hoisted_226={key:0,class:"mobile-summary"},_hoisted_227={class:"summary-row"},_hoisted_228={class:"amount"},_hoisted_229={class:"summary-row"},_hoisted_230={class:"amount"},_hoisted_231={class:"summary-row"},_hoisted_232={class:"amount"},_hoisted_233={class:"mobile-recharge-footer"},_hoisted_234=["disabled"],_hoisted_235={key:0},_hoisted_236={key:1},_hoisted_237={class:"mobile-settings-header"},_hoisted_238={class:"mobile-settings-content"},_hoisted_239={class:"mobile-notification-section"},_hoisted_240={class:"mobile-notification-item"},_hoisted_241={class:"mobile-notification-item"},_hoisted_242={class:"mobile-notification-item"},_hoisted_243={class:"mobile-notification-item"},_hoisted_244={class:"mobile-notification-item"},_hoisted_245={class:"mobile-notification-section"},_hoisted_246={class:"mobile-time-setting"},_hoisted_247={class:"mobile-time-item"},_hoisted_248={class:"mobile-time-item"},_hoisted_249={class:"mobile-notification-item"},_hoisted_250={class:"mobile-notification-section"},_hoisted_251={class:"mobile-frequency-setting"},_hoisted_252={class:"mobile-frequency-item"},_hoisted_253={class:"mobile-frequency-item"},_hoisted_254={class:"mobile-frequency-item"},_hoisted_255={class:"mobile-settings-header"},_hoisted_256={class:"mobile-settings-content"},_hoisted_257={class:"mobile-security-section"},_hoisted_258={class:"security-info"},_hoisted_259={class:"mobile-security-item"},_hoisted_260={class:"security-info"},_hoisted_261={class:"security-text"},_hoisted_262={class:"security-desc"},_hoisted_263={class:"mobile-security-item"},_hoisted_264={class:"security-info"},_hoisted_265={class:"security-text"},_hoisted_266={class:"security-desc"},_hoisted_267={class:"mobile-security-item"},_hoisted_268={class:"security-info"},_hoisted_269={class:"mobile-settings-header"},_hoisted_270={class:"mobile-settings-content"},_hoisted_271={class:"mobile-help-section"},_hoisted_272={class:"help-info"},_hoisted_273={class:"help-info"},_hoisted_274={class:"help-info"},_hoisted_275={class:"help-info"},_sfc_main$q={__name:"UserProfile",emits:["close"],setup(t,{emit:e}){const s=useUserStore(),o=()=>window.innerWidth<=768,a=computed(()=>navigator.userAgent.toLowerCase().includes("micromessenger")),n=ref("basic"),r=ref(!1),d=computed(()=>r.value&&!o()),m=computed(()=>c.value&&!o()),c=ref(!1),l=ref(!1),_=ref(!1),k=ref(!1),S=ref(!1),g=ref(!1),N=ref(!1),f=ref(""),E=ref(""),b=ref(""),y=ref(null),$=ref(!1),w=ref(!1),x=ref(!1),v=ref(!1),C=ref(!1),T=ref(!1),D=ref(!1),B=ref(!1),I=ref(!1),L=ref(null),U=ref(null),Y=ref(null),se=ref(!1),J=ref(null),M=ref(null),R=ref(!1),P=[100,500,1e3,2e3,5e3,1e4],K=[10,50,100,200,500,1e3],X=reactive({marketAlert:!0,newsAlert:!0,riskAlert:!0,systemAlert:!0,tradeAlert:!0,startTime:"09:00",endTime:"21:00",doNotDisturb:!1,frequency:"realtime"}),W=reactive({nickname:"",phone:"",email:""}),Be={nickname:[{min:2,max:20,message:"昵称长度在 2 到 20 个字符",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$/,message:"请输入有效的手机号",trigger:"blur"}],email:[{type:"email",message:"请输入有效的邮箱地址",trigger:"blur"}]},de=reactive({currentPassword:"",newPassword:"",confirmPassword:""}),ve={currentPassword:[{required:!0,message:"请输入当前密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(me,p)=>p!==de.newPassword?Promise.reject("两次输入的密码不一致"):Promise.resolve(),trigger:"blur"}]},ue=()=>{const me=s.balance;return me>=1e6?"钻石用户":me>=5e5?"黄金用户":me>=1e5?"白银用户":"普通用户"},he=()=>"2024年1月1日",Re=()=>"2024年1月15日 14:30",$e=()=>{if(!s.watchlist||s.watchlist.length===0){ElMessage.info("您还没有添加任何自选股");return}ElMessage.success(`您有 ${s.watchlist.length} 只自选股`)},Ne=()=>{if(!s.portfolio||s.portfolio.length===0){ElMessage.info("您还没有任何持仓股票");return}ElMessage.success(`您有 ${s.portfolio.length} 只持仓股票`)},Ve=async()=>{v.value=!0,setTimeout(()=>{s.setUserInfo({...s.userInfo,nickname:W.nickname,phone:W.phone,email:W.email}),ElMessage.success("个人资料保存成功"),r.value=!1,v.value=!1},1e3)},Se=async()=>{C.value=!0,setTimeout(()=>{ElMessage.success("密码修改成功"),c.value=!1,C.value=!1,Object.keys(de).forEach(me=>{de[me]=""})},1e3)},Ue=()=>{var me,p,ne;W.nickname=((me=s.userInfo)==null?void 0:me.nickname)||"",W.phone=((p=s.userInfo)==null?void 0:p.phone)||"",W.email=((ne=s.userInfo)==null?void 0:ne.email)||""},Ie=()=>L.value?L.value:Y.value&&parseFloat(Y.value)||0,Je=async()=>{const me=Ie();if(me<=0){ElMessage.warning("请选择充值金额");return}if(!U.value){ElMessage.warning("请选择支付方式");return}se.value=!0,setTimeout(()=>{s.addBalance(me),ElMessage.success(`股票交易账户充值成功！已充值 ¥${me.toFixed(2)}`),L.value=null,Y.value=null,U.value=null,T.value=!1,se.value=!1},2e3)},Te=()=>J.value?J.value:M.value&&parseFloat(M.value)||0,nt=async()=>{const me=Te();if(me<=0){ElMessage.warning("请选择购买金额");return}if(s.balance<me){ElMessage.warning("股票交易账户余额不足");return}R.value=!0,setTimeout(()=>{const p=s.purchaseSmartPoints(me);p.success?(ElMessage.success(p.message),J.value=null,M.value=null,D.value=!1):ElMessage.error(p.message),R.value=!1},1500)},ut=()=>s.getTotalAssets(),et=()=>s.portfolio.reduce((me,p)=>me+p.quantity*parseFloat(p.price||p.avgPrice),0),tt=()=>{if(console.log("保存通知设置:",X),X.startTime&&X.endTime){const me=new Date(`2024-01-01 ${X.startTime}`),p=new Date(`2024-01-01 ${X.endTime}`);if(me>=p){ElMessage.warning("开始时间不能晚于或等于结束时间");return}}ElMessage.success("通知设置保存成功"),k.value=!1},pt=me=>{switch(me){case"faq":ElMessage.info("打开常见问题页面");break;case"tutorial":ElMessage.info("打开使用教程页面");break;case"contact":ElMessage.info("打开客服对话");break;case"feedback":ElMessage.info("打开意见反馈页面");break;default:ElMessage.info("功能开发中...")}g.value=!1},st=me=>{f.value=me,E.value=W[me]||"",b.value="",N.value=!0,r.value=!1,setTimeout(()=>{y.value&&y.value.focus()},300)},ht=()=>{N.value=!1,r.value=!0,f.value="",E.value="",b.value=""},Ge=()=>{Pe()&&(W[f.value]=E.value,N.value=!1,r.value=!0,f.value="",E.value="",b.value="",ElMessage.success("修改成功"))},Z=()=>({nickname:"编辑昵称",phone:"编辑手机号",email:"编辑邮箱"})[f.value]||"",z=()=>({nickname:"text",phone:"tel",email:"email"})[f.value]||"text",be=()=>({nickname:"请输入昵称",phone:"请输入手机号",email:"请输入邮箱"})[f.value]||"",ke=()=>{b.value="";const me=E.value.trim();if(!me)return b.value="不能为空",!1;switch(f.value){case"nickname":if(me.length<2||me.length>20)return b.value="昵称长度在 2 到 20 个字符",!1;break;case"phone":if(!/^1[3-9]\d{9}$/.test(me))return b.value="请输入有效的手机号",!1;break;case"email":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(me))return b.value="请输入有效的邮箱地址",!1;break}return!0},Pe=()=>E.value.trim()&&!b.value;return onMounted(()=>{Ue()}),(me,p)=>{var Qe,xe,rt,yt,ie,at,Bt,gt,He,Ze,qe,lt,ct,ft,_t;const ne=resolveComponent("el-icon"),ye=resolveComponent("el-button"),ze=resolveComponent("el-tab-pane"),Ke=resolveComponent("el-switch"),mt=resolveComponent("el-tabs"),Xe=resolveComponent("el-input"),We=resolveComponent("el-form-item"),ot=resolveComponent("el-form"),it=resolveComponent("el-dialog"),te=resolveComponent("el-radio"),Ce=resolveComponent("el-radio-group");return openBlock(),createElementBlock("div",_hoisted_1$q,[createBaseVNode("div",{class:normalizeClass(["user-profile",{"wechat-env":a.value}])},[createBaseVNode("div",_hoisted_2$o,[createVNode(ye,{type:"text",onClick:p[0]||(p[0]=q=>me.$emit("close")),class:"close-btn"},{default:withCtx(()=>[createVNode(ne,{size:"20"},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_3$o,[createBaseVNode("div",_hoisted_4$n,[createBaseVNode("div",_hoisted_5$m,toDisplayString(((rt=(xe=(Qe=unref(s).userInfo)==null?void 0:Qe.nickname)==null?void 0:xe.charAt(0))==null?void 0:rt.toUpperCase())||"U"),1),createBaseVNode("div",_hoisted_6$l,[createBaseVNode("h3",null,toDisplayString(((yt=unref(s).userInfo)==null?void 0:yt.nickname)||"未设置昵称"),1),createBaseVNode("p",null,toDisplayString(ue())+" · "+toDisplayString(he()),1)])])]),createBaseVNode("div",_hoisted_7$k,[createBaseVNode("div",_hoisted_8$j,[p[109]||(p[109]=createBaseVNode("div",{class:"balance-header"},[createBaseVNode("h3",{class:"balance-title"},"我的资产")],-1)),createBaseVNode("div",_hoisted_9$j,[createBaseVNode("div",_hoisted_10$j,[createBaseVNode("div",_hoisted_11$h,"¥"+toDisplayString((unref(s).balance||0).toFixed(2)),1),p[102]||(p[102]=createBaseVNode("div",{class:"balance-label"},"股票账户",-1)),createVNode(ye,{size:"small",onClick:p[1]||(p[1]=q=>T.value=!0),class:"balance-btn charge-btn"},{default:withCtx(()=>p[101]||(p[101]=[createTextVNode(" 充值 ")])),_:1,__:[101]})]),createBaseVNode("div",_hoisted_12$h,[createBaseVNode("div",_hoisted_13$h,toDisplayString((unref(s).smartPointsBalance||0).toFixed(0)),1),p[104]||(p[104]=createBaseVNode("div",{class:"balance-label"},"智点余额",-1)),createVNode(ye,{size:"small",onClick:p[2]||(p[2]=q=>D.value=!0),class:"balance-btn purchase-btn"},{default:withCtx(()=>p[103]||(p[103]=[createTextVNode(" 购买 ")])),_:1,__:[103]})]),createBaseVNode("div",_hoisted_14$f,[createBaseVNode("div",_hoisted_15$f,toDisplayString((unref(s).watchlist||[]).length),1),p[106]||(p[106]=createBaseVNode("div",{class:"balance-label"},"自选股",-1)),createVNode(ye,{type:"text",size:"small",onClick:$e,class:"balance-btn view-btn"},{default:withCtx(()=>p[105]||(p[105]=[createTextVNode(" 查看 ")])),_:1,__:[105]})]),createBaseVNode("div",_hoisted_16$f,[createBaseVNode("div",_hoisted_17$f,toDisplayString((unref(s).portfolio||[]).length),1),p[108]||(p[108]=createBaseVNode("div",{class:"balance-label"},"持仓股票",-1)),createVNode(ye,{type:"text",size:"small",onClick:Ne,class:"balance-btn view-btn"},{default:withCtx(()=>p[107]||(p[107]=[createTextVNode(" 查看 ")])),_:1,__:[107]})])])]),createBaseVNode("div",_hoisted_18$e,[p[114]||(p[114]=createBaseVNode("h3",{class:"status-title"},"账户认证",-1)),createBaseVNode("div",_hoisted_19$e,[createBaseVNode("div",_hoisted_20$e,[createBaseVNode("div",_hoisted_21$d,[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(circle_check_default))]),_:1})]),p[110]||(p[110]=createBaseVNode("div",{class:"status-item-info"},[createBaseVNode("h4",{class:"status-item-title"},"实名认证"),createBaseVNode("p",{class:"status-item-desc"},"已完成实名认证")],-1))]),createBaseVNode("div",_hoisted_22$d,[createBaseVNode("div",_hoisted_23$d,[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(circle_check_default))]),_:1})]),p[111]||(p[111]=createBaseVNode("div",{class:"status-item-info"},[createBaseVNode("h4",{class:"status-item-title"},"手机验证"),createBaseVNode("p",{class:"status-item-desc"},"手机号已验证")],-1))]),createBaseVNode("div",_hoisted_24$d,[createBaseVNode("div",_hoisted_25$c,[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(warning_default))]),_:1})]),p[113]||(p[113]=createBaseVNode("div",{class:"status-item-info"},[createBaseVNode("h4",{class:"status-item-title"},"邮箱验证"),createBaseVNode("p",{class:"status-item-desc"},"邮箱未验证")],-1)),createBaseVNode("div",_hoisted_26$c,[createVNode(ye,{type:"primary",size:"small"},{default:withCtx(()=>p[112]||(p[112]=[createTextVNode("去验证")])),_:1,__:[112]})])])])]),createBaseVNode("div",_hoisted_27$c,[p[121]||(p[121]=createBaseVNode("h3",{class:"info-title"},"个人信息",-1)),createBaseVNode("div",_hoisted_28$b,[createBaseVNode("div",_hoisted_29$a,[p[115]||(p[115]=createBaseVNode("span",{class:"info-row-label"},"用户名",-1)),createBaseVNode("span",_hoisted_30$a,toDisplayString(((ie=unref(s).userInfo)==null?void 0:ie.username)||"未设置"),1)]),createBaseVNode("div",_hoisted_31$a,[p[116]||(p[116]=createBaseVNode("span",{class:"info-row-label"},"昵称",-1)),createBaseVNode("span",_hoisted_32$a,toDisplayString(((at=unref(s).userInfo)==null?void 0:at.nickname)||"未设置"),1)]),createBaseVNode("div",_hoisted_33$a,[p[117]||(p[117]=createBaseVNode("span",{class:"info-row-label"},"手机号",-1)),createBaseVNode("span",_hoisted_34$a,toDisplayString(((Bt=unref(s).userInfo)==null?void 0:Bt.phone)||"未绑定"),1)]),createBaseVNode("div",_hoisted_35$9,[p[118]||(p[118]=createBaseVNode("span",{class:"info-row-label"},"邮箱",-1)),createBaseVNode("span",_hoisted_36$9,toDisplayString(((gt=unref(s).userInfo)==null?void 0:gt.email)||"未绑定"),1)]),createBaseVNode("div",_hoisted_37$9,[p[119]||(p[119]=createBaseVNode("span",{class:"info-row-label"},"注册时间",-1)),createBaseVNode("span",_hoisted_38$9,toDisplayString(he()),1)]),createBaseVNode("div",_hoisted_39$7,[p[120]||(p[120]=createBaseVNode("span",{class:"info-row-label"},"最后登录",-1)),createBaseVNode("span",_hoisted_40$7,toDisplayString(Re()),1)])])]),createBaseVNode("div",_hoisted_41$6,[p[126]||(p[126]=createBaseVNode("h3",{class:"settings-title"},"设置",-1)),createBaseVNode("div",_hoisted_42$6,[createBaseVNode("div",{class:"settings-item",onClick:p[3]||(p[3]=q=>r.value=!0)},[createBaseVNode("div",_hoisted_43$5,[createVNode(ne,{class:"settings-item-icon"},{default:withCtx(()=>[createVNode(unref(edit_default))]),_:1}),p[122]||(p[122]=createBaseVNode("span",{class:"settings-item-text"},"编辑资料",-1))]),createVNode(ne,{class:"settings-item-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",{class:"settings-item",onClick:p[4]||(p[4]=q=>k.value=!0)},[createBaseVNode("div",_hoisted_44$5,[createVNode(ne,{class:"settings-item-icon"},{default:withCtx(()=>[createVNode(unref(bell_default))]),_:1}),p[123]||(p[123]=createBaseVNode("span",{class:"settings-item-text"},"消息通知",-1))]),createVNode(ne,{class:"settings-item-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",{class:"settings-item",onClick:p[5]||(p[5]=q=>S.value=!0)},[createBaseVNode("div",_hoisted_45$5,[createVNode(ne,{class:"settings-item-icon"},{default:withCtx(()=>[createVNode(unref(lock_default))]),_:1}),p[124]||(p[124]=createBaseVNode("span",{class:"settings-item-text"},"安全设置",-1))]),createVNode(ne,{class:"settings-item-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",{class:"settings-item",onClick:p[6]||(p[6]=q=>g.value=!0)},[createBaseVNode("div",_hoisted_46$5,[createVNode(ne,{class:"settings-item-icon"},{default:withCtx(()=>[createVNode(unref(question_filled_default))]),_:1}),p[125]||(p[125]=createBaseVNode("span",{class:"settings-item-text"},"帮助与反馈",-1))]),createVNode(ne,{class:"settings-item-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})])])])]),createBaseVNode("div",_hoisted_47$4,[p[134]||(p[134]=createBaseVNode("div",{class:"header-background"},null,-1)),createBaseVNode("div",_hoisted_48$4,[createBaseVNode("div",_hoisted_49$4,[(He=unref(s).userInfo)!=null&&He.avatar?(openBlock(),createElementBlock("img",{key:0,src:unref(s).userInfo.avatar,alt:"头像"},null,8,_hoisted_50$4)):(openBlock(),createElementBlock("div",_hoisted_51$4,toDisplayString(((lt=(qe=(Ze=unref(s).userInfo)==null?void 0:Ze.nickname)==null?void 0:qe.charAt(0))==null?void 0:lt.toUpperCase())||"U"),1))]),createBaseVNode("div",_hoisted_52$4,[createBaseVNode("h2",_hoisted_53$4,toDisplayString(((ct=unref(s).userInfo)==null?void 0:ct.nickname)||"未设置昵称"),1),createBaseVNode("p",_hoisted_54$4,toDisplayString(ue())+" · 注册于 "+toDisplayString(he()),1),createBaseVNode("div",_hoisted_55$4,[createBaseVNode("div",_hoisted_56$4,[createBaseVNode("span",_hoisted_57$4,"¥"+toDisplayString((unref(s).balance||0).toFixed(2)),1),p[128]||(p[128]=createBaseVNode("span",{class:"stat-label"},"股票交易账户",-1)),createVNode(ye,{type:"primary",size:"small",onClick:p[7]||(p[7]=q=>T.value=!0),class:"recharge-btn"},{default:withCtx(()=>p[127]||(p[127]=[createTextVNode(" 充值 ")])),_:1,__:[127]})]),createBaseVNode("div",_hoisted_58$4,[createBaseVNode("span",_hoisted_59$4,toDisplayString((unref(s).smartPointsBalance||0).toFixed(0)),1),p[130]||(p[130]=createBaseVNode("span",{class:"stat-label"},"智点余额",-1)),createVNode(ye,{type:"success",size:"small",onClick:p[8]||(p[8]=q=>D.value=!0),class:"recharge-btn"},{default:withCtx(()=>p[129]||(p[129]=[createTextVNode(" 购买 ")])),_:1,__:[129]})]),createBaseVNode("div",_hoisted_60$4,[createBaseVNode("span",_hoisted_61$4,toDisplayString((unref(s).watchlist||[]).length),1),p[131]||(p[131]=createBaseVNode("span",{class:"stat-label"},"自选股",-1))]),createBaseVNode("div",_hoisted_62$4,[createBaseVNode("span",_hoisted_63$4,toDisplayString((unref(s).portfolio||[]).length),1),p[132]||(p[132]=createBaseVNode("span",{class:"stat-label"},"持仓股票",-1))])])]),createBaseVNode("div",_hoisted_64$4,[createVNode(ye,{type:"primary",onClick:p[9]||(p[9]=q=>r.value=!0),class:"edit-profile-btn"},{default:withCtx(()=>[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(edit_default))]),_:1}),p[133]||(p[133]=createTextVNode(" 编辑资料 "))]),_:1,__:[133]})])])]),createBaseVNode("div",_hoisted_65$4,[createVNode(mt,{modelValue:n.value,"onUpdate:modelValue":p[22]||(p[22]=q=>n.value=q),class:"profile-tabs"},{default:withCtx(()=>[createVNode(ze,{label:"基本信息",name:"basic"},{default:withCtx(()=>{var q,Oe,De,Nt;return[createBaseVNode("div",_hoisted_66$4,[createBaseVNode("div",_hoisted_67$4,[p[141]||(p[141]=createBaseVNode("h3",{class:"section-title"},"个人信息",-1)),createBaseVNode("div",_hoisted_68$4,[createBaseVNode("div",_hoisted_69$4,[p[135]||(p[135]=createBaseVNode("label",{class:"info-label"},"用户名",-1)),createBaseVNode("span",_hoisted_70$3,toDisplayString(((q=unref(s).userInfo)==null?void 0:q.username)||"未设置"),1)]),createBaseVNode("div",_hoisted_71$3,[p[136]||(p[136]=createBaseVNode("label",{class:"info-label"},"昵称",-1)),createBaseVNode("span",_hoisted_72$3,toDisplayString(((Oe=unref(s).userInfo)==null?void 0:Oe.nickname)||"未设置"),1)]),createBaseVNode("div",_hoisted_73$3,[p[137]||(p[137]=createBaseVNode("label",{class:"info-label"},"手机号",-1)),createBaseVNode("span",_hoisted_74$3,toDisplayString(((De=unref(s).userInfo)==null?void 0:De.phone)||"未绑定"),1)]),createBaseVNode("div",_hoisted_75$3,[p[138]||(p[138]=createBaseVNode("label",{class:"info-label"},"邮箱",-1)),createBaseVNode("span",_hoisted_76$3,toDisplayString(((Nt=unref(s).userInfo)==null?void 0:Nt.email)||"未绑定"),1)]),createBaseVNode("div",_hoisted_77$3,[p[139]||(p[139]=createBaseVNode("label",{class:"info-label"},"注册时间",-1)),createBaseVNode("span",_hoisted_78$2,toDisplayString(he()),1)]),createBaseVNode("div",_hoisted_79$2,[p[140]||(p[140]=createBaseVNode("label",{class:"info-label"},"最后登录",-1)),createBaseVNode("span",_hoisted_80$2,toDisplayString(Re()),1)])])]),createBaseVNode("div",_hoisted_81$2,[p[145]||(p[145]=createBaseVNode("h3",{class:"section-title"},"账户状态",-1)),createBaseVNode("div",_hoisted_82$2,[createBaseVNode("div",_hoisted_83$2,[createBaseVNode("div",_hoisted_84$2,[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(circle_check_default))]),_:1})]),p[142]||(p[142]=createBaseVNode("div",{class:"status-info"},[createBaseVNode("h4",null,"实名认证"),createBaseVNode("p",null,"已完成实名认证")],-1))]),createBaseVNode("div",_hoisted_85$2,[createBaseVNode("div",_hoisted_86$2,[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(circle_check_default))]),_:1})]),p[143]||(p[143]=createBaseVNode("div",{class:"status-info"},[createBaseVNode("h4",null,"手机验证"),createBaseVNode("p",null,"手机号已验证")],-1))]),createBaseVNode("div",_hoisted_87$2,[createBaseVNode("div",_hoisted_88$2,[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(warning_default))]),_:1})]),p[144]||(p[144]=createBaseVNode("div",{class:"status-info"},[createBaseVNode("h4",null,"邮箱验证"),createBaseVNode("p",null,"邮箱未验证")],-1))])])])])]}),_:1}),createVNode(ze,{label:"账户管理",name:"accounts"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_89$2,[createBaseVNode("div",_hoisted_90$2,[createBaseVNode("div",_hoisted_91$1,[createBaseVNode("div",_hoisted_92$1,[createBaseVNode("div",_hoisted_93$1,[createVNode(ne,{size:"24"},{default:withCtx(()=>[createVNode(unref(trend_charts_default))]),_:1})]),p[146]||(p[146]=createBaseVNode("div",{class:"account-info"},[createBaseVNode("h3",null,"股票交易账户"),createBaseVNode("p",null,"专门用于股票买卖交易")],-1))]),createBaseVNode("div",_hoisted_94$1,[createBaseVNode("div",_hoisted_95$1,[p[147]||(p[147]=createBaseVNode("span",{class:"currency"},"¥",-1)),createBaseVNode("span",_hoisted_96$1,toDisplayString((unref(s).balance||0).toFixed(2)),1)]),createBaseVNode("div",_hoisted_97$1,[createVNode(ye,{type:"primary",onClick:p[10]||(p[10]=q=>T.value=!0)},{default:withCtx(()=>[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(plus_default))]),_:1}),p[148]||(p[148]=createTextVNode(" 充值 "))]),_:1,__:[148]}),createVNode(ye,{onClick:p[11]||(p[11]=q=>B.value=!0)},{default:withCtx(()=>[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(switch_default))]),_:1}),p[149]||(p[149]=createTextVNode(" 转账 "))]),_:1,__:[149]})])]),createBaseVNode("div",_hoisted_98$1,[p[152]||(p[152]=createBaseVNode("div",{class:"stat-row"},[createBaseVNode("span",{class:"stat-label"},"今日盈亏："),createBaseVNode("span",{class:"stat-value profit"},"+¥1,234.56")],-1)),createBaseVNode("div",_hoisted_99$1,[p[150]||(p[150]=createBaseVNode("span",{class:"stat-label"},"总资产：",-1)),createBaseVNode("span",_hoisted_100$1,"¥"+toDisplayString(ut().toFixed(2)),1)]),createBaseVNode("div",_hoisted_101$1,[p[151]||(p[151]=createBaseVNode("span",{class:"stat-label"},"持仓市值：",-1)),createBaseVNode("span",_hoisted_102$1,"¥"+toDisplayString(et().toFixed(2)),1)])])]),createBaseVNode("div",_hoisted_103$1,[createBaseVNode("div",_hoisted_104$1,[createBaseVNode("div",_hoisted_105$1,[createVNode(ne,{size:"24"},{default:withCtx(()=>[createVNode(unref(star_default))]),_:1})]),p[153]||(p[153]=createBaseVNode("div",{class:"account-info"},[createBaseVNode("h3",null,"智点账户"),createBaseVNode("p",null,"用于购买AI分析、专业报告等付费服务")],-1))]),createBaseVNode("div",_hoisted_106$1,[createBaseVNode("div",_hoisted_107$1,[createBaseVNode("span",_hoisted_108$1,toDisplayString((unref(s).smartPointsBalance||0).toFixed(0)),1),p[154]||(p[154]=createBaseVNode("span",{class:"currency"},"智点",-1))]),createBaseVNode("div",_hoisted_109$1,[createVNode(ye,{type:"success",onClick:p[12]||(p[12]=q=>D.value=!0)},{default:withCtx(()=>[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(plus_default))]),_:1}),p[155]||(p[155]=createTextVNode(" 购买智点 "))]),_:1,__:[155]}),createVNode(ye,{onClick:p[13]||(p[13]=q=>I.value=!0)},{default:withCtx(()=>[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(list_default))]),_:1}),p[156]||(p[156]=createTextVNode(" 使用记录 "))]),_:1,__:[156]})])]),p[157]||(p[157]=createBaseVNode("div",{class:"account-stats"},[createBaseVNode("div",{class:"stat-row"},[createBaseVNode("span",{class:"stat-label"},"兑换比例："),createBaseVNode("span",{class:"stat-value"},"1元 = 1智点")]),createBaseVNode("div",{class:"stat-row"},[createBaseVNode("span",{class:"stat-label"},"本月消费："),createBaseVNode("span",{class:"stat-value"},"120智点")]),createBaseVNode("div",{class:"stat-row"},[createBaseVNode("span",{class:"stat-label"},"可用服务："),createBaseVNode("span",{class:"stat-value"},"AI分析、专业报告")])],-1))])])])]),_:1}),createVNode(ze,{label:"账户设置",name:"settings"},{default:withCtx(()=>{var q,Oe;return[createBaseVNode("div",_hoisted_110,[createBaseVNode("div",_hoisted_111,[p[162]||(p[162]=createBaseVNode("h3",{class:"section-title"},"安全设置",-1)),createBaseVNode("div",_hoisted_112,[createBaseVNode("div",_hoisted_113,[p[159]||(p[159]=createBaseVNode("div",{class:"setting-info"},[createBaseVNode("h4",null,"修改密码"),createBaseVNode("p",null,"定期修改密码，保护账户安全")],-1)),createVNode(ye,{type:"primary",size:"small",onClick:p[14]||(p[14]=De=>c.value=!0),class:"setting-btn"},{default:withCtx(()=>p[158]||(p[158]=[createTextVNode(" 修改 ")])),_:1,__:[158]})]),createBaseVNode("div",_hoisted_114,[createBaseVNode("div",_hoisted_115,[p[160]||(p[160]=createBaseVNode("h4",null,"绑定手机",-1)),createBaseVNode("p",null,toDisplayString(((q=unref(s).userInfo)==null?void 0:q.phone)||"未绑定手机号"),1)]),createVNode(ye,{size:"small",onClick:p[15]||(p[15]=De=>l.value=!0),class:"setting-btn-secondary"},{default:withCtx(()=>{var De;return[createTextVNode(toDisplayString((De=unref(s).userInfo)!=null&&De.phone?"更换":"绑定"),1)]}),_:1})]),createBaseVNode("div",_hoisted_116,[createBaseVNode("div",_hoisted_117,[p[161]||(p[161]=createBaseVNode("h4",null,"绑定邮箱",-1)),createBaseVNode("p",null,toDisplayString(((Oe=unref(s).userInfo)==null?void 0:Oe.email)||"未绑定邮箱"),1)]),createVNode(ye,{size:"small",onClick:p[16]||(p[16]=De=>_.value=!0),class:"setting-btn-secondary"},{default:withCtx(()=>{var De;return[createTextVNode(toDisplayString((De=unref(s).userInfo)!=null&&De.email?"更换":"绑定"),1)]}),_:1})])])]),createBaseVNode("div",_hoisted_118,[p[168]||(p[168]=createBaseVNode("h3",{class:"section-title"},"通知设置",-1)),createBaseVNode("div",_hoisted_119,[createBaseVNode("div",_hoisted_120,[p[163]||(p[163]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("h4",null,"市场动态推送"),createBaseVNode("p",null,"股价变动、板块异动、指数波动等")],-1)),createVNode(Ke,{modelValue:X.marketAlert,"onUpdate:modelValue":p[17]||(p[17]=De=>X.marketAlert=De)},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_121,[p[164]||(p[164]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("h4",null,"财经资讯推送"),createBaseVNode("p",null,"政策新闻、公司公告、行业分析等")],-1)),createVNode(Ke,{modelValue:X.newsAlert,"onUpdate:modelValue":p[18]||(p[18]=De=>X.newsAlert=De)},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_122,[p[165]||(p[165]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("h4",null,"风险提醒推送"),createBaseVNode("p",null,"价格预警、风险评估、止损提醒等")],-1)),createVNode(Ke,{modelValue:X.riskAlert,"onUpdate:modelValue":p[19]||(p[19]=De=>X.riskAlert=De)},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_123,[p[166]||(p[166]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("h4",null,"系统通知推送"),createBaseVNode("p",null,"系统更新、设置变更、功能通知等")],-1)),createVNode(Ke,{modelValue:X.systemAlert,"onUpdate:modelValue":p[20]||(p[20]=De=>X.systemAlert=De)},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_124,[p[167]||(p[167]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("h4",null,"交易记录推送"),createBaseVNode("p",null,"买卖记录、委托状态、资金变动等")],-1)),createVNode(Ke,{modelValue:X.tradeAlert,"onUpdate:modelValue":p[21]||(p[21]=De=>X.tradeAlert=De)},null,8,["modelValue"])])])])])]}),_:1})]),_:1},8,["modelValue"])]),createVNode(it,{modelValue:d.value,"onUpdate:modelValue":p[27]||(p[27]=q=>d.value=q),title:"编辑个人资料",width:"500px",class:"profile-dialog pc-only"},{footer:withCtx(()=>[createVNode(ye,{onClick:p[26]||(p[26]=q=>r.value=!1),class:"dialog-cancel-btn"},{default:withCtx(()=>p[169]||(p[169]=[createTextVNode("取消")])),_:1,__:[169]}),createVNode(ye,{type:"primary",onClick:Ve,loading:v.value,class:"dialog-submit-btn"},{default:withCtx(()=>p[170]||(p[170]=[createTextVNode("保存")])),_:1,__:[170]},8,["loading"])]),default:withCtx(()=>[createVNode(ot,{model:W,rules:Be,ref:"editFormRef","label-width":"80px"},{default:withCtx(()=>[createVNode(We,{label:"昵称",prop:"nickname"},{default:withCtx(()=>[createVNode(Xe,{modelValue:W.nickname,"onUpdate:modelValue":p[23]||(p[23]=q=>W.nickname=q),placeholder:"请输入昵称",class:"profile-input"},null,8,["modelValue"])]),_:1}),createVNode(We,{label:"手机号",prop:"phone"},{default:withCtx(()=>[createVNode(Xe,{modelValue:W.phone,"onUpdate:modelValue":p[24]||(p[24]=q=>W.phone=q),placeholder:"请输入手机号",class:"profile-input"},null,8,["modelValue"])]),_:1}),createVNode(We,{label:"邮箱",prop:"email"},{default:withCtx(()=>[createVNode(Xe,{modelValue:W.email,"onUpdate:modelValue":p[25]||(p[25]=q=>W.email=q),placeholder:"请输入邮箱",class:"profile-input"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),r.value?(openBlock(),createElementBlock("div",{key:0,class:"mobile-settings-overlay",onClick:p[33]||(p[33]=q=>r.value=!1)},[createBaseVNode("div",{class:"mobile-settings-container",onClick:p[32]||(p[32]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_125,[p[171]||(p[171]=createBaseVNode("h3",null,"编辑资料",-1)),createBaseVNode("button",{class:"mobile-close-btn",onClick:p[28]||(p[28]=q=>r.value=!1)},[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})])]),createBaseVNode("div",_hoisted_126,[createBaseVNode("div",_hoisted_127,[createBaseVNode("div",{class:"mobile-profile-item",onClick:p[29]||(p[29]=q=>st("nickname"))},[createBaseVNode("div",_hoisted_128,[p[172]||(p[172]=createBaseVNode("span",{class:"profile-item-label"},"昵称",-1)),createBaseVNode("span",_hoisted_129,toDisplayString(W.nickname||"请输入昵称"),1)]),createVNode(ne,{class:"profile-item-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",{class:"mobile-profile-item",onClick:p[30]||(p[30]=q=>st("phone"))},[createBaseVNode("div",_hoisted_130,[p[173]||(p[173]=createBaseVNode("span",{class:"profile-item-label"},"手机号",-1)),createBaseVNode("span",_hoisted_131,toDisplayString(W.phone||"请输入手机号"),1)]),createVNode(ne,{class:"profile-item-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",{class:"mobile-profile-item",onClick:p[31]||(p[31]=q=>st("email"))},[createBaseVNode("div",_hoisted_132,[p[174]||(p[174]=createBaseVNode("span",{class:"profile-item-label"},"邮箱",-1)),createBaseVNode("span",_hoisted_133,toDisplayString(W.email||"请输入邮箱"),1)]),createVNode(ne,{class:"profile-item-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})])])])])])):createCommentVNode("",!0),N.value?(openBlock(),createElementBlock("div",{key:1,class:"mobile-field-overlay",onClick:p[36]||(p[36]=q=>N.value=!1)},[createBaseVNode("div",{class:"mobile-field-container",onClick:p[35]||(p[35]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_134,[createBaseVNode("button",{class:"mobile-field-cancel",onClick:ht},"取消"),createBaseVNode("h3",null,toDisplayString(Z()),1),createBaseVNode("button",{class:"mobile-field-save",onClick:Ge,disabled:!Pe()},"保存",8,_hoisted_135)]),createBaseVNode("div",_hoisted_136,[createBaseVNode("div",_hoisted_137,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":p[34]||(p[34]=q=>E.value=q),type:z(),placeholder:be(),class:"mobile-field-input",ref_key:"fieldInputRef",ref:y,onInput:ke},null,40,_hoisted_138),[[vModelDynamic,E.value]])]),b.value?(openBlock(),createElementBlock("div",_hoisted_139,toDisplayString(b.value),1)):createCommentVNode("",!0)])])])):createCommentVNode("",!0),createVNode(it,{modelValue:m.value,"onUpdate:modelValue":p[41]||(p[41]=q=>m.value=q),title:"修改密码",width:"400px",class:"profile-dialog pc-only"},{footer:withCtx(()=>[createVNode(ye,{onClick:p[40]||(p[40]=q=>c.value=!1),class:"dialog-cancel-btn"},{default:withCtx(()=>p[175]||(p[175]=[createTextVNode("取消")])),_:1,__:[175]}),createVNode(ye,{type:"primary",onClick:Se,loading:C.value,class:"dialog-submit-btn"},{default:withCtx(()=>p[176]||(p[176]=[createTextVNode("确认修改")])),_:1,__:[176]},8,["loading"])]),default:withCtx(()=>[createVNode(ot,{model:de,rules:ve,ref:"passwordFormRef","label-width":"100px"},{default:withCtx(()=>[createVNode(We,{label:"当前密码",prop:"currentPassword"},{default:withCtx(()=>[createVNode(Xe,{modelValue:de.currentPassword,"onUpdate:modelValue":p[37]||(p[37]=q=>de.currentPassword=q),type:"password","show-password":"",class:"profile-input"},null,8,["modelValue"])]),_:1}),createVNode(We,{label:"新密码",prop:"newPassword"},{default:withCtx(()=>[createVNode(Xe,{modelValue:de.newPassword,"onUpdate:modelValue":p[38]||(p[38]=q=>de.newPassword=q),type:"password","show-password":"",class:"profile-input"},null,8,["modelValue"])]),_:1}),createVNode(We,{label:"确认密码",prop:"confirmPassword"},{default:withCtx(()=>[createVNode(Xe,{modelValue:de.confirmPassword,"onUpdate:modelValue":p[39]||(p[39]=q=>de.confirmPassword=q),type:"password","show-password":"",class:"profile-input"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),c.value?(openBlock(),createElementBlock("div",{key:2,class:"mobile-settings-overlay",onClick:p[51]||(p[51]=q=>c.value=!1)},[createBaseVNode("div",{class:"mobile-settings-container",onClick:p[50]||(p[50]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_140,[p[177]||(p[177]=createBaseVNode("h3",null,"修改密码",-1)),createBaseVNode("button",{class:"mobile-close-btn",onClick:p[42]||(p[42]=q=>c.value=!1)},[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})])]),createBaseVNode("div",_hoisted_141,[createBaseVNode("div",_hoisted_142,[createBaseVNode("div",_hoisted_143,[p[178]||(p[178]=createBaseVNode("label",{class:"mobile-password-label"},"当前密码",-1)),createBaseVNode("div",_hoisted_144,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":p[43]||(p[43]=q=>de.currentPassword=q),type:$.value?"text":"password",placeholder:"请输入当前密码",class:"mobile-password-input"},null,8,_hoisted_145),[[vModelDynamic,de.currentPassword]]),createBaseVNode("button",{class:"mobile-password-toggle",onClick:p[44]||(p[44]=q=>$.value=!$.value)},[createVNode(ne,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($.value?"Hide":"View")))]),_:1})])])]),createBaseVNode("div",_hoisted_146,[p[179]||(p[179]=createBaseVNode("label",{class:"mobile-password-label"},"新密码",-1)),createBaseVNode("div",_hoisted_147,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":p[45]||(p[45]=q=>de.newPassword=q),type:w.value?"text":"password",placeholder:"请输入新密码",class:"mobile-password-input"},null,8,_hoisted_148),[[vModelDynamic,de.newPassword]]),createBaseVNode("button",{class:"mobile-password-toggle",onClick:p[46]||(p[46]=q=>w.value=!w.value)},[createVNode(ne,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(w.value?"Hide":"View")))]),_:1})])])]),createBaseVNode("div",_hoisted_149,[p[180]||(p[180]=createBaseVNode("label",{class:"mobile-password-label"},"确认密码",-1)),createBaseVNode("div",_hoisted_150,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":p[47]||(p[47]=q=>de.confirmPassword=q),type:x.value?"text":"password",placeholder:"请再次输入新密码",class:"mobile-password-input"},null,8,_hoisted_151),[[vModelDynamic,de.confirmPassword]]),createBaseVNode("button",{class:"mobile-password-toggle",onClick:p[48]||(p[48]=q=>x.value=!x.value)},[createVNode(ne,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(x.value?"Hide":"View")))]),_:1})])])])])]),createBaseVNode("div",_hoisted_152,[createBaseVNode("button",{class:"mobile-cancel-btn",onClick:p[49]||(p[49]=q=>c.value=!1)},"取消"),createBaseVNode("button",{class:normalizeClass(["mobile-confirm-btn",{loading:C.value}]),onClick:Se,disabled:C.value},[C.value?(openBlock(),createElementBlock("span",_hoisted_154,"修改中...")):(openBlock(),createElementBlock("span",_hoisted_155,"确认修改"))],10,_hoisted_153)])])])):createCommentVNode("",!0),o()?createCommentVNode("",!0):(openBlock(),createBlock(it,{key:3,modelValue:T.value,"onUpdate:modelValue":p[56]||(p[56]=q=>T.value=q),title:"股票账户充值",width:"500px",class:"recharge-dialog pc-dialog"},{footer:withCtx(()=>[createVNode(ye,{onClick:p[55]||(p[55]=q=>T.value=!1)},{default:withCtx(()=>p[191]||(p[191]=[createTextVNode("取消")])),_:1,__:[191]}),createVNode(ye,{type:"primary",onClick:Je,disabled:Ie()<=0||!U.value||se.value,loading:se.value},{default:withCtx(()=>[createTextVNode(" 确认充值 ¥"+toDisplayString(Ie()),1)]),_:1},8,["disabled","loading"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_156,[createBaseVNode("div",_hoisted_157,[p[181]||(p[181]=createBaseVNode("span",{class:"balance-label"},"当前余额：",-1)),createBaseVNode("span",_hoisted_158,"¥"+toDisplayString((unref(s).balance||0).toFixed(2)),1)]),createBaseVNode("div",_hoisted_159,[p[182]||(p[182]=createBaseVNode("h4",{class:"section-title"},"选择充值金额",-1)),createBaseVNode("div",_hoisted_160,[(openBlock(),createElementBlock(Fragment,null,renderList(P,q=>createBaseVNode("div",{key:q,class:normalizeClass(["amount-item",{active:L.value===q}]),onClick:Oe=>{L.value=q,Y.value=null}}," ¥"+toDisplayString(q),11,_hoisted_161)),64))])]),createBaseVNode("div",_hoisted_162,[p[184]||(p[184]=createBaseVNode("h4",{class:"section-title"},"自定义金额",-1)),createVNode(Xe,{modelValue:Y.value,"onUpdate:modelValue":p[52]||(p[52]=q=>Y.value=q),type:"number",placeholder:"请输入充值金额",onInput:p[53]||(p[53]=q=>L.value=null),class:"custom-input"},{prefix:withCtx(()=>p[183]||(p[183]=[createTextVNode("¥")])),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_163,[p[188]||(p[188]=createBaseVNode("h4",{class:"section-title"},"支付方式",-1)),createVNode(Ce,{modelValue:U.value,"onUpdate:modelValue":p[54]||(p[54]=q=>U.value=q),class:"payment-group"},{default:withCtx(()=>[createVNode(te,{value:"alipay",class:"payment-radio"},{default:withCtx(()=>p[185]||(p[185]=[createBaseVNode("div",{class:"payment-option"},[createBaseVNode("div",{class:"payment-icon alipay"},"支"),createBaseVNode("span",null,"支付宝")],-1)])),_:1,__:[185]}),createVNode(te,{value:"wechat",class:"payment-radio"},{default:withCtx(()=>p[186]||(p[186]=[createBaseVNode("div",{class:"payment-option"},[createBaseVNode("div",{class:"payment-icon wechat"},"微"),createBaseVNode("span",null,"微信支付")],-1)])),_:1,__:[186]}),createVNode(te,{value:"bank",class:"payment-radio"},{default:withCtx(()=>p[187]||(p[187]=[createBaseVNode("div",{class:"payment-option"},[createBaseVNode("div",{class:"payment-icon bank"},"银"),createBaseVNode("span",null,"银行卡")],-1)])),_:1,__:[187]})]),_:1},8,["modelValue"])]),Ie()>0?(openBlock(),createElementBlock("div",_hoisted_164,[createBaseVNode("div",_hoisted_165,[p[189]||(p[189]=createBaseVNode("span",null,"充值金额：",-1)),createBaseVNode("span",_hoisted_166,"¥"+toDisplayString(Ie()),1)]),createBaseVNode("div",_hoisted_167,[p[190]||(p[190]=createBaseVNode("span",null,"充值后余额：",-1)),createBaseVNode("span",_hoisted_168,"¥"+toDisplayString(((unref(s).balance||0)+Ie()).toFixed(2)),1)])])):createCommentVNode("",!0)])]),_:1},8,["modelValue"])),T.value&&o()?(openBlock(),createElementBlock("div",{key:4,class:"mobile-recharge-overlay",onClick:p[65]||(p[65]=q=>T.value=!1)},[createBaseVNode("div",{class:"mobile-recharge-container",onClick:p[64]||(p[64]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_169,[p[192]||(p[192]=createBaseVNode("h3",null,"股票账户充值",-1)),createBaseVNode("button",{class:"mobile-close-btn",onClick:p[57]||(p[57]=q=>T.value=!1)},[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})])]),createBaseVNode("div",_hoisted_170,[createBaseVNode("div",_hoisted_171,[p[193]||(p[193]=createBaseVNode("span",{class:"balance-label"},"当前余额",-1)),createBaseVNode("span",_hoisted_172,"¥"+toDisplayString((unref(s).balance||0).toFixed(2)),1)]),createBaseVNode("div",_hoisted_173,[p[194]||(p[194]=createBaseVNode("h4",{class:"section-title"},"选择充值金额",-1)),createBaseVNode("div",_hoisted_174,[(openBlock(),createElementBlock(Fragment,null,renderList(P,q=>createBaseVNode("div",{key:q,class:normalizeClass(["mobile-amount-item",{active:L.value===q}]),onClick:Oe=>{L.value=q,Y.value=null}}," ¥"+toDisplayString(q),11,_hoisted_175)),64))])]),createBaseVNode("div",_hoisted_176,[p[196]||(p[196]=createBaseVNode("h4",{class:"section-title"},"自定义金额",-1)),createBaseVNode("div",_hoisted_177,[p[195]||(p[195]=createBaseVNode("span",{class:"input-prefix"},"¥",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":p[58]||(p[58]=q=>Y.value=q),type:"number",placeholder:"请输入充值金额",class:"mobile-amount-input",onInput:p[59]||(p[59]=q=>L.value=null)},null,544),[[vModelText,Y.value]])])]),createBaseVNode("div",_hoisted_178,[p[200]||(p[200]=createBaseVNode("h4",{class:"section-title"},"支付方式",-1)),createBaseVNode("div",_hoisted_179,[createBaseVNode("div",{class:normalizeClass(["mobile-payment-item",{active:U.value==="alipay"}]),onClick:p[60]||(p[60]=q=>U.value="alipay")},[p[197]||(p[197]=createBaseVNode("div",{class:"payment-info"},[createBaseVNode("div",{class:"payment-icon alipay"},"支"),createBaseVNode("span",{class:"payment-name"},"支付宝")],-1)),U.value==="alipay"?(openBlock(),createElementBlock("div",_hoisted_180,"✓")):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["mobile-payment-item",{active:U.value==="wechat"}]),onClick:p[61]||(p[61]=q=>U.value="wechat")},[p[198]||(p[198]=createBaseVNode("div",{class:"payment-info"},[createBaseVNode("div",{class:"payment-icon wechat"},"微"),createBaseVNode("span",{class:"payment-name"},"微信支付")],-1)),U.value==="wechat"?(openBlock(),createElementBlock("div",_hoisted_181,"✓")):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["mobile-payment-item",{active:U.value==="bank"}]),onClick:p[62]||(p[62]=q=>U.value="bank")},[p[199]||(p[199]=createBaseVNode("div",{class:"payment-info"},[createBaseVNode("div",{class:"payment-icon bank"},"银"),createBaseVNode("span",{class:"payment-name"},"银行卡")],-1)),U.value==="bank"?(openBlock(),createElementBlock("div",_hoisted_182,"✓")):createCommentVNode("",!0)],2)])]),Ie()>0?(openBlock(),createElementBlock("div",_hoisted_183,[createBaseVNode("div",_hoisted_184,[p[201]||(p[201]=createBaseVNode("span",null,"充值金额",-1)),createBaseVNode("span",_hoisted_185,"¥"+toDisplayString(Ie()),1)]),createBaseVNode("div",_hoisted_186,[p[202]||(p[202]=createBaseVNode("span",null,"充值后余额",-1)),createBaseVNode("span",_hoisted_187,"¥"+toDisplayString(((unref(s).balance||0)+Ie()).toFixed(2)),1)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_188,[createBaseVNode("button",{class:"mobile-cancel-btn",onClick:p[63]||(p[63]=q=>T.value=!1)},"取消"),createBaseVNode("button",{class:normalizeClass(["mobile-confirm-btn",{loading:se.value}]),onClick:Je,disabled:Ie()<=0||!U.value||se.value},[se.value?(openBlock(),createElementBlock("span",_hoisted_190,"充值中...")):(openBlock(),createElementBlock("span",_hoisted_191,"确认充值 ¥"+toDisplayString(Ie()),1))],10,_hoisted_189)])])])):createCommentVNode("",!0),o()?createCommentVNode("",!0):(openBlock(),createBlock(it,{key:5,modelValue:D.value,"onUpdate:modelValue":p[69]||(p[69]=q=>D.value=q),title:"购买智点",width:"500px",class:"recharge-dialog pc-dialog"},{footer:withCtx(()=>[createVNode(ye,{onClick:p[68]||(p[68]=q=>D.value=!1)},{default:withCtx(()=>p[212]||(p[212]=[createTextVNode("取消")])),_:1,__:[212]}),createVNode(ye,{type:"success",onClick:nt,disabled:Te()<=0||unref(s).balance<Te()||R.value,loading:R.value},{default:withCtx(()=>[createTextVNode(" 确认购买 "+toDisplayString(Te())+"智点 ",1)]),_:1},8,["disabled","loading"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_192,[createBaseVNode("div",_hoisted_193,[createBaseVNode("div",_hoisted_194,[p[203]||(p[203]=createBaseVNode("span",{class:"balance-label"},"当前智点：",-1)),createBaseVNode("span",_hoisted_195,toDisplayString((unref(s).smartPointsBalance||0).toFixed(0))+"智点",1)]),createBaseVNode("div",_hoisted_196,[p[204]||(p[204]=createBaseVNode("span",{class:"balance-label"},"账户余额：",-1)),createBaseVNode("span",_hoisted_197,"¥"+toDisplayString((unref(s).balance||0).toFixed(2)),1)])]),p[211]||(p[211]=createBaseVNode("div",{class:"form-section"},[createBaseVNode("h4",{class:"section-title"},"兑换说明"),createBaseVNode("div",{class:"exchange-info"},[createBaseVNode("p",null,"• 1元人民币 = 1智点"),createBaseVNode("p",null,"• 用于购买AI分析、专业报告等服务"),createBaseVNode("p",null,"• 智点不可提现，仅限平台内消费")])],-1)),createBaseVNode("div",_hoisted_198,[p[205]||(p[205]=createBaseVNode("h4",{class:"section-title"},"选择购买金额",-1)),createBaseVNode("div",_hoisted_199,[(openBlock(),createElementBlock(Fragment,null,renderList(K,q=>createBaseVNode("div",{key:q,class:normalizeClass(["points-item",{active:J.value===q}]),onClick:Oe=>{J.value=q,M.value=null}},[createBaseVNode("div",_hoisted_201,"¥"+toDisplayString(q),1),createBaseVNode("div",_hoisted_202,toDisplayString(q)+"智点",1)],10,_hoisted_200)),64))])]),createBaseVNode("div",_hoisted_203,[p[207]||(p[207]=createBaseVNode("h4",{class:"section-title"},"自定义金额",-1)),createVNode(Xe,{modelValue:M.value,"onUpdate:modelValue":p[66]||(p[66]=q=>M.value=q),type:"number",placeholder:"请输入购买金额",onInput:p[67]||(p[67]=q=>J.value=null),class:"custom-input"},{prefix:withCtx(()=>p[206]||(p[206]=[createTextVNode("¥")])),suffix:withCtx(()=>[createTextVNode("= "+toDisplayString(M.value||0)+"智点",1)]),_:1},8,["modelValue"])]),Te()>0?(openBlock(),createElementBlock("div",_hoisted_204,[createBaseVNode("div",_hoisted_205,[p[208]||(p[208]=createBaseVNode("span",null,"购买金额：",-1)),createBaseVNode("span",_hoisted_206,"¥"+toDisplayString(Te()),1)]),createBaseVNode("div",_hoisted_207,[p[209]||(p[209]=createBaseVNode("span",null,"获得智点：",-1)),createBaseVNode("span",_hoisted_208,toDisplayString(Te())+"智点",1)]),createBaseVNode("div",_hoisted_209,[p[210]||(p[210]=createBaseVNode("span",null,"购买后余额：",-1)),createBaseVNode("span",_hoisted_210,toDisplayString(((unref(s).smartPointsBalance||0)+Te()).toFixed(0))+"智点",1)])])):createCommentVNode("",!0)])]),_:1},8,["modelValue"])),D.value&&o()?(openBlock(),createElementBlock("div",{key:6,class:"mobile-recharge-overlay",onClick:p[75]||(p[75]=q=>D.value=!1)},[createBaseVNode("div",{class:"mobile-recharge-container",onClick:p[74]||(p[74]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_211,[p[213]||(p[213]=createBaseVNode("h3",null,"购买智点",-1)),createBaseVNode("button",{class:"mobile-close-btn",onClick:p[70]||(p[70]=q=>D.value=!1)},[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})])]),createBaseVNode("div",_hoisted_212,[createBaseVNode("div",_hoisted_213,[createBaseVNode("div",_hoisted_214,[p[214]||(p[214]=createBaseVNode("span",{class:"balance-label"},"当前智点",-1)),createBaseVNode("span",_hoisted_215,toDisplayString((unref(s).smartPointsBalance||0).toFixed(0))+"智点",1)]),createBaseVNode("div",_hoisted_216,[p[215]||(p[215]=createBaseVNode("span",{class:"balance-label"},"账户余额",-1)),createBaseVNode("span",_hoisted_217,"¥"+toDisplayString((unref(s).balance||0).toFixed(2)),1)])]),p[222]||(p[222]=createStaticVNode('<div class="mobile-section" data-v-bc727c72><h4 class="section-title" data-v-bc727c72>兑换说明</h4><div class="mobile-exchange-info" data-v-bc727c72><div class="exchange-item" data-v-bc727c72>• 1元人民币 = 1智点</div><div class="exchange-item" data-v-bc727c72>• 用于购买AI分析、专业报告等服务</div><div class="exchange-item" data-v-bc727c72>• 智点不可提现，仅限平台内消费</div></div></div>',1)),createBaseVNode("div",_hoisted_218,[p[216]||(p[216]=createBaseVNode("h4",{class:"section-title"},"选择购买金额",-1)),createBaseVNode("div",_hoisted_219,[(openBlock(),createElementBlock(Fragment,null,renderList(K,q=>createBaseVNode("div",{key:q,class:normalizeClass(["mobile-points-item",{active:J.value===q}]),onClick:Oe=>{J.value=q,M.value=null}},[createBaseVNode("div",_hoisted_221,"¥"+toDisplayString(q),1),createBaseVNode("div",_hoisted_222,toDisplayString(q)+"智点",1)],10,_hoisted_220)),64))])]),createBaseVNode("div",_hoisted_223,[p[218]||(p[218]=createBaseVNode("h4",{class:"section-title"},"自定义金额",-1)),createBaseVNode("div",_hoisted_224,[p[217]||(p[217]=createBaseVNode("span",{class:"input-prefix"},"¥",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":p[71]||(p[71]=q=>M.value=q),type:"number",placeholder:"请输入购买金额",class:"mobile-amount-input",onInput:p[72]||(p[72]=q=>J.value=null)},null,544),[[vModelText,M.value]]),createBaseVNode("span",_hoisted_225,"= "+toDisplayString(M.value||0)+"智点",1)])]),Te()>0?(openBlock(),createElementBlock("div",_hoisted_226,[createBaseVNode("div",_hoisted_227,[p[219]||(p[219]=createBaseVNode("span",null,"购买金额",-1)),createBaseVNode("span",_hoisted_228,"¥"+toDisplayString(Te()),1)]),createBaseVNode("div",_hoisted_229,[p[220]||(p[220]=createBaseVNode("span",null,"获得智点",-1)),createBaseVNode("span",_hoisted_230,toDisplayString(Te())+"智点",1)]),createBaseVNode("div",_hoisted_231,[p[221]||(p[221]=createBaseVNode("span",null,"购买后余额",-1)),createBaseVNode("span",_hoisted_232,toDisplayString(((unref(s).smartPointsBalance||0)+Te()).toFixed(0))+"智点",1)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_233,[createBaseVNode("button",{class:"mobile-cancel-btn",onClick:p[73]||(p[73]=q=>D.value=!1)},"取消"),createBaseVNode("button",{class:normalizeClass(["mobile-confirm-btn mobile-points-btn",{loading:R.value}]),onClick:nt,disabled:Te()<=0||unref(s).balance<Te()||R.value},[R.value?(openBlock(),createElementBlock("span",_hoisted_235,"购买中...")):(openBlock(),createElementBlock("span",_hoisted_236,"确认购买 "+toDisplayString(Te())+"智点",1))],10,_hoisted_234)])])])):createCommentVNode("",!0),k.value?(openBlock(),createElementBlock("div",{key:7,class:"mobile-settings-overlay",onClick:p[89]||(p[89]=q=>k.value=!1)},[createBaseVNode("div",{class:"mobile-settings-container",onClick:p[88]||(p[88]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_237,[p[223]||(p[223]=createBaseVNode("h3",null,"消息通知",-1)),createBaseVNode("button",{class:"mobile-close-btn",onClick:p[76]||(p[76]=q=>k.value=!1)},[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})])]),createBaseVNode("div",_hoisted_238,[createBaseVNode("div",_hoisted_239,[p[234]||(p[234]=createBaseVNode("div",{class:"mobile-section-title"},"消息推送开关",-1)),createBaseVNode("div",_hoisted_240,[p[225]||(p[225]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("div",{class:"notification-title"},"市场动态推送"),createBaseVNode("div",{class:"notification-desc"},"股价变动、板块异动、指数波动等")],-1)),createBaseVNode("div",{class:normalizeClass(["notification-switch",{active:X.marketAlert}]),onClick:p[77]||(p[77]=q=>X.marketAlert=!X.marketAlert)},p[224]||(p[224]=[createBaseVNode("div",{class:"switch-handle"},null,-1)]),2)]),createBaseVNode("div",_hoisted_241,[p[227]||(p[227]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("div",{class:"notification-title"},"财经资讯推送"),createBaseVNode("div",{class:"notification-desc"},"政策新闻、公司公告、行业分析等")],-1)),createBaseVNode("div",{class:normalizeClass(["notification-switch",{active:X.newsAlert}]),onClick:p[78]||(p[78]=q=>X.newsAlert=!X.newsAlert)},p[226]||(p[226]=[createBaseVNode("div",{class:"switch-handle"},null,-1)]),2)]),createBaseVNode("div",_hoisted_242,[p[229]||(p[229]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("div",{class:"notification-title"},"风险提醒推送"),createBaseVNode("div",{class:"notification-desc"},"价格预警、风险评估、止损提醒等")],-1)),createBaseVNode("div",{class:normalizeClass(["notification-switch",{active:X.riskAlert}]),onClick:p[79]||(p[79]=q=>X.riskAlert=!X.riskAlert)},p[228]||(p[228]=[createBaseVNode("div",{class:"switch-handle"},null,-1)]),2)]),createBaseVNode("div",_hoisted_243,[p[231]||(p[231]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("div",{class:"notification-title"},"系统通知推送"),createBaseVNode("div",{class:"notification-desc"},"系统更新、设置变更、功能通知等")],-1)),createBaseVNode("div",{class:normalizeClass(["notification-switch",{active:X.systemAlert}]),onClick:p[80]||(p[80]=q=>X.systemAlert=!X.systemAlert)},p[230]||(p[230]=[createBaseVNode("div",{class:"switch-handle"},null,-1)]),2)]),createBaseVNode("div",_hoisted_244,[p[233]||(p[233]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("div",{class:"notification-title"},"交易记录推送"),createBaseVNode("div",{class:"notification-desc"},"买卖记录、委托状态、资金变动等")],-1)),createBaseVNode("div",{class:normalizeClass(["notification-switch",{active:X.tradeAlert}]),onClick:p[81]||(p[81]=q=>X.tradeAlert=!X.tradeAlert)},p[232]||(p[232]=[createBaseVNode("div",{class:"switch-handle"},null,-1)]),2)])]),createBaseVNode("div",_hoisted_245,[p[239]||(p[239]=createBaseVNode("div",{class:"mobile-section-title"},"推送时间设置",-1)),createBaseVNode("div",_hoisted_246,[createBaseVNode("div",_hoisted_247,[p[235]||(p[235]=createBaseVNode("label",{class:"mobile-time-label"},"开始时间",-1)),withDirectives(createBaseVNode("input",{type:"time","onUpdate:modelValue":p[82]||(p[82]=q=>X.startTime=q),class:"mobile-time-input"},null,512),[[vModelText,X.startTime]])]),createBaseVNode("div",_hoisted_248,[p[236]||(p[236]=createBaseVNode("label",{class:"mobile-time-label"},"结束时间",-1)),withDirectives(createBaseVNode("input",{type:"time","onUpdate:modelValue":p[83]||(p[83]=q=>X.endTime=q),class:"mobile-time-input"},null,512),[[vModelText,X.endTime]])])]),createBaseVNode("div",_hoisted_249,[p[238]||(p[238]=createBaseVNode("div",{class:"notification-info"},[createBaseVNode("div",{class:"notification-title"},"免打扰模式"),createBaseVNode("div",{class:"notification-desc"},"在指定时间段内不接收推送通知")],-1)),createBaseVNode("div",{class:normalizeClass(["notification-switch",{active:X.doNotDisturb}]),onClick:p[84]||(p[84]=q=>X.doNotDisturb=!X.doNotDisturb)},p[237]||(p[237]=[createBaseVNode("div",{class:"switch-handle"},null,-1)]),2)])]),createBaseVNode("div",_hoisted_250,[p[243]||(p[243]=createBaseVNode("div",{class:"mobile-section-title"},"推送频率设置",-1)),createBaseVNode("div",_hoisted_251,[createBaseVNode("div",_hoisted_252,[withDirectives(createBaseVNode("input",{type:"radio",id:"mobile-realtime",value:"realtime","onUpdate:modelValue":p[85]||(p[85]=q=>X.frequency=q)},null,512),[[vModelRadio,X.frequency]]),p[240]||(p[240]=createBaseVNode("label",{for:"mobile-realtime",class:"mobile-frequency-label"},"实时推送",-1))]),createBaseVNode("div",_hoisted_253,[withDirectives(createBaseVNode("input",{type:"radio",id:"mobile-hourly",value:"hourly","onUpdate:modelValue":p[86]||(p[86]=q=>X.frequency=q)},null,512),[[vModelRadio,X.frequency]]),p[241]||(p[241]=createBaseVNode("label",{for:"mobile-hourly",class:"mobile-frequency-label"},"每小时汇总",-1))]),createBaseVNode("div",_hoisted_254,[withDirectives(createBaseVNode("input",{type:"radio",id:"mobile-daily",value:"daily","onUpdate:modelValue":p[87]||(p[87]=q=>X.frequency=q)},null,512),[[vModelRadio,X.frequency]]),p[242]||(p[242]=createBaseVNode("label",{for:"mobile-daily",class:"mobile-frequency-label"},"每日汇总",-1))])])])]),createBaseVNode("div",{class:"mobile-settings-footer"},[createBaseVNode("button",{class:"mobile-confirm-btn full-width",onClick:tt}," 保存设置 ")])])])):createCommentVNode("",!0),S.value?(openBlock(),createElementBlock("div",{key:8,class:"mobile-settings-overlay",onClick:p[93]||(p[93]=q=>S.value=!1)},[createBaseVNode("div",{class:"mobile-settings-container",onClick:p[92]||(p[92]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_255,[p[244]||(p[244]=createBaseVNode("h3",null,"安全设置",-1)),createBaseVNode("button",{class:"mobile-close-btn",onClick:p[90]||(p[90]=q=>S.value=!1)},[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})])]),createBaseVNode("div",_hoisted_256,[createBaseVNode("div",_hoisted_257,[createBaseVNode("div",{class:"mobile-security-item",onClick:p[91]||(p[91]=q=>{c.value=!0,S.value=!1})},[createBaseVNode("div",_hoisted_258,[createVNode(ne,{class:"security-icon"},{default:withCtx(()=>[createVNode(unref(lock_default))]),_:1}),p[245]||(p[245]=createBaseVNode("div",{class:"security-text"},[createBaseVNode("div",{class:"security-title"},"修改密码"),createBaseVNode("div",{class:"security-desc"},"定期修改密码保障账户安全")],-1))]),createVNode(ne,{class:"security-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",_hoisted_259,[createBaseVNode("div",_hoisted_260,[createVNode(ne,{class:"security-icon"},{default:withCtx(()=>[createVNode(unref(phone_default))]),_:1}),createBaseVNode("div",_hoisted_261,[p[246]||(p[246]=createBaseVNode("div",{class:"security-title"},"手机绑定",-1)),createBaseVNode("div",_hoisted_262,"已绑定："+toDisplayString(((ft=unref(s).userInfo)==null?void 0:ft.phone)||"未绑定"),1)])]),createVNode(ne,{class:"security-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",_hoisted_263,[createBaseVNode("div",_hoisted_264,[createVNode(ne,{class:"security-icon"},{default:withCtx(()=>[createVNode(unref(message_default))]),_:1}),createBaseVNode("div",_hoisted_265,[p[247]||(p[247]=createBaseVNode("div",{class:"security-title"},"邮箱绑定",-1)),createBaseVNode("div",_hoisted_266,"已绑定："+toDisplayString(((_t=unref(s).userInfo)==null?void 0:_t.email)||"未绑定"),1)])]),createVNode(ne,{class:"security-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",_hoisted_267,[createBaseVNode("div",_hoisted_268,[createVNode(ne,{class:"security-icon"},{default:withCtx(()=>[createVNode(unref(user_filled_default))]),_:1}),p[248]||(p[248]=createBaseVNode("div",{class:"security-text"},[createBaseVNode("div",{class:"security-title"},"实名认证"),createBaseVNode("div",{class:"security-desc"},"已完成实名认证")],-1))]),p[249]||(p[249]=createBaseVNode("div",{class:"security-status verified"},"已认证",-1))])])])])])):createCommentVNode("",!0),g.value?(openBlock(),createElementBlock("div",{key:9,class:"mobile-settings-overlay",onClick:p[100]||(p[100]=q=>g.value=!1)},[createBaseVNode("div",{class:"mobile-settings-container",onClick:p[99]||(p[99]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_269,[p[250]||(p[250]=createBaseVNode("h3",null,"帮助与反馈",-1)),createBaseVNode("button",{class:"mobile-close-btn",onClick:p[94]||(p[94]=q=>g.value=!1)},[createVNode(ne,null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})])]),createBaseVNode("div",_hoisted_270,[createBaseVNode("div",_hoisted_271,[createBaseVNode("div",{class:"mobile-help-item",onClick:p[95]||(p[95]=q=>pt("faq"))},[createBaseVNode("div",_hoisted_272,[createVNode(ne,{class:"help-icon"},{default:withCtx(()=>[createVNode(unref(question_filled_default))]),_:1}),p[251]||(p[251]=createBaseVNode("div",{class:"help-text"},[createBaseVNode("div",{class:"help-title"},"常见问题"),createBaseVNode("div",{class:"help-desc"},"查看常见问题解答")],-1))]),createVNode(ne,{class:"help-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",{class:"mobile-help-item",onClick:p[96]||(p[96]=q=>pt("tutorial"))},[createBaseVNode("div",_hoisted_273,[createVNode(ne,{class:"help-icon"},{default:withCtx(()=>[createVNode(unref(video_play_default))]),_:1}),p[252]||(p[252]=createBaseVNode("div",{class:"help-text"},[createBaseVNode("div",{class:"help-title"},"使用教程"),createBaseVNode("div",{class:"help-desc"},"观看操作指导视频")],-1))]),createVNode(ne,{class:"help-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",{class:"mobile-help-item",onClick:p[97]||(p[97]=q=>pt("contact"))},[createBaseVNode("div",_hoisted_274,[createVNode(ne,{class:"help-icon"},{default:withCtx(()=>[createVNode(unref(chat_dot_square_default))]),_:1}),p[253]||(p[253]=createBaseVNode("div",{class:"help-text"},[createBaseVNode("div",{class:"help-title"},"联系客服"),createBaseVNode("div",{class:"help-desc"},"在线客服为您解答")],-1))]),createVNode(ne,{class:"help-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("div",{class:"mobile-help-item",onClick:p[98]||(p[98]=q=>pt("feedback"))},[createBaseVNode("div",_hoisted_275,[createVNode(ne,{class:"help-icon"},{default:withCtx(()=>[createVNode(unref(edit_pen_default))]),_:1}),p[254]||(p[254]=createBaseVNode("div",{class:"help-text"},[createBaseVNode("div",{class:"help-title"},"意见反馈"),createBaseVNode("div",{class:"help-desc"},"提交您的宝贵意见")],-1))]),createVNode(ne,{class:"help-arrow"},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})])]),p[255]||(p[255]=createStaticVNode('<div class="mobile-version-section" data-v-bc727c72><div class="version-item" data-v-bc727c72><span class="version-label" data-v-bc727c72>当前版本</span><span class="version-value" data-v-bc727c72>v1.0.0</span></div><div class="version-item" data-v-bc727c72><span class="version-label" data-v-bc727c72>更新时间</span><span class="version-value" data-v-bc727c72>2024-01-15</span></div></div>',1))])])])):createCommentVNode("",!0)],2)])}}},UserProfile=_export_sfc(_sfc_main$q,[["__scopeId","data-v-bc727c72"]]),_hoisted_1$p={class:"quant-reports"},_hoisted_2$n={class:"reports-header"},_hoisted_3$n={class:"header-right"},_hoisted_4$m={class:"reports-filters"},_hoisted_5$l={class:"filters-row"},_hoisted_6$k={class:"filter-group"},_hoisted_7$j={class:"filter-group"},_hoisted_8$i={key:1,class:"mobile-date-range"},_hoisted_9$i={class:"filter-group"},_hoisted_10$i={class:"filter-group"},_hoisted_11$g={class:"reports-list"},_hoisted_12$g={key:0,class:"empty-state"},_hoisted_13$g={key:1,class:"reports-grid"},_hoisted_14$e=["onClick"],_hoisted_15$e={class:"report-header"},_hoisted_16$e={class:"report-type"},_hoisted_17$e={class:"report-content"},_hoisted_18$d={class:"report-title"},_hoisted_19$d={class:"report-info"},_hoisted_20$d={class:"info-item"},_hoisted_21$c={class:"value"},_hoisted_22$c={class:"info-item"},_hoisted_23$c={class:"value"},_hoisted_24$c={class:"info-item"},_hoisted_25$b={class:"value cost"},_hoisted_26$b={class:"report-summary"},_hoisted_27$b={class:"report-footer"},_hoisted_28$a={class:"report-status"},_hoisted_29$9={class:"report-size"},_hoisted_30$9={key:0,class:"reports-pagination"},_hoisted_31$9={key:0,class:"report-detail"},_hoisted_32$9={class:"detail-header"},_hoisted_33$9={class:"detail-info"},_hoisted_34$9={class:"info-row"},_hoisted_35$8={class:"value"},_hoisted_36$8={class:"info-row"},_hoisted_37$8={class:"info-row"},_hoisted_38$8={class:"value"},_hoisted_39$6={class:"info-row"},_hoisted_40$6={class:"value cost"},_hoisted_41$5={class:"detail-content"},_hoisted_42$5=["innerHTML"],_sfc_main$p={__name:"QuantAnalysisReports",setup(t){const e=useUserStore(),s=computed(()=>typeof window>"u"?!1:window.innerWidth<=768),o=ref(!1),a=ref(""),n=ref(null),r=ref(""),d=ref(1),m=ref(12),c=ref(!1),l=ref(null),_=ref(""),k=ref("");watch([_,k],([D,B])=>{D&&B?n.value=[D,B]:n.value=null}),watch(n,D=>{D&&D.length===2?(_.value=D[0],k.value=D[1]):(_.value="",k.value="")});const S=computed(()=>e.quantAnalysisReports||[]),g=computed(()=>{let D=S.value;if(a.value&&(D=D.filter(B=>B.type===a.value)),n.value&&n.value.length===2){const[B,I]=n.value;D=D.filter(L=>{const U=L.createdAt.split(" ")[0];return U>=B&&U<=I})}if(r.value){const B=r.value.toLowerCase();D=D.filter(I=>I.stockName.toLowerCase().includes(B)||I.stockCode.toLowerCase().includes(B)||I.title.toLowerCase().includes(B))}return D.sort((B,I)=>new Date(I.createdAt)-new Date(B.createdAt))}),N=computed(()=>{const D=(d.value-1)*m.value,B=D+m.value;return g.value.slice(D,B)}),f=D=>({"quant-analysis":"量化分析","ai-trading":"AI委托交易","stock-analysis":"股票分析"})[D]||D,E=D=>({"quant-analysis":"primary","ai-trading":"success","stock-analysis":"warning"})[D]||"info",b=D=>D.split(" ")[0],y=D=>D.replace("T"," ").substring(0,19),$=()=>{a.value="",n.value=null,r.value="",d.value=1},w=D=>{l.value=D,c.value=!0},x=(D,B)=>{switch(D){case"view":w(B);break;case"download":v(B);break;case"delete":C(B);break}},v=D=>{ElMessage.success(`正在下载 ${D.title} 报告...`),setTimeout(()=>{ElMessage.success("报告下载完成")},2e3)},C=async D=>{try{await ElMessageBox.confirm(`确定要删除报告"${D.title}"吗？删除后无法恢复。`,"确认删除",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning",customClass:"high-z-index-dialog",appendTo:"body"}),e.deleteQuantAnalysisReport(D.id),ElMessage.success("报告已删除")}catch{}},T=()=>{if(g.value.length===0){ElMessage.warning("没有可导出的报告");return}ElMessage.success(`正在导出 ${g.value.length} 个报告...`),setTimeout(()=>{ElMessage.success("批量导出完成")},3e3)};return(D,B)=>{var de;const I=resolveComponent("el-icon"),L=resolveComponent("el-button"),U=resolveComponent("el-option"),Y=resolveComponent("el-select"),se=resolveComponent("el-date-picker"),J=resolveComponent("el-input"),M=resolveComponent("el-tag"),R=resolveComponent("el-dropdown-item"),P=resolveComponent("el-dropdown-menu"),K=resolveComponent("el-dropdown"),X=resolveComponent("el-pagination"),W=resolveComponent("el-dialog"),Be=resolveDirective("loading");return openBlock(),createElementBlock("div",_hoisted_1$p,[createBaseVNode("div",_hoisted_2$n,[B[12]||(B[12]=createBaseVNode("div",{class:"header-left"},[createBaseVNode("h3",null,"量化分析报告"),createBaseVNode("p",null,"系统自动保留最近3个月的报告，超期自动清理")],-1)),createBaseVNode("div",_hoisted_3$n,[createVNode(L,{onClick:T,type:"primary",disabled:S.value.length===0,class:"pc-action-btn"},{default:withCtx(()=>[createVNode(I,null,{default:withCtx(()=>[createVNode(unref(download_default))]),_:1}),B[11]||(B[11]=createTextVNode(" 批量导出 "))]),_:1,__:[11]},8,["disabled"])])]),createBaseVNode("div",_hoisted_4$m,[createBaseVNode("div",_hoisted_5$l,[createBaseVNode("div",_hoisted_6$k,[B[14]||(B[14]=createBaseVNode("label",{class:"filter-label"},"报告类型",-1)),s.value?withDirectives((openBlock(),createElementBlock("select",{key:1,"onUpdate:modelValue":B[1]||(B[1]=ve=>a.value=ve),class:"mobile-select"},B[13]||(B[13]=[createBaseVNode("option",{value:""},"全部类型",-1),createBaseVNode("option",{value:"quant-analysis"},"量化分析",-1),createBaseVNode("option",{value:"ai-trading"},"AI委托交易",-1),createBaseVNode("option",{value:"stock-analysis"},"股票分析",-1)]),512)),[[vModelSelect,a.value]]):(openBlock(),createBlock(Y,{key:0,modelValue:a.value,"onUpdate:modelValue":B[0]||(B[0]=ve=>a.value=ve),placeholder:"报告类型",clearable:"",size:"small",class:"filter-select"},{default:withCtx(()=>[createVNode(U,{label:"全部类型",value:""}),createVNode(U,{label:"量化分析",value:"quant-analysis"}),createVNode(U,{label:"AI委托交易",value:"ai-trading"}),createVNode(U,{label:"股票分析",value:"stock-analysis"})]),_:1},8,["modelValue"]))]),createBaseVNode("div",_hoisted_7$j,[B[16]||(B[16]=createBaseVNode("label",{class:"filter-label"},"时间范围",-1)),s.value?(openBlock(),createElementBlock("div",_hoisted_8$i,[withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":B[3]||(B[3]=ve=>_.value=ve),class:"mobile-date-input",placeholder:"开始日期"},null,512),[[vModelText,_.value]]),B[15]||(B[15]=createBaseVNode("span",{class:"date-separator"},"至",-1)),withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":B[4]||(B[4]=ve=>k.value=ve),class:"mobile-date-input",placeholder:"结束日期"},null,512),[[vModelText,k.value]])])):(openBlock(),createBlock(se,{key:0,modelValue:n.value,"onUpdate:modelValue":B[2]||(B[2]=ve=>n.value=ve),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",class:"filter-date"},null,8,["modelValue"]))]),createBaseVNode("div",_hoisted_9$i,[B[17]||(B[17]=createBaseVNode("label",{class:"filter-label"},"关键词搜索",-1)),createVNode(J,{modelValue:r.value,"onUpdate:modelValue":B[5]||(B[5]=ve=>r.value=ve),placeholder:"搜索股票名称或代码",size:"small",clearable:"",class:"filter-search"},{prefix:withCtx(()=>[createVNode(I,null,{default:withCtx(()=>[createVNode(unref(search_default))]),_:1})]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_10$i,[createVNode(L,{onClick:$,class:"pc-filter-btn"},{default:withCtx(()=>B[18]||(B[18]=[createTextVNode("重置")])),_:1,__:[18]})])])]),withDirectives((openBlock(),createElementBlock("div",_hoisted_11$g,[g.value.length===0?(openBlock(),createElementBlock("div",_hoisted_12$g,B[19]||(B[19]=[createBaseVNode("div",{class:"empty-icon"},"📊",-1),createBaseVNode("div",{class:"empty-text"},[createBaseVNode("h4",null,"暂无报告记录"),createBaseVNode("p",null,"您还没有生成任何量化分析报告")],-1)]))):(openBlock(),createElementBlock("div",_hoisted_13$g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(N.value,ve=>(openBlock(),createElementBlock("div",{key:ve.id,class:"report-card",onClick:ue=>w(ve)},[createBaseVNode("div",_hoisted_15$e,[createBaseVNode("div",_hoisted_16$e,[createVNode(M,{type:E(ve.type),size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString(f(ve.type)),1)]),_:2},1032,["type"])]),createBaseVNode("div",{class:"report-actions",onClick:B[6]||(B[6]=withModifiers(()=>{},["stop"]))},[createVNode(K,{onCommand:ue=>x(ue,ve)},{dropdown:withCtx(()=>[createVNode(P,null,{default:withCtx(()=>[createVNode(R,{command:"view"},{default:withCtx(()=>B[20]||(B[20]=[createTextVNode("查看详情")])),_:1,__:[20]}),createVNode(R,{command:"download"},{default:withCtx(()=>B[21]||(B[21]=[createTextVNode("下载PDF")])),_:1,__:[21]}),createVNode(R,{command:"delete",divided:""},{default:withCtx(()=>B[22]||(B[22]=[createTextVNode("删除")])),_:1,__:[22]})]),_:1})]),default:withCtx(()=>[createVNode(L,{size:"small",text:""},{default:withCtx(()=>[createVNode(I,null,{default:withCtx(()=>[createVNode(unref(more_default))]),_:1})]),_:1})]),_:2},1032,["onCommand"])])]),createBaseVNode("div",_hoisted_17$e,[createBaseVNode("h4",_hoisted_18$d,toDisplayString(ve.title),1),createBaseVNode("div",_hoisted_19$d,[createBaseVNode("div",_hoisted_20$d,[B[23]||(B[23]=createBaseVNode("span",{class:"label"},"股票：",-1)),createBaseVNode("span",_hoisted_21$c,toDisplayString(ve.stockName)+"("+toDisplayString(ve.stockCode)+")",1)]),createBaseVNode("div",_hoisted_22$c,[B[24]||(B[24]=createBaseVNode("span",{class:"label"},"生成时间：",-1)),createBaseVNode("span",_hoisted_23$c,toDisplayString(b(ve.createdAt)),1)]),createBaseVNode("div",_hoisted_24$c,[B[25]||(B[25]=createBaseVNode("span",{class:"label"},"费用：",-1)),createBaseVNode("span",_hoisted_25$b,toDisplayString(ve.cost)+"智点",1)])]),createBaseVNode("div",_hoisted_26$b,toDisplayString(ve.summary),1)]),createBaseVNode("div",_hoisted_27$b,[createBaseVNode("div",_hoisted_28$a,[createVNode(I,{class:"status-icon"},{default:withCtx(()=>[createVNode(unref(circle_check_default))]),_:1}),B[26]||(B[26]=createTextVNode(" 已完成 "))]),createBaseVNode("div",_hoisted_29$9,toDisplayString(ve.fileSize),1)])],8,_hoisted_14$e))),128))]))])),[[Be,o.value]]),g.value.length>m.value?(openBlock(),createElementBlock("div",_hoisted_30$9,[createVNode(X,{"current-page":d.value,"onUpdate:currentPage":B[7]||(B[7]=ve=>d.value=ve),"page-size":m.value,total:g.value.length,layout:"total, prev, pager, next, jumper",small:""},null,8,["current-page","page-size","total"])])):createCommentVNode("",!0),createVNode(W,{modelValue:c.value,"onUpdate:modelValue":B[10]||(B[10]=ve=>c.value=ve),title:(de=l.value)==null?void 0:de.title,width:"800px",class:"report-detail-dialog"},{footer:withCtx(()=>[createVNode(L,{onClick:B[8]||(B[8]=ve=>c.value=!1)},{default:withCtx(()=>B[33]||(B[33]=[createTextVNode("关闭")])),_:1,__:[33]}),createVNode(L,{type:"primary",onClick:B[9]||(B[9]=ve=>v(l.value))},{default:withCtx(()=>[createVNode(I,null,{default:withCtx(()=>[createVNode(unref(download_default))]),_:1}),B[34]||(B[34]=createTextVNode(" 下载PDF "))]),_:1,__:[34]})]),default:withCtx(()=>[l.value?(openBlock(),createElementBlock("div",_hoisted_31$9,[createBaseVNode("div",_hoisted_32$9,[createBaseVNode("div",_hoisted_33$9,[createBaseVNode("div",_hoisted_34$9,[B[27]||(B[27]=createBaseVNode("span",{class:"label"},"股票：",-1)),createBaseVNode("span",_hoisted_35$8,toDisplayString(l.value.stockName)+"("+toDisplayString(l.value.stockCode)+")",1)]),createBaseVNode("div",_hoisted_36$8,[B[28]||(B[28]=createBaseVNode("span",{class:"label"},"报告类型：",-1)),createVNode(M,{type:E(l.value.type),size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString(f(l.value.type)),1)]),_:1},8,["type"])]),createBaseVNode("div",_hoisted_37$8,[B[29]||(B[29]=createBaseVNode("span",{class:"label"},"生成时间：",-1)),createBaseVNode("span",_hoisted_38$8,toDisplayString(y(l.value.createdAt)),1)]),createBaseVNode("div",_hoisted_39$6,[B[30]||(B[30]=createBaseVNode("span",{class:"label"},"分析费用：",-1)),createBaseVNode("span",_hoisted_40$6,toDisplayString(l.value.cost)+"智点",1)])])]),createBaseVNode("div",_hoisted_41$5,[B[31]||(B[31]=createBaseVNode("h4",null,"报告摘要",-1)),createBaseVNode("p",null,toDisplayString(l.value.summary),1),B[32]||(B[32]=createBaseVNode("h4",null,"详细内容",-1)),createBaseVNode("div",{class:"report-content-text",innerHTML:l.value.content},null,8,_hoisted_42$5)])])):createCommentVNode("",!0)]),_:1},8,["modelValue","title"])])}}},QuantAnalysisReports=_export_sfc(_sfc_main$p,[["__scopeId","data-v-734093da"]]),_hoisted_1$o={class:"smart-points-records"},_hoisted_2$m={class:"points-filters"},_hoisted_3$m={class:"filters-row"},_hoisted_4$l={class:"filter-group"},_hoisted_5$k={class:"filter-group"},_hoisted_6$j={key:1,class:"mobile-date-range"},_hoisted_7$i={class:"filter-group"},_hoisted_8$h={class:"filter-group"},_hoisted_9$h={key:0,class:"records-list"},_hoisted_10$h={class:"record-icon"},_hoisted_11$f={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},_hoisted_12$f={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},_hoisted_13$f={class:"record-content"},_hoisted_14$d={class:"record-title"},_hoisted_15$d={class:"record-time"},_hoisted_16$d={key:1,class:"records-pagination"},_hoisted_17$d={key:2,class:"empty-state"},_hoisted_18$c={class:"empty-text"},_hoisted_19$c={key:3,class:"records-stats"},_hoisted_20$c={class:"stat-item"},_hoisted_21$b={class:"stat-value consume"},_hoisted_22$b={class:"stat-item"},_hoisted_23$b={class:"stat-value recharge"},_hoisted_24$b={class:"stat-item"},_hoisted_25$a={class:"stat-value"},_hoisted_26$a={class:"stat-item"},_hoisted_27$a={class:"stat-value"},_sfc_main$o={__name:"SmartPointsRecords",setup(t){const e=useUserStore(),s=computed(()=>typeof window>"u"?!1:window.innerWidth<=768),o=ref(""),a=ref(null),n=ref(""),r=ref(1),d=ref(20),m=ref(""),c=ref("");watch([m,c],([b,y])=>{b&&y?a.value=[b,y]:a.value=null}),watch(a,b=>{b&&b.length===2?(m.value=b[0],c.value=b[1]):(m.value="",c.value="")});const l=computed(()=>e.smartPointsTransactions||[]),_=computed(()=>{let b=l.value;if(o.value&&(b=b.filter(y=>y.type===o.value)),a.value&&a.value.length===2){const[y,$]=a.value;b=b.filter(w=>{const x=new Date(w.createdAt).toISOString().split("T")[0];return x>=y&&x<=$})}if(n.value){const y=n.value.toLowerCase();b=b.filter($=>$.description.toLowerCase().includes(y))}return b.sort((y,$)=>new Date($.createdAt)-new Date(y.createdAt))}),k=computed(()=>{const b=(r.value-1)*d.value,y=b+d.value;return _.value.slice(b,y)}),S=computed(()=>_.value.filter(b=>b.type==="consumption").reduce((b,y)=>b+y.amount,0)),g=computed(()=>_.value.filter(b=>b.type==="recharge").reduce((b,y)=>b+y.amount,0)),N=computed(()=>S.value-g.value),f=()=>{o.value="",a.value=null,n.value="",r.value=1},E=b=>{const y=new Date(b),w=new Date-y,x=Math.floor(w/(1e3*60*60*24));return x===0?y.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):x===1?"昨天 "+y.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):x<7?x+"天前":y.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})};return(b,y)=>{const $=resolveComponent("el-option"),w=resolveComponent("el-select"),x=resolveComponent("el-date-picker"),v=resolveComponent("el-icon"),C=resolveComponent("el-input"),T=resolveComponent("el-button"),D=resolveComponent("el-pagination");return openBlock(),createElementBlock("div",_hoisted_1$o,[createBaseVNode("div",_hoisted_2$m,[createBaseVNode("div",_hoisted_3$m,[createBaseVNode("div",_hoisted_4$l,[y[8]||(y[8]=createBaseVNode("label",{class:"filter-label"},"记录类型",-1)),s.value?withDirectives((openBlock(),createElementBlock("select",{key:1,"onUpdate:modelValue":y[1]||(y[1]=B=>o.value=B),class:"mobile-select"},y[7]||(y[7]=[createBaseVNode("option",{value:""},"全部类型",-1),createBaseVNode("option",{value:"consumption"},"消费",-1),createBaseVNode("option",{value:"recharge"},"充值",-1)]),512)),[[vModelSelect,o.value]]):(openBlock(),createBlock(w,{key:0,modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=B=>o.value=B),placeholder:"记录类型",clearable:"",size:"small",class:"filter-select"},{default:withCtx(()=>[createVNode($,{label:"全部类型",value:""}),createVNode($,{label:"消费",value:"consumption"}),createVNode($,{label:"充值",value:"recharge"})]),_:1},8,["modelValue"]))]),createBaseVNode("div",_hoisted_5$k,[y[10]||(y[10]=createBaseVNode("label",{class:"filter-label"},"时间范围",-1)),s.value?(openBlock(),createElementBlock("div",_hoisted_6$j,[withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":y[3]||(y[3]=B=>m.value=B),class:"mobile-date-input",placeholder:"开始日期"},null,512),[[vModelText,m.value]]),y[9]||(y[9]=createBaseVNode("span",{class:"date-separator"},"至",-1)),withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":y[4]||(y[4]=B=>c.value=B),class:"mobile-date-input",placeholder:"结束日期"},null,512),[[vModelText,c.value]])])):(openBlock(),createBlock(x,{key:0,modelValue:a.value,"onUpdate:modelValue":y[2]||(y[2]=B=>a.value=B),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",class:"filter-date"},null,8,["modelValue"]))]),createBaseVNode("div",_hoisted_7$i,[y[11]||(y[11]=createBaseVNode("label",{class:"filter-label"},"关键词搜索",-1)),createVNode(C,{modelValue:n.value,"onUpdate:modelValue":y[5]||(y[5]=B=>n.value=B),placeholder:"搜索描述信息",size:"small",clearable:"",class:"filter-search"},{prefix:withCtx(()=>[createVNode(v,null,{default:withCtx(()=>[createVNode(unref(search_default))]),_:1})]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_8$h,[createVNode(T,{onClick:f,class:"pc-filter-btn"},{default:withCtx(()=>y[12]||(y[12]=[createTextVNode("重置")])),_:1,__:[12]})])])]),_.value.length>0?(openBlock(),createElementBlock("div",_hoisted_9$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.value,B=>(openBlock(),createElementBlock("div",{key:B.id,class:"record-item"},[createBaseVNode("div",_hoisted_10$h,[B.type==="consumption"?(openBlock(),createElementBlock("svg",_hoisted_11$f,y[13]||(y[13]=[createBaseVNode("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",stroke:"#ef4444","stroke-width":"2"},null,-1)]))):(openBlock(),createElementBlock("svg",_hoisted_12$f,y[14]||(y[14]=[createBaseVNode("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",stroke:"#10b981","stroke-width":"2"},null,-1)])))]),createBaseVNode("div",_hoisted_13$f,[createBaseVNode("div",_hoisted_14$d,toDisplayString(B.description),1),createBaseVNode("div",_hoisted_15$d,toDisplayString(E(B.createdAt)),1)]),createBaseVNode("div",{class:normalizeClass(["record-amount",{consume:B.type==="consumption",recharge:B.type==="recharge"}])},toDisplayString(B.type==="consumption"?"-":"+")+toDisplayString(B.amount)+" 智点 ",3)]))),128))])):createCommentVNode("",!0),_.value.length>d.value?(openBlock(),createElementBlock("div",_hoisted_16$d,[createVNode(D,{"current-page":r.value,"onUpdate:currentPage":y[6]||(y[6]=B=>r.value=B),"page-size":d.value,total:_.value.length,layout:"total, prev, pager, next, jumper",small:""},null,8,["current-page","page-size","total"])])):createCommentVNode("",!0),_.value.length===0?(openBlock(),createElementBlock("div",_hoisted_17$d,[y[15]||(y[15]=createBaseVNode("div",{class:"empty-icon"},[createBaseVNode("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"10",stroke:"#d1d5db","stroke-width":"2"}),createBaseVNode("path",{d:"M16 8l-4 4-4-4",stroke:"#d1d5db","stroke-width":"2",fill:"none"})])],-1)),createBaseVNode("div",_hoisted_18$c,[createBaseVNode("h3",null,toDisplayString(l.value.length===0?"暂无智点记录":"暂无符合条件的记录"),1),createBaseVNode("p",null,toDisplayString(l.value.length===0?"您的智点消费和充值记录将在这里显示":"请尝试调整筛选条件"),1)])])):createCommentVNode("",!0),_.value.length>0?(openBlock(),createElementBlock("div",_hoisted_19$c,[createBaseVNode("div",_hoisted_20$c,[y[16]||(y[16]=createBaseVNode("div",{class:"stat-label"},"总消费",-1)),createBaseVNode("div",_hoisted_21$b,toDisplayString(S.value)+" 智点",1)]),createBaseVNode("div",_hoisted_22$b,[y[17]||(y[17]=createBaseVNode("div",{class:"stat-label"},"总充值",-1)),createBaseVNode("div",_hoisted_23$b,toDisplayString(g.value)+" 智点",1)]),createBaseVNode("div",_hoisted_24$b,[y[18]||(y[18]=createBaseVNode("div",{class:"stat-label"},"净消费",-1)),createBaseVNode("div",_hoisted_25$a,toDisplayString(N.value)+" 智点",1)]),createBaseVNode("div",_hoisted_26$a,[y[19]||(y[19]=createBaseVNode("div",{class:"stat-label"},"记录数",-1)),createBaseVNode("div",_hoisted_27$a,toDisplayString(_.value.length),1)])])):createCommentVNode("",!0)])}}},SmartPointsRecords=_export_sfc(_sfc_main$o,[["__scopeId","data-v-72dc530e"]]),_hoisted_1$n={class:"ai-trading-records"},_hoisted_2$l={class:"trading-filters"},_hoisted_3$l={class:"filters-row"},_hoisted_4$k={class:"filter-group"},_hoisted_5$j={class:"filter-group"},_hoisted_6$i={class:"filter-group"},_hoisted_7$h={key:1,class:"mobile-date-range"},_hoisted_8$g={class:"filter-group"},_hoisted_9$g={class:"filter-group"},_hoisted_10$g={key:0,class:"records-list"},_hoisted_11$e={class:"records-grid"},_hoisted_12$e=["onClick"],_hoisted_13$e={class:"record-header"},_hoisted_14$c={class:"trade-type"},_hoisted_15$c={class:"record-content"},_hoisted_16$c={class:"record-title"},_hoisted_17$c={class:"record-info"},_hoisted_18$b={class:"info-item"},_hoisted_19$b={class:"value"},_hoisted_20$b={class:"info-item"},_hoisted_21$a={class:"value"},_hoisted_22$a={class:"info-item"},_hoisted_23$a={class:"value amount"},_hoisted_24$a={key:0,class:"info-item"},_hoisted_25$9={key:0,class:"record-summary"},_hoisted_26$9={class:"record-footer"},_hoisted_27$9={class:"record-time"},_hoisted_28$9={key:1,class:"records-pagination"},_hoisted_29$8={key:2,class:"empty-state"},_hoisted_30$8={class:"empty-text"},_hoisted_31$8={key:3,class:"records-stats"},_hoisted_32$8={class:"stat-item"},_hoisted_33$8={class:"stat-value"},_hoisted_34$8={class:"stat-item"},_hoisted_35$7={class:"stat-value"},_hoisted_36$7={class:"stat-item"},_hoisted_37$7={class:"stat-value"},_hoisted_38$7={class:"stat-item"},_sfc_main$n={__name:"AITradingRecords",setup(t){const e=useUserStore(),s=computed(()=>typeof window>"u"?!1:window.innerWidth<=768),o=ref(""),a=ref(""),n=ref(null),r=ref(""),d=ref(1),m=ref(10),c=ref(""),l=ref("");watch([c,l],([v,C])=>{v&&C?n.value=[v,C]:n.value=null}),watch(n,v=>{v&&v.length===2?(c.value=v[0],l.value=v[1]):(c.value="",l.value="")});const _=computed(()=>e.aiTradingRecords||[]),k=computed(()=>{let v=_.value;if(o.value&&(v=v.filter(C=>C.type===o.value)),a.value&&(v=v.filter(C=>C.status===a.value)),n.value&&n.value.length===2){const[C,T]=n.value;v=v.filter(D=>{const B=new Date(D.createdAt).toISOString().split("T")[0];return B>=C&&B<=T})}if(r.value){const C=r.value.toLowerCase();v=v.filter(T=>T.stockInfo.name.toLowerCase().includes(C)||T.stockInfo.code.toLowerCase().includes(C))}return v.sort((C,T)=>new Date(T.createdAt)-new Date(C.createdAt))}),S=computed(()=>{const v=(d.value-1)*m.value,C=v+m.value;return k.value.slice(v,C)}),g=computed(()=>k.value.filter(v=>v.status==="completed").length),N=computed(()=>k.value.filter(v=>v.status==="pending").length),f=computed(()=>k.value.filter(v=>v.profit!==void 0).reduce((v,C)=>v+C.profit,0)),E=()=>{o.value="",a.value="",n.value=null,r.value="",d.value=1},b=v=>({pending:"待成交",completed:"已成交",cancelled:"已撤单",failed:"交易失败"})[v]||v,y=v=>{const C=new Date(v),D=new Date-C,B=Math.floor(D/(1e3*60*60*24));return B===0?"今天 "+C.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):B===1?"昨天 "+C.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):B<7?B+"天前":C.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},$=v=>{console.log("查看记录详情:",v)},w=async(v,C)=>{switch(v){case"view":$(C);break;case"cancel":await x(C.id);break}},x=v=>{e.cancelAITradingOrder(v)?ElMessage.success("撤单成功"):ElMessage.error("撤单失败")};return(v,C)=>{const T=resolveComponent("el-option"),D=resolveComponent("el-select"),B=resolveComponent("el-date-picker"),I=resolveComponent("el-icon"),L=resolveComponent("el-input"),U=resolveComponent("el-tag"),Y=resolveComponent("el-dropdown-item"),se=resolveComponent("el-dropdown-menu"),J=resolveComponent("el-dropdown"),M=resolveComponent("el-pagination");return openBlock(),createElementBlock("div",_hoisted_1$n,[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("div",_hoisted_3$l,[createBaseVNode("div",_hoisted_4$k,[C[11]||(C[11]=createBaseVNode("label",{class:"filter-label"},"交易类型",-1)),s.value?withDirectives((openBlock(),createElementBlock("select",{key:1,"onUpdate:modelValue":C[1]||(C[1]=R=>o.value=R),class:"mobile-select"},C[10]||(C[10]=[createBaseVNode("option",{value:""},"全部类型",-1),createBaseVNode("option",{value:"buy"},"买入",-1),createBaseVNode("option",{value:"sell"},"卖出",-1)]),512)),[[vModelSelect,o.value]]):(openBlock(),createBlock(D,{key:0,modelValue:o.value,"onUpdate:modelValue":C[0]||(C[0]=R=>o.value=R),placeholder:"交易类型",clearable:"",size:"small",class:"filter-select"},{default:withCtx(()=>[createVNode(T,{label:"全部类型",value:""}),createVNode(T,{label:"买入",value:"buy"}),createVNode(T,{label:"卖出",value:"sell"})]),_:1},8,["modelValue"]))]),createBaseVNode("div",_hoisted_5$j,[C[13]||(C[13]=createBaseVNode("label",{class:"filter-label"},"交易状态",-1)),s.value?withDirectives((openBlock(),createElementBlock("select",{key:1,"onUpdate:modelValue":C[3]||(C[3]=R=>a.value=R),class:"mobile-select"},C[12]||(C[12]=[createStaticVNode('<option value="" data-v-b0d4278b>全部状态</option><option value="pending" data-v-b0d4278b>待成交</option><option value="completed" data-v-b0d4278b>已成交</option><option value="cancelled" data-v-b0d4278b>已撤单</option><option value="failed" data-v-b0d4278b>交易失败</option>',5)]),512)),[[vModelSelect,a.value]]):(openBlock(),createBlock(D,{key:0,modelValue:a.value,"onUpdate:modelValue":C[2]||(C[2]=R=>a.value=R),placeholder:"交易状态",clearable:"",size:"small",class:"filter-select"},{default:withCtx(()=>[createVNode(T,{label:"全部状态",value:""}),createVNode(T,{label:"待成交",value:"pending"}),createVNode(T,{label:"已成交",value:"completed"}),createVNode(T,{label:"已撤单",value:"cancelled"}),createVNode(T,{label:"交易失败",value:"failed"})]),_:1},8,["modelValue"]))]),createBaseVNode("div",_hoisted_6$i,[C[15]||(C[15]=createBaseVNode("label",{class:"filter-label"},"时间范围",-1)),s.value?(openBlock(),createElementBlock("div",_hoisted_7$h,[withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":C[5]||(C[5]=R=>c.value=R),class:"mobile-date-input",placeholder:"开始日期"},null,512),[[vModelText,c.value]]),C[14]||(C[14]=createBaseVNode("span",{class:"date-separator"},"至",-1)),withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":C[6]||(C[6]=R=>l.value=R),class:"mobile-date-input",placeholder:"结束日期"},null,512),[[vModelText,l.value]])])):(openBlock(),createBlock(B,{key:0,modelValue:n.value,"onUpdate:modelValue":C[4]||(C[4]=R=>n.value=R),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",class:"filter-date"},null,8,["modelValue"]))]),createBaseVNode("div",_hoisted_8$g,[C[16]||(C[16]=createBaseVNode("label",{class:"filter-label"},"股票搜索",-1)),createVNode(L,{modelValue:r.value,"onUpdate:modelValue":C[7]||(C[7]=R=>r.value=R),placeholder:"搜索股票名称或代码",size:"small",clearable:"",class:"filter-search"},{prefix:withCtx(()=>[createVNode(I,null,{default:withCtx(()=>[createVNode(unref(search_default))]),_:1})]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_9$g,[createVNode(unref(ElButton),{onClick:E,class:"pc-filter-btn"},{default:withCtx(()=>C[17]||(C[17]=[createTextVNode("重置")])),_:1,__:[17]})])])]),k.value.length>0?(openBlock(),createElementBlock("div",_hoisted_10$g,[createBaseVNode("div",_hoisted_11$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(S.value,R=>(openBlock(),createElementBlock("div",{key:R.id,class:"record-card",onClick:P=>$(R)},[createBaseVNode("div",_hoisted_13$e,[createBaseVNode("div",_hoisted_14$c,[createVNode(U,{type:R.type==="buy"?"danger":"success",size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString(R.type==="buy"?"买入":"卖出"),1)]),_:2},1032,["type"])]),createBaseVNode("div",{class:"record-actions",onClick:C[8]||(C[8]=withModifiers(()=>{},["stop"]))},[createVNode(J,{onCommand:P=>w(P,R)},{dropdown:withCtx(()=>[createVNode(se,null,{default:withCtx(()=>[createVNode(Y,{command:"view"},{default:withCtx(()=>C[18]||(C[18]=[createTextVNode("查看详情")])),_:1,__:[18]}),R.status==="pending"?(openBlock(),createBlock(Y,{key:0,command:"cancel",divided:""},{default:withCtx(()=>C[19]||(C[19]=[createTextVNode("撤单")])),_:1,__:[19]})):createCommentVNode("",!0)]),_:2},1024)]),default:withCtx(()=>[createVNode(unref(ElButton),{size:"small",text:""},{default:withCtx(()=>[createVNode(I,null,{default:withCtx(()=>[createVNode(unref(more_default))]),_:1})]),_:1})]),_:2},1032,["onCommand"])])]),createBaseVNode("div",_hoisted_15$c,[createBaseVNode("h4",_hoisted_16$c,toDisplayString(R.stockInfo.name)+"("+toDisplayString(R.stockInfo.code)+")",1),createBaseVNode("div",_hoisted_17$c,[createBaseVNode("div",_hoisted_18$b,[C[20]||(C[20]=createBaseVNode("span",{class:"label"},"数量：",-1)),createBaseVNode("span",_hoisted_19$b,toDisplayString(R.quantity)+"股",1)]),createBaseVNode("div",_hoisted_20$b,[C[21]||(C[21]=createBaseVNode("span",{class:"label"},"预期价格：",-1)),createBaseVNode("span",_hoisted_21$a,"¥"+toDisplayString(R.expectedPrice),1)]),createBaseVNode("div",_hoisted_22$a,[C[22]||(C[22]=createBaseVNode("span",{class:"label"},"总金额：",-1)),createBaseVNode("span",_hoisted_23$a,"¥"+toDisplayString(R.totalAmount.toLocaleString()),1)]),R.profit!==void 0?(openBlock(),createElementBlock("div",_hoisted_24$a,[C[23]||(C[23]=createBaseVNode("span",{class:"label"},"盈亏：",-1)),createBaseVNode("span",{class:normalizeClass(["value",{profit:R.profit>0,loss:R.profit<0}])},toDisplayString(R.profit>0?"+":"")+"¥"+toDisplayString(R.profit),3)])):createCommentVNode("",!0)]),R.analysis?(openBlock(),createElementBlock("div",_hoisted_25$9,toDisplayString(R.analysis),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_26$9,[createBaseVNode("div",{class:normalizeClass(["record-status",R.status])},[createVNode(I,{class:"status-icon"},{default:withCtx(()=>[R.status==="completed"?(openBlock(),createBlock(unref(circle_check_default),{key:0})):R.status==="pending"?(openBlock(),createBlock(unref(clock_default),{key:1})):R.status==="cancelled"?(openBlock(),createBlock(unref(circle_close_default),{key:2})):(openBlock(),createBlock(unref(warning_default),{key:3}))]),_:2},1024),createTextVNode(" "+toDisplayString(b(R.status)),1)],2),createBaseVNode("div",_hoisted_27$9,toDisplayString(y(R.createdAt)),1)])],8,_hoisted_12$e))),128))])])):createCommentVNode("",!0),k.value.length>m.value?(openBlock(),createElementBlock("div",_hoisted_28$9,[createVNode(M,{"current-page":d.value,"onUpdate:currentPage":C[9]||(C[9]=R=>d.value=R),"page-size":m.value,total:k.value.length,layout:"total, prev, pager, next, jumper",small:""},null,8,["current-page","page-size","total"])])):createCommentVNode("",!0),k.value.length===0?(openBlock(),createElementBlock("div",_hoisted_29$8,[C[24]||(C[24]=createBaseVNode("div",{class:"empty-icon"},[createBaseVNode("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",stroke:"#d1d5db","stroke-width":"2"})])],-1)),createBaseVNode("div",_hoisted_30$8,[createBaseVNode("h3",null,toDisplayString(_.value.length===0?"暂无AI委托交易记录":"暂无符合条件的记录"),1),createBaseVNode("p",null,toDisplayString(_.value.length===0?"您的AI委托交易记录将在这里显示":"请尝试调整筛选条件"),1)])])):createCommentVNode("",!0),k.value.length>0?(openBlock(),createElementBlock("div",_hoisted_31$8,[createBaseVNode("div",_hoisted_32$8,[C[25]||(C[25]=createBaseVNode("div",{class:"stat-label"},"总交易次数",-1)),createBaseVNode("div",_hoisted_33$8,toDisplayString(k.value.length),1)]),createBaseVNode("div",_hoisted_34$8,[C[26]||(C[26]=createBaseVNode("div",{class:"stat-label"},"成功交易",-1)),createBaseVNode("div",_hoisted_35$7,toDisplayString(g.value),1)]),createBaseVNode("div",_hoisted_36$7,[C[27]||(C[27]=createBaseVNode("div",{class:"stat-label"},"待成交",-1)),createBaseVNode("div",_hoisted_37$7,toDisplayString(N.value),1)]),createBaseVNode("div",_hoisted_38$7,[C[28]||(C[28]=createBaseVNode("div",{class:"stat-label"},"总盈亏",-1)),createBaseVNode("div",{class:normalizeClass(["stat-value",{profit:f.value>0,loss:f.value<0}])},toDisplayString(f.value>0?"+":"")+"¥"+toDisplayString(f.value.toFixed(2)),3)])])):createCommentVNode("",!0)])}}},AITradingRecords=_export_sfc(_sfc_main$n,[["__scopeId","data-v-b0d4278b"]]),_hoisted_1$m={key:0,class:"records-center-overlay"},_hoisted_2$k={class:"records-center"},_hoisted_3$k={class:"records-close"},_hoisted_4$j={class:"records-tabs"},_hoisted_5$i={class:"tab-nav"},_hoisted_6$h={key:0,class:"count-badge"},_hoisted_7$g={key:0,class:"count-badge"},_hoisted_8$f={key:0,class:"count-badge"},_hoisted_9$f={class:"records-content"},_hoisted_10$f={class:"tab-panel"},_hoisted_11$d={class:"tab-panel"},_hoisted_12$d={class:"tab-panel"},_hoisted_13$d={class:"mobile-records-header"},_hoisted_14$b={class:"header-title-bar"},_hoisted_15$b={class:"mobile-tabs"},_hoisted_16$b={class:"mobile-tab-nav"},_hoisted_17$b={key:0,class:"mobile-count-badge"},_hoisted_18$a={key:0,class:"mobile-count-badge"},_hoisted_19$a={key:0,class:"mobile-count-badge"},_hoisted_20$a={class:"filter-toggle-btn"},_hoisted_21$9={class:"mobile-records-content"},_hoisted_22$9={class:"mobile-tab-panel"},_hoisted_23$9={class:"mobile-tab-panel"},_hoisted_24$9={class:"mobile-tab-panel"},_sfc_main$m={__name:"RecordsCenter",emits:["close"],setup(t,{emit:e}){const s=useUserStore(),o=computed(()=>typeof window>"u"?!1:window.innerWidth<=768),a=ref("reports"),n=ref(!1),r=()=>{n.value=!n.value},d=computed(()=>{var l;return((l=s.quantAnalysisReports)==null?void 0:l.length)||0}),m=computed(()=>{var l;return((l=s.smartPointsTransactions)==null?void 0:l.length)||0}),c=computed(()=>{var l;return((l=s.aiTradingRecords)==null?void 0:l.length)||0});return(l,_)=>{const k=resolveComponent("el-icon"),S=resolveComponent("el-button");return o.value?(openBlock(),createElementBlock("div",{key:1,class:"mobile-records-overlay",onClick:_[9]||(_[9]=g=>l.$emit("close")),"data-scrollable":""},[createBaseVNode("div",{class:normalizeClass(["mobile-records-container",{"filters-expanded":n.value}]),onClick:_[8]||(_[8]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_13$d,[_[18]||(_[18]=createBaseVNode("div",{class:"header-drag-handle"},null,-1)),createBaseVNode("div",_hoisted_14$b,[_[17]||(_[17]=createBaseVNode("h3",null,"记录中心",-1)),createBaseVNode("button",{class:"mobile-close-btn",onClick:_[4]||(_[4]=g=>l.$emit("close"))},[createVNode(k,null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})])]),_[19]||(_[19]=createBaseVNode("p",{class:"header-subtitle"},"管理您的分析报告、消费记录和交易记录",-1))]),createBaseVNode("div",_hoisted_15$b,[createBaseVNode("div",_hoisted_16$b,[createBaseVNode("div",{class:normalizeClass(["mobile-tab-item",{active:a.value==="reports"}]),onClick:_[5]||(_[5]=g=>a.value="reports")},[_[20]||(_[20]=createStaticVNode('<div class="tab-icon" data-v-fe315fbd><svg width="14" height="14" viewBox="0 0 24 24" fill="none" data-v-fe315fbd><path d="M3 3v18h18" stroke="currentColor" stroke-width="2" data-v-fe315fbd></path><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3" stroke="currentColor" stroke-width="2" fill="none" data-v-fe315fbd></path></svg></div><span class="tab-text" data-v-fe315fbd>分析报告</span>',2)),d.value>0?(openBlock(),createElementBlock("span",_hoisted_17$b,toDisplayString(d.value),1)):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["mobile-tab-item",{active:a.value==="points"}]),onClick:_[6]||(_[6]=g=>a.value="points")},[_[21]||(_[21]=createStaticVNode('<div class="tab-icon" data-v-fe315fbd><svg width="14" height="14" viewBox="0 0 24 24" fill="none" data-v-fe315fbd><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" data-v-fe315fbd></circle><path d="M16 8l-4 4-4-4" stroke="currentColor" stroke-width="2" fill="none" data-v-fe315fbd></path></svg></div><span class="tab-text" data-v-fe315fbd>智点记录</span>',2)),m.value>0?(openBlock(),createElementBlock("span",_hoisted_18$a,toDisplayString(m.value),1)):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["mobile-tab-item",{active:a.value==="trading"}]),onClick:_[7]||(_[7]=g=>a.value="trading")},[_[22]||(_[22]=createBaseVNode("div",{class:"tab-icon"},[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",stroke:"currentColor","stroke-width":"2"})])],-1)),_[23]||(_[23]=createBaseVNode("span",{class:"tab-text"},"交易记录",-1)),c.value>0?(openBlock(),createElementBlock("span",_hoisted_19$a,toDisplayString(c.value),1)):createCommentVNode("",!0)],2)])]),createBaseVNode("div",{class:"mobile-filter-toggle",onClick:r},[createBaseVNode("button",_hoisted_20$a,[_[24]||(_[24]=createTextVNode(" 筛选 ")),createBaseVNode("span",{class:normalizeClass(["filter-toggle-icon",{expanded:n.value}])},"▼",2)])]),createBaseVNode("div",_hoisted_21$9,[withDirectives(createBaseVNode("div",_hoisted_22$9,[createVNode(QuantAnalysisReports)],512),[[vShow,a.value==="reports"]]),withDirectives(createBaseVNode("div",_hoisted_23$9,[createVNode(SmartPointsRecords)],512),[[vShow,a.value==="points"]]),withDirectives(createBaseVNode("div",_hoisted_24$9,[createVNode(AITradingRecords)],512),[[vShow,a.value==="trading"]])])],2)])):(openBlock(),createElementBlock("div",_hoisted_1$m,[createBaseVNode("div",_hoisted_2$k,[createBaseVNode("div",_hoisted_3$k,[createVNode(S,{type:"text",onClick:_[0]||(_[0]=g=>l.$emit("close")),class:"close-btn"},{default:withCtx(()=>[createVNode(k,{size:"20"},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})]),_:1})]),_[16]||(_[16]=createStaticVNode('<div class="records-header" data-v-fe315fbd><div class="header-background" data-v-fe315fbd></div><div class="header-content" data-v-fe315fbd><div class="header-icon" data-v-fe315fbd><svg width="32" height="32" viewBox="0 0 24 24" fill="none" data-v-fe315fbd><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2" fill="none" data-v-fe315fbd></path><polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" fill="none" data-v-fe315fbd></polyline><line x1="16" y1="13" x2="8" y2="13" stroke="currentColor" stroke-width="2" data-v-fe315fbd></line><line x1="16" y1="17" x2="8" y2="17" stroke="currentColor" stroke-width="2" data-v-fe315fbd></line><polyline points="10,9 9,9 8,9" stroke="currentColor" stroke-width="2" data-v-fe315fbd></polyline></svg></div><div class="header-info" data-v-fe315fbd><h2 data-v-fe315fbd>记录中心</h2><p data-v-fe315fbd>管理您的分析报告、消费记录和交易记录</p></div></div></div>',1)),createBaseVNode("div",_hoisted_4$j,[createBaseVNode("div",_hoisted_5$i,[createBaseVNode("div",{class:normalizeClass(["tab-item",{active:a.value==="reports"}]),onClick:_[1]||(_[1]=g=>a.value="reports")},[_[10]||(_[10]=createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M3 3v18h18",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"M18.7 8l-5.1 5.2-2.8-2.7L7 14.3",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1)),_[11]||(_[11]=createTextVNode(" 量化分析报告 ")),d.value>0?(openBlock(),createElementBlock("span",_hoisted_6$h,toDisplayString(d.value),1)):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:a.value==="points"}]),onClick:_[2]||(_[2]=g=>a.value="points")},[_[12]||(_[12]=createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"M16 8l-4 4-4-4",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1)),_[13]||(_[13]=createTextVNode(" 智点记录 ")),m.value>0?(openBlock(),createElementBlock("span",_hoisted_7$g,toDisplayString(m.value),1)):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:a.value==="trading"}]),onClick:_[3]||(_[3]=g=>a.value="trading")},[_[14]||(_[14]=createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",stroke:"currentColor","stroke-width":"2"})],-1)),_[15]||(_[15]=createTextVNode(" AI委托交易记录 ")),c.value>0?(openBlock(),createElementBlock("span",_hoisted_8$f,toDisplayString(c.value),1)):createCommentVNode("",!0)],2)])]),createBaseVNode("div",_hoisted_9$f,[withDirectives(createBaseVNode("div",_hoisted_10$f,[createVNode(QuantAnalysisReports)],512),[[vShow,a.value==="reports"]]),withDirectives(createBaseVNode("div",_hoisted_11$d,[createVNode(SmartPointsRecords)],512),[[vShow,a.value==="points"]]),withDirectives(createBaseVNode("div",_hoisted_12$d,[createVNode(AITradingRecords)],512),[[vShow,a.value==="trading"]])])])]))}}},RecordsCenter=_export_sfc(_sfc_main$m,[["__scopeId","data-v-fe315fbd"]]),riskOptions=[{value:"conservative",title:"求稳型",desc:"像存银行一样稳，但收益比存款高一点",simpleDesc:"投1万元，一年大概赚300-600元",maxLoss:"最多亏500元",examples:"大银行股票（工商银行、建设银行）",maxDrawdown:"5%",expectedReturn:"3-6%",riskLevel:1,icon:"🛡️"},{value:"stable",title:"稳健型",desc:"选择知名大公司，收益稳定有保障",simpleDesc:"投1万元，一年大概赚600-1000元",maxLoss:"最多亏1000元",examples:"知名品牌（茅台、招商银行、美的）",maxDrawdown:"10%",expectedReturn:"6-10%",riskLevel:2,icon:"🏦"},{value:"balanced",title:"均衡型",desc:"稳健和成长兼顾，适合大多数人",simpleDesc:"投1万元，一年大概赚1000-1500元",maxLoss:"最多亏1500元",examples:"优质公司组合（银行+白酒+新能源）",maxDrawdown:"15%",expectedReturn:"10-15%",riskLevel:3,icon:"⚖️"},{value:"growth",title:"成长型",desc:"追求更高收益，选择有潜力的公司",simpleDesc:"投1万元，一年大概赚1500-2500元",maxLoss:"最多亏2000元",examples:"热门科技股（比亚迪、宁德时代）",maxDrawdown:"20%",expectedReturn:"15-25%",riskLevel:4,icon:"🚀"},{value:"aggressive",title:"进取型",desc:"追求最高收益，但风险也最大",simpleDesc:"投1万元，一年可能赚2500元以上",maxLoss:"可能亏3000元以上",examples:"新兴小公司股票（创业板、科创板）",maxDrawdown:"30%+",expectedReturn:"25%+",riskLevel:5,icon:"⚡"}],experienceOptions=[{id:"beginner",value:1,title:"投资新手",label:"我是投资新手，想稳步学习",desc:"刚开始接触投资，希望从简单稳健的方式开始",icon:"🌱"},{id:"experienced",value:2,title:"有投资经验",label:"我有一定投资经验，可以承担风险",desc:"已经有过投资经历，了解市场波动，能接受一定风险",icon:"📈"}],userTraits=[{id:"risk_tolerance",title:"风险承受",desc:"您能接受多大的投资波动？",icon:"🛡️",options:[{value:1,label:"1分",desc:"完全不能接受亏损，只要保本"},{value:2,label:"2分",desc:"可接受很小的波动，亏损不超过5%"},{value:3,label:"3分",desc:"可接受适度波动，亏损不超过15%"},{value:4,label:"4分",desc:"可接受较大波动，亏损不超过25%"},{value:5,label:"5分",desc:"可接受高风险，亏损超过30%也能承受"}],defaultValue:3},{id:"active_participation",title:"主动参与",desc:"您希望多深度参与投资决策？",icon:"🎯",options:[{value:1,label:"1分",desc:"完全不想管，全部交给专业人士"},{value:2,label:"2分",desc:"偶尔关注，主要听专业建议"},{value:3,label:"3分",desc:"适度参与，听建议但自己决定"},{value:4,label:"4分",desc:"积极参与，自己研究后做决策"},{value:5,label:"5分",desc:"完全主导，所有决策都自己做"}],defaultValue:3},{id:"learning_willingness",title:"学习意愿",desc:"您愿意花多少时间学习投资？",icon:"📚",options:[{value:1,label:"1分",desc:"完全没时间学习投资知识"},{value:2,label:"2分",desc:"偶尔看看新闻，了解大概"},{value:3,label:"3分",desc:"定期看资讯，学习基础知识"},{value:4,label:"4分",desc:"主动学习，研究投资策略"},{value:5,label:"5分",desc:"深度学习，钻研各种投资理论"}],defaultValue:3},{id:"strategy_dependency",title:"策略复杂度",desc:"您更倾向于哪种投资策略？",icon:"📊",options:[{value:1,label:"1分",desc:"最简单策略，买了就长期持有"},{value:2,label:"2分",desc:"简单策略，偶尔调整持仓"},{value:3,label:"3分",desc:"中等策略，定期优化投资组合"},{value:4,label:"4分",desc:"复杂策略，使用多种投资工具"},{value:5,label:"5分",desc:"高级策略，运用各种量化模型"}],defaultValue:2},{id:"trading_frequency",title:"交易频次",desc:"您计划多久调整一次投资？",icon:"⏰",options:[{value:1,label:"1分",desc:"很少交易，半年以上才调整"},{value:2,label:"2分",desc:"低频交易，2-3个月调整一次"},{value:3,label:"3分",desc:"中频交易，每月都会看看调整"},{value:4,label:"4分",desc:"高频交易，每周都关注调整"},{value:5,label:"5分",desc:"超高频，几乎每天都在交易"}],defaultValue:2},{id:"innovation_trial",title:"创新接受度",desc:"您对新的投资产品态度如何？",icon:"🚀",options:[{value:1,label:"1分",desc:"非常保守，只投最传统的产品"},{value:2,label:"2分",desc:"比较保守，只投成熟稳定的产品"},{value:3,label:"3分",desc:"适度开放，了解清楚后会尝试"},{value:4,label:"4分",desc:"比较开放，愿意尝试新兴产品"},{value:5,label:"5分",desc:"非常开放，积极尝试各种新产品"}],defaultValue:3}],majorSectors=[{value:"technology",label:"科技板块",icon:"💻",desc:"包含互联网、软件、硬件、人工智能等科技相关行业",color:"#3b82f6"},{value:"finance",label:"金融板块",icon:"🏦",desc:"包含银行、保险、证券、支付等金融服务行业",color:"#10b981"},{value:"consumer",label:"消费板块",icon:"🛍️",desc:"包含食品饮料、服装、家电、零售等消费相关行业",color:"#f59e0b"},{value:"healthcare",label:"医疗板块",icon:"🏥",desc:"包含医药、医疗器械、生物技术等医疗健康行业",color:"#ef4444"},{value:"industrial",label:"工业板块",icon:"🏭",desc:"包含制造业、基建、能源、材料等传统工业行业",color:"#8b5cf6"},{value:"emerging",label:"新兴板块",icon:"🚀",desc:"包含新能源、环保、军工等新兴产业",color:"#06b6d4"}],subSectors=[{value:"internet",label:"互联网",parent:"technology",icon:"🌐",desc:"电商、社交、搜索、云计算等",examples:"腾讯控股、阿里巴巴、百度"},{value:"software",label:"软件服务",parent:"technology",icon:"💾",desc:"企业软件、安全软件、游戏等",examples:"用友网络、恒生电子、三六零"},{value:"hardware",label:"电子硬件",parent:"technology",icon:"🔌",desc:"半导体、消费电子、通信设备等",examples:"中芯国际、立讯精密、海康威视"},{value:"ai",label:"人工智能",parent:"technology",icon:"🤖",desc:"AI芯片、机器学习、自动驾驶等",examples:"科大讯飞、寒武纪、四维图新"},{value:"chip",label:"芯片",parent:"technology",icon:"🧩",desc:"芯片",examples:"中芯国际、北方华创、长电科技"},{value:"banking",label:"银行",parent:"finance",icon:"🏛️",desc:"国有银行、股份制银行、城商行等",examples:"招商银行、平安银行、兴业银行"},{value:"insurance",label:"保险",parent:"finance",icon:"🛡️",desc:"人寿保险、财产保险等",examples:"中国平安、中国人寿、新华保险"},{value:"securities",label:"证券",parent:"finance",icon:"📊",desc:"证券公司、期货公司等",examples:"中信证券、华泰证券、东方财富"},{value:"food_beverage",label:"食品饮料",parent:"consumer",icon:"🍷",desc:"白酒、饮料、食品加工等",examples:"贵州茅台、五粮液、伊利股份"},{value:"retail",label:"零售",parent:"consumer",icon:"🏪",desc:"超市、百货、电商零售等",examples:"永辉超市、苏宁易购、王府井"},{value:"appliances",label:"家电",parent:"consumer",icon:"📺",desc:"白色家电、黑色家电等",examples:"美的集团、格力电器、海尔智家"},{value:"pharma",label:"医药制造",parent:"healthcare",icon:"💊",desc:"化学药、中药、生物药等",examples:"恒瑞医药、云南白药、片仔癀"},{value:"medical_devices",label:"医疗器械",parent:"healthcare",icon:"🩺",desc:"医疗设备、体外诊断等",examples:"迈瑞医疗、鱼跃医疗、乐普医疗"},{value:"manufacturing",label:"先进制造",parent:"industrial",icon:"⚙️",desc:"机械设备、精密制造等",examples:"三一重工、中联重科、徐工机械"},{value:"materials",label:"基础材料",parent:"industrial",icon:"🏗️",desc:"钢铁、有色金属、化工等",examples:"宝钢股份、紫金矿业、万华化学"},{value:"infrastructure",label:"基础设施",parent:"industrial",icon:"🌉",desc:"建筑、交通、公用事业等",examples:"中国建筑、中国中铁、长江电力"},{value:"new_energy",label:"新能源",parent:"emerging",icon:"🔋",desc:"光伏、风电、储能、新能源车等",examples:"宁德时代、比亚迪、隆基绿能"},{value:"environmental",label:"环保",parent:"emerging",icon:"🌱",desc:"污水处理、固废处理、大气治理等",examples:"碧水源、启迪环境、龙净环保"},{value:"military",label:"军工",parent:"emerging",icon:"🛡️",desc:"军工装备、航空航天等",examples:"中航沈飞、航发动力、中直股份"}],_hoisted_1$l={class:"preferences-form-container"},_hoisted_2$j={key:0,class:"step-content","data-step":"0"},_hoisted_3$j={class:"step-title"},_hoisted_4$i={class:"step-desc"},_hoisted_5$h={class:"step-content-scrollable"},_hoisted_6$g={class:"experience-options"},_hoisted_7$f=["onClick"],_hoisted_8$e={class:"option-radio"},_hoisted_9$e={class:"experience-content"},_hoisted_10$e={class:"experience-header"},_hoisted_11$c={class:"experience-icon"},_hoisted_12$c={class:"experience-title"},_hoisted_13$c={class:"experience-label"},_hoisted_14$a={class:"experience-desc"},_hoisted_15$a={key:1,class:"step-content","data-step":"1"},_hoisted_16$a={class:"step-title"},_hoisted_17$a={class:"step-desc"},_hoisted_18$9={class:"step-content-scrollable"},_hoisted_19$9={class:"risk-options"},_hoisted_20$9=["onClick"],_hoisted_21$8={class:"option-radio"},_hoisted_22$8={class:"option-content"},_hoisted_23$8={class:"option-header"},_hoisted_24$8={class:"option-title"},_hoisted_25$8={class:"option-icon"},_hoisted_26$8={class:"risk-level-indicator"},_hoisted_27$8={class:"option-desc"},_hoisted_28$8={class:"simple-desc"},_hoisted_29$7={class:"option-metrics"},_hoisted_30$7={class:"metric-item"},_hoisted_31$7={class:"metric-value return"},_hoisted_32$7={class:"metric-item"},_hoisted_33$7={class:"metric-value loss"},_hoisted_34$7={class:"option-examples"},_hoisted_35$6={class:"examples-text"},_hoisted_36$6={key:2,class:"step-content","data-step":"2"},_hoisted_37$6={class:"step-title"},_hoisted_38$6={class:"step-desc"},_hoisted_39$5={class:"step-content-scrollable"},_hoisted_40$5={class:"traits-container"},_hoisted_41$4={class:"traits-list"},_hoisted_42$4={class:"trait-header-compact"},_hoisted_43$4={class:"trait-left"},_hoisted_44$4={class:"trait-icon"},_hoisted_45$4={class:"trait-info"},_hoisted_46$4={class:"trait-title"},_hoisted_47$3={class:"trait-desc"},_hoisted_48$3={class:"trait-current-value"},_hoisted_49$3={class:"trait-slider-container"},_hoisted_50$3={class:"slider-track"},_hoisted_51$3={class:"slider-options"},_hoisted_52$3=["onClick","title"],_hoisted_53$3={class:"option-label"},_hoisted_54$3={class:"trait-description"},_hoisted_55$3={key:3,class:"step-content","data-step":"3"},_hoisted_56$3={class:"step-title"},_hoisted_57$3={class:"step-desc"},_hoisted_58$3={class:"step-content-scrollable"},_hoisted_59$3={class:"sectors-container-compact"},_hoisted_60$3={class:"sectors-header"},_hoisted_61$3={class:"search-section"},_hoisted_62$3={class:"stats-section"},_hoisted_63$3={class:"stat-chip"},_hoisted_64$3={class:"stat-chip"},_hoisted_65$3={class:"sectors-content"},_hoisted_66$3={key:0,class:"search-mode"},_hoisted_67$3={class:"search-header"},_hoisted_68$3={class:"search-grid"},_hoisted_69$3=["onClick"],_hoisted_70$2={class:"card-icon"},_hoisted_71$2={class:"card-content"},_hoisted_72$2=["innerHTML"],_hoisted_73$2=["innerHTML"],_hoisted_74$2={class:"card-parent"},_hoisted_75$2={key:0,class:"card-check"},_hoisted_76$2={key:0,class:"no-results"},_hoisted_77$2={key:1,class:"selection-mode"},_hoisted_78$1={key:0,class:"desktop-layout"},_hoisted_79$1={class:"left-panel"},_hoisted_80$1={class:"major-grid-desktop"},_hoisted_81$1=["onClick"],_hoisted_82$1={class:"major-icon"},_hoisted_83$1={class:"major-name"},_hoisted_84$1={key:0,class:"major-check"},_hoisted_85$1={class:"right-panel"},_hoisted_86$1={key:0,class:"sub-grid-desktop"},_hoisted_87$1={class:"group-header-desktop"},_hoisted_88$1={class:"sub-cards-desktop"},_hoisted_89$1=["onClick"],_hoisted_90$1={class:"sub-icon"},_hoisted_91={class:"sub-name"},_hoisted_92={key:0,class:"sub-check"},_hoisted_93={key:1,class:"selection-hint-desktop"},_hoisted_94={key:1,class:"mobile-layout"},_hoisted_95={class:"major-section"},_hoisted_96={class:"major-grid"},_hoisted_97=["onClick"],_hoisted_98={class:"major-icon"},_hoisted_99={class:"major-name"},_hoisted_100={key:0,class:"major-check"},_hoisted_101={key:0,class:"sub-section"},_hoisted_102={class:"group-header"},_hoisted_103={class:"sub-cards"},_hoisted_104=["onClick"],_hoisted_105={class:"sub-icon"},_hoisted_106={class:"sub-name"},_hoisted_107={key:0,class:"sub-check"},_hoisted_108={key:0,class:"selection-hint"},_hoisted_109={key:4,class:"action-buttons"},_sfc_main$l={__name:"InvestmentPreferencesForm",props:{currentStep:{type:Number,required:!0},preferencesForm:{type:Object,required:!0},showActions:{type:Boolean,default:!1}},emits:["update:preferencesForm","previous","next","complete"],setup(t,{emit:e}){const s=t,o=e,a=ref(""),n=ref([]),r=ref(window.innerWidth),d=computed(()=>r.value<768),m=computed(()=>r.value>=768&&r.value<1024);useUserStore();const c=reactive({riskLevel:"",experience:"",userTraits:{risk_tolerance:3,active_participation:3,learning_willingness:3,strategy_dependency:2,trading_frequency:2,innovation_trial:3},sectors:{majorCategories:[],subCategories:[]}});watch(()=>s.preferencesForm,T=>{Object.assign(c,T)},{deep:!0,immediate:!0}),watch(c,T=>{o("update:preferencesForm",T)},{deep:!0});const l=[{title:"投资经验",desc:"告诉我们您的投资经验，帮助我们推荐合适的投资方案"},{title:"选择投资风格",desc:"您希望投资收益高一些，还是稳一些？选择最适合您的投资方式"},{title:"用户特征",desc:"帮助我们了解您的投资偏好，为您量身定制投资方案"},{title:"关注板块",desc:"请选择您关注的投资板块（可多选）"}],_=computed(()=>{switch(s.currentStep){case 0:return!!c.experience;case 1:return!!c.riskLevel;case 2:return!0;case 3:return c.sectors.subCategories.length>0;default:return!1}}),k=computed(()=>s.currentStep===l.length-1);function S(){o("previous")}function g(){_.value&&(k.value?o("complete"):o("next"))}const N=computed(()=>subSectors.filter(T=>c.sectors.majorCategories.includes(T.parent))),f=computed(()=>{const T={};return N.value.forEach(D=>{T[D.parent]||(T[D.parent]={major:D.parent,sectors:[]}),T[D.parent].sectors.push(D)}),Object.values(T)}),E=T=>{const D=userTraits.find(L=>L.id===T);if(!D)return"";const B=c.userTraits[T],I=D.options.find(L=>L.value===B);return I?I.desc:""},b=T=>{const D=c.sectors.majorCategories.indexOf(T);if(D>-1){c.sectors.majorCategories.splice(D,1);const B=subSectors.filter(I=>I.parent===T).map(I=>I.value);c.sectors.subCategories=c.sectors.subCategories.filter(I=>!B.includes(I))}else c.sectors.majorCategories.length<2&&c.sectors.majorCategories.push(T)},y=T=>{const D=c.sectors.subCategories.indexOf(T);D>-1?c.sectors.subCategories.splice(D,1):c.sectors.subCategories.length<4&&c.sectors.subCategories.push(T)},$=T=>{const D=majorSectors.find(B=>B.value===T);return D?D.label:""},w=()=>{if(!a.value.trim()){n.value=[];return}const T=a.value.toLowerCase().trim();n.value=subSectors.filter(D=>D.label.toLowerCase().includes(T)||D.desc.toLowerCase().includes(T)||D.examples.toLowerCase().includes(T))},x=T=>{if(!a.value.trim())return T;const D=a.value.trim(),B=new RegExp(`(${D})`,"gi");return T.replace(B,'<mark class="search-highlight">$1</mark>')},v=T=>{if(!c.sectors.majorCategories.includes(T.parent))if(c.sectors.majorCategories.length<2)c.sectors.majorCategories.push(T.parent);else{ElMessage.warning("请先移除一个大分类，再选择此细分行业");return}y(T.value)},C=()=>{r.value=window.innerWidth};return onMounted(()=>{window.addEventListener("resize",C)}),onUnmounted(()=>{window.removeEventListener("resize",C)}),(T,D)=>{const B=resolveComponent("el-input"),I=resolveComponent("el-button");return openBlock(),createElementBlock("div",_hoisted_1$l,[t.currentStep===0?(openBlock(),createElementBlock("div",_hoisted_2$j,[createBaseVNode("h3",_hoisted_3$j,toDisplayString(l[0].title),1),createBaseVNode("p",_hoisted_4$i,toDisplayString(l[0].desc),1),createBaseVNode("div",_hoisted_5$h,[createBaseVNode("div",_hoisted_6$g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(experienceOptions),L=>(openBlock(),createElementBlock("div",{key:L.value,class:normalizeClass(["experience-option",{selected:c.experience===L.value}]),onClick:U=>c.experience=L.value},[createBaseVNode("div",_hoisted_8$e,[createBaseVNode("div",{class:normalizeClass(["radio-dot",{checked:c.experience===L.value}])},null,2)]),createBaseVNode("div",_hoisted_9$e,[createBaseVNode("div",_hoisted_10$e,[createBaseVNode("span",_hoisted_11$c,toDisplayString(L.icon),1),createBaseVNode("div",_hoisted_12$c,toDisplayString(L.title),1)]),createBaseVNode("div",_hoisted_13$c,toDisplayString(L.label),1),createBaseVNode("div",_hoisted_14$a,toDisplayString(L.desc),1)])],10,_hoisted_7$f))),128))])])])):createCommentVNode("",!0),t.currentStep===1?(openBlock(),createElementBlock("div",_hoisted_15$a,[createBaseVNode("h3",_hoisted_16$a,toDisplayString(l[1].title),1),createBaseVNode("p",_hoisted_17$a,toDisplayString(l[1].desc),1),createBaseVNode("div",_hoisted_18$9,[createBaseVNode("div",_hoisted_19$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(riskOptions),L=>(openBlock(),createElementBlock("div",{key:L.riskLevel,class:normalizeClass(["risk-option",{selected:c.riskLevel===L.riskLevel}]),onClick:U=>c.riskLevel=L.riskLevel},[createBaseVNode("div",_hoisted_21$8,[createBaseVNode("div",{class:normalizeClass(["radio-dot",{checked:c.riskLevel===L.riskLevel}])},null,2)]),createBaseVNode("div",_hoisted_22$8,[createBaseVNode("div",_hoisted_23$8,[createBaseVNode("div",_hoisted_24$8,[createBaseVNode("span",_hoisted_25$8,toDisplayString(L.icon),1),createTextVNode(" "+toDisplayString(L.title),1)]),createBaseVNode("div",_hoisted_26$8,[(openBlock(),createElementBlock(Fragment,null,renderList(5,U=>createBaseVNode("span",{key:U,class:normalizeClass(["risk-dot",{active:U<=L.riskLevel}])},null,2)),64))])]),createBaseVNode("div",_hoisted_27$8,toDisplayString(L.desc),1),createBaseVNode("div",_hoisted_28$8,toDisplayString(L.simpleDesc),1),createBaseVNode("div",_hoisted_29$7,[createBaseVNode("div",_hoisted_30$7,[D[1]||(D[1]=createBaseVNode("span",{class:"metric-label"},"💰 可能收益:",-1)),createBaseVNode("span",_hoisted_31$7,toDisplayString(L.expectedReturn),1)]),createBaseVNode("div",_hoisted_32$7,[D[2]||(D[2]=createBaseVNode("span",{class:"metric-label"},"⚠️ 可能亏损:",-1)),createBaseVNode("span",_hoisted_33$7,toDisplayString(L.maxLoss),1)])]),createBaseVNode("div",_hoisted_34$7,[D[3]||(D[3]=createBaseVNode("span",{class:"examples-label"},"📈 投资什么:",-1)),createBaseVNode("span",_hoisted_35$6,toDisplayString(L.examples),1)])])],10,_hoisted_20$9))),128))])])])):createCommentVNode("",!0),t.currentStep===2?(openBlock(),createElementBlock("div",_hoisted_36$6,[createBaseVNode("h3",_hoisted_37$6,toDisplayString(l[2].title),1),createBaseVNode("p",_hoisted_38$6,toDisplayString(l[2].desc),1),createBaseVNode("div",_hoisted_39$5,[createBaseVNode("div",_hoisted_40$5,[D[5]||(D[5]=createBaseVNode("div",{class:"traits-hint"},[createBaseVNode("div",{class:"hint-icon"},"💡"),createBaseVNode("div",{class:"hint-text"},[createBaseVNode("strong",null,"新手提示："),createTextVNode("如果不确定如何选择，我们已为您设置了适合新手的默认选项，您可以直接使用或根据个人情况调整 ")])],-1)),createBaseVNode("div",_hoisted_41$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(userTraits),L=>(openBlock(),createElementBlock("div",{key:L.id,class:"trait-item-compact"},[createBaseVNode("div",_hoisted_42$4,[createBaseVNode("div",_hoisted_43$4,[createBaseVNode("span",_hoisted_44$4,toDisplayString(L.icon),1),createBaseVNode("div",_hoisted_45$4,[createBaseVNode("div",_hoisted_46$4,toDisplayString(L.title),1),createBaseVNode("div",_hoisted_47$3,toDisplayString(L.desc),1)])]),createBaseVNode("div",_hoisted_48$3,toDisplayString(c.userTraits[L.id])+"分 ",1)]),createBaseVNode("div",_hoisted_49$3,[createBaseVNode("div",_hoisted_50$3,[createBaseVNode("div",{class:"slider-progress",style:normalizeStyle({width:c.userTraits[L.id]/5*100+"%"})},null,4)]),createBaseVNode("div",_hoisted_51$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(L.options,U=>(openBlock(),createElementBlock("div",{key:U.value,class:normalizeClass(["slider-option",{active:c.userTraits[L.id]===U.value}]),onClick:Y=>c.userTraits[L.id]=U.value,title:U.desc},[D[4]||(D[4]=createBaseVNode("div",{class:"option-dot"},null,-1)),createBaseVNode("div",_hoisted_53$3,toDisplayString(U.value),1)],10,_hoisted_52$3))),128))])]),createBaseVNode("div",_hoisted_54$3,toDisplayString(E(L.id)),1)]))),128))])])])])):createCommentVNode("",!0),t.currentStep===3?(openBlock(),createElementBlock("div",_hoisted_55$3,[createBaseVNode("h3",_hoisted_56$3,toDisplayString(l[3].title),1),createBaseVNode("p",_hoisted_57$3,toDisplayString(l[3].desc),1),createBaseVNode("div",_hoisted_58$3,[createBaseVNode("div",_hoisted_59$3,[createBaseVNode("div",_hoisted_60$3,[createBaseVNode("div",_hoisted_61$3,[createVNode(B,{modelValue:a.value,"onUpdate:modelValue":D[0]||(D[0]=L=>a.value=L),placeholder:"搜索行业名称，如：新能源、医药...",class:"compact-search",clearable:"",onInput:w},{prefix:withCtx(()=>D[6]||(D[6]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1)])),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_62$3,[createBaseVNode("span",_hoisted_63$3," 大分类 "+toDisplayString(c.sectors.majorCategories.length)+"/2 ",1),createBaseVNode("span",_hoisted_64$3," 细分 "+toDisplayString(c.sectors.subCategories.length)+"/4 ",1)])]),createBaseVNode("div",_hoisted_65$3,[a.value&&n.value.length>0?(openBlock(),createElementBlock("div",_hoisted_66$3,[createBaseVNode("div",_hoisted_67$3," 🔍 找到 "+toDisplayString(n.value.length)+" 个匹配行业 ",1),createBaseVNode("div",_hoisted_68$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,L=>(openBlock(),createElementBlock("div",{key:L.value,class:normalizeClass(["sector-card",{selected:c.sectors.subCategories.includes(L.value),disabled:!c.sectors.subCategories.includes(L.value)&&c.sectors.subCategories.length>=4}]),onClick:U=>v(L)},[createBaseVNode("div",_hoisted_70$2,toDisplayString(L.icon),1),createBaseVNode("div",_hoisted_71$2,[createBaseVNode("div",{class:"card-title",innerHTML:x(L.label)},null,8,_hoisted_72$2),createBaseVNode("div",{class:"card-desc",innerHTML:x(L.desc)},null,8,_hoisted_73$2),createBaseVNode("div",_hoisted_74$2,toDisplayString($(L.parent)),1)]),c.sectors.subCategories.includes(L.value)?(openBlock(),createElementBlock("div",_hoisted_75$2," ✓ ")):createCommentVNode("",!0)],10,_hoisted_69$3))),128))]),a.value&&n.value.length===0?(openBlock(),createElementBlock("div",_hoisted_76$2,D[7]||(D[7]=[createBaseVNode("div",{class:"no-results-icon"},"🔍",-1),createBaseVNode("div",{class:"no-results-text"},"未找到匹配的行业",-1),createBaseVNode("div",{class:"no-results-hint"},'请尝试其他关键词，如"科技"、"医药"、"消费"等',-1)]))):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_77$2,[!d.value&&!m.value?(openBlock(),createElementBlock("div",_hoisted_78$1,[createBaseVNode("div",_hoisted_79$1,[D[8]||(D[8]=createBaseVNode("div",{class:"section-title"},"📊 选择关注的大分类 (最多2个)",-1)),createBaseVNode("div",_hoisted_80$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(majorSectors),L=>(openBlock(),createElementBlock("div",{key:L.value,class:normalizeClass(["major-card-desktop",{selected:c.sectors.majorCategories.includes(L.value),disabled:!c.sectors.majorCategories.includes(L.value)&&c.sectors.majorCategories.length>=2}]),onClick:U=>b(L.value)},[createBaseVNode("div",_hoisted_82$1,toDisplayString(L.icon),1),createBaseVNode("div",_hoisted_83$1,toDisplayString(L.label),1),c.sectors.majorCategories.includes(L.value)?(openBlock(),createElementBlock("div",_hoisted_84$1," ✓ ")):createCommentVNode("",!0)],10,_hoisted_81$1))),128))])]),createBaseVNode("div",_hoisted_85$1,[D[10]||(D[10]=createBaseVNode("div",{class:"section-title"},"🎯 选择具体关注的行业 (最多4个)",-1)),N.value.length>0?(openBlock(),createElementBlock("div",_hoisted_86$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value,L=>(openBlock(),createElementBlock("div",{key:L.major,class:"sub-group-desktop"},[createBaseVNode("div",_hoisted_87$1,toDisplayString($(L.major)),1),createBaseVNode("div",_hoisted_88$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(L.sectors,U=>(openBlock(),createElementBlock("div",{key:U.value,class:normalizeClass(["sub-card-desktop",{selected:c.sectors.subCategories.includes(U.value),disabled:!c.sectors.subCategories.includes(U.value)&&c.sectors.subCategories.length>=4}]),onClick:Y=>y(U.value)},[createBaseVNode("div",_hoisted_90$1,toDisplayString(U.icon),1),createBaseVNode("div",_hoisted_91,toDisplayString(U.label),1),c.sectors.subCategories.includes(U.value)?(openBlock(),createElementBlock("div",_hoisted_92," ✓ ")):createCommentVNode("",!0)],10,_hoisted_89$1))),128))])]))),128))])):(openBlock(),createElementBlock("div",_hoisted_93,D[9]||(D[9]=[createBaseVNode("div",{class:"hint-icon"},"👆",-1),createBaseVNode("div",{class:"hint-text"},"请先选择左侧的大分类",-1)])))])])):(openBlock(),createElementBlock("div",_hoisted_94,[createBaseVNode("div",_hoisted_95,[D[11]||(D[11]=createBaseVNode("div",{class:"section-title"},"📊 选择关注的大分类 (最多2个)",-1)),createBaseVNode("div",_hoisted_96,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(majorSectors),L=>(openBlock(),createElementBlock("div",{key:L.value,class:normalizeClass(["major-card",{selected:c.sectors.majorCategories.includes(L.value),disabled:!c.sectors.majorCategories.includes(L.value)&&c.sectors.majorCategories.length>=2}]),onClick:U=>b(L.value)},[createBaseVNode("div",_hoisted_98,toDisplayString(L.icon),1),createBaseVNode("div",_hoisted_99,toDisplayString(L.label),1),c.sectors.majorCategories.includes(L.value)?(openBlock(),createElementBlock("div",_hoisted_100," ✓ ")):createCommentVNode("",!0)],10,_hoisted_97))),128))])]),N.value.length>0?(openBlock(),createElementBlock("div",_hoisted_101,[D[13]||(D[13]=createBaseVNode("div",{class:"section-title"},"🎯 选择具体关注的行业 (最多4个)",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value,L=>(openBlock(),createElementBlock("div",{key:L.major,class:"sub-group"},[createBaseVNode("div",_hoisted_102,toDisplayString($(L.major)),1),createBaseVNode("div",_hoisted_103,[(openBlock(!0),createElementBlock(Fragment,null,renderList(L.sectors,U=>(openBlock(),createElementBlock("div",{key:U.value,class:normalizeClass(["sub-card",{selected:c.sectors.subCategories.includes(U.value),disabled:!c.sectors.subCategories.includes(U.value)&&c.sectors.subCategories.length>=4}]),onClick:Y=>y(U.value)},[createBaseVNode("div",_hoisted_105,toDisplayString(U.icon),1),createBaseVNode("div",_hoisted_106,toDisplayString(U.label),1),c.sectors.subCategories.includes(U.value)?(openBlock(),createElementBlock("div",_hoisted_107," ✓ ")):createCommentVNode("",!0)],10,_hoisted_104))),128))])]))),128)),N.value.length===0?(openBlock(),createElementBlock("div",_hoisted_108,D[12]||(D[12]=[createBaseVNode("div",{class:"hint-icon"},"👆",-1),createBaseVNode("div",{class:"hint-text"},"请先选择上方的大分类，然后选择具体关注的行业",-1)]))):createCommentVNode("",!0)])):createCommentVNode("",!0)]))]))])])])])):createCommentVNode("",!0),t.showActions?(openBlock(),createElementBlock("div",_hoisted_109,[t.currentStep>0?(openBlock(),createBlock(I,{key:0,class:"action-btn",onClick:S},{default:withCtx(()=>D[14]||(D[14]=[createTextVNode(" 上一步 ")])),_:1,__:[14]})):createCommentVNode("",!0),createVNode(I,{class:"action-btn primary",onClick:g,disabled:!_.value},{default:withCtx(()=>[createTextVNode(toDisplayString(k.value?"完成":"下一步"),1)]),_:1},8,["disabled"])])):createCommentVNode("",!0)])}}},InvestmentPreferencesForm=_export_sfc(_sfc_main$l,[["__scopeId","data-v-787145c7"]]),_hoisted_1$k={key:0,class:"onboarding-step welcome-step"},_hoisted_2$i={class:"welcome-hero"},_hoisted_3$i={key:1,class:"onboarding-step"},_hoisted_4$h={class:"form-container"},_hoisted_5$g={key:2,class:"onboarding-step complete-step"},_hoisted_6$f={class:"complete-container"},_hoisted_7$e={class:"summary-card-compact"},_hoisted_8$d={class:"summary-row"},_hoisted_9$d={class:"summary-item-compact"},_hoisted_10$d={class:"item-header"},_hoisted_11$b={class:"item-icon"},_hoisted_12$b={class:"item-value"},_hoisted_13$b={class:"summary-item-compact"},_hoisted_14$9={class:"item-header"},_hoisted_15$9={class:"item-icon"},_hoisted_16$9={class:"item-value"},_hoisted_17$9={class:"summary-row-full"},_hoisted_18$8={class:"item-value tags"},_hoisted_19$8={class:"summary-row-full"},_hoisted_20$8={class:"item-value tags"},_sfc_main$k={__name:"OnboardingFlow",emits:["complete"],setup(t,{emit:e}){const s=e;useRouter();const o=useUserStore(),a=["welcome","form-step-0","form-step-1","form-step-2","form-step-3","complete"],n=ref(0),r=()=>{const U=o.getOnboardingProgress();U&&U.currentStep>=0&&U.currentStep<a.length&&(n.value=U.currentStep,U.preferences&&Object.assign(l,U.preferences))},d=computed(()=>a[n.value]),m=computed(()=>d.value.startsWith("form-step")),c=computed(()=>m.value?parseInt(d.value.split("-").pop()):-1),l=reactive({riskLevel:"",experience:"",userTraits:{risk_tolerance:3,active_participation:3,learning_willingness:3,strategy_dependency:2,trading_frequency:2,innovation_trial:3},sectors:{majorCategories:["technology","emerging"],subCategories:["internet","ai","new_energy"]}});computed(()=>{if(!m.value)return!1;switch(c.value){case 0:return!!l.experience;case 1:return!!l.riskLevel;case 2:return!0;case 3:return l.sectors.subCategories.length>0;default:return!1}});function _(){n.value=1,o.updateOnboardingProgress(1)}function k(){n.value<a.length-1&&(n.value++,o.updateOnboardingProgress(n.value,toRaw(l)))}function S(){n.value>1?(n.value--,o.updateOnboardingProgress(n.value,toRaw(l))):d.value==="form-step-0"&&(n.value=0,o.updateOnboardingProgress(0))}function g(U){Object.assign(l,U)}const N=computed(()=>{const U=C(l.riskLevel);return{preferences:{...toRaw(l),completedAt:new Date().toISOString()},profile:{riskLabel:U,experienceLabel:x(l.experience)}}}),f=()=>{o.completeOnboarding(toRaw(l)),s("complete",N.value)},E=ref("default"),b=computed(()=>{const U=l.riskLevel,Y=l.userTraits;return U==="aggressive"&&Y.innovation_trial>=4?"dynamic":U==="conservative"&&Y.risk_tolerance<=2?"calm":Y.learning_willingness>=4?"vibrant":"default"});watch([()=>l.riskLevel,()=>l.userTraits],()=>{E.value=b.value,y()},{deep:!0});const y=()=>{const U=document.documentElement;U.classList.remove("theme-default","theme-dynamic","theme-calm","theme-vibrant"),U.classList.add(`theme-${E.value}`)},$=reactive({isMobile:!1,isTablet:!1,isTouch:!1,prefersReducedMotion:!1,prefersDark:!1}),w=()=>{$.isMobile=window.innerWidth<=768,$.isTablet=window.innerWidth>768&&window.innerWidth<=1024,$.isTouch="ontouchstart"in window||navigator.maxTouchPoints>0,$.prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,$.prefersDark=window.matchMedia("(prefers-color-scheme: dark)").matches};onMounted(()=>{w(),y(),r(),window.addEventListener("resize",w),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",w),window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change",w)});function x(U){return{beginner:"投资新手",experienced:"有投资经验"}[U]||"未设置"}function v(U){return{beginner:"🌱",experienced:"📈"}[U]||"🤔"}function C(U){return{conservative:"保守型",stable:"稳健型",balanced:"平衡型",growth:"成长型",aggressive:"激进型"}[U]||"未设置"}function T(U){return{conservative:"🛡️",stable:"🏦",balanced:"⚖️",growth:"🚀",aggressive:"⚡"}[U]||"🤔"}const D={internet:"互联网",ai:"人工智能",new_energy:"新能源",software:"软件服务",hardware:"电子硬件",banking:"银行",insurance:"保险",securities:"证券",food_beverage:"食品饮料",retail:"零售",appliances:"家电",pharma:"医药制造",medical_devices:"医疗器械",manufacturing:"先进制造",materials:"基础材料",infrastructure:"基础设施",environmental:"环保",military:"军工"};function B(U){return D[U]||U}const I={risk_tolerance:[{value:1,desc:"保守"},{value:2,desc:"偏保守"},{value:3,desc:"中性"},{value:4,desc:"偏进取"},{value:5,desc:"非常进取"}],active_participation:[{value:1,desc:"依赖AI"},{value:2,desc:"AI辅助"},{value:3,desc:"自主决策"},{value:4,desc:"积极研究"},{value:5,desc:"主导策略"}],learning_willingness:[{value:1,desc:"无意学习"},{value:2,desc:"偶尔了解"},{value:3,desc:"愿意学习"},{value:4,desc:"主动研究"},{value:5,desc:"深度钻研"}],strategy_dependency:[{value:1,desc:"简单策略"},{value:2,desc:"常规策略"},{value:3,desc:"中等策略"},{value:4,desc:"复杂策略"},{value:5,desc:"高级策略"}],trading_frequency:[{value:1,desc:"长期持有"},{value:2,desc:"低频交易"},{value:3,desc:"中频交易"},{value:4,desc:"高频交易"},{value:5,desc:"超高频交易"}],innovation_trial:[{value:1,desc:"不试新"},{value:2,desc:"谨慎尝试"},{value:3,desc:"开放尝试"},{value:4,desc:"拥抱创新"},{value:5,desc:"积极试新"}]};function L(U,Y){const se=I[U];if(!se)return"";const J=se.find(M=>M.value===Y);return J?J.desc:""}return(U,Y)=>{const se=resolveComponent("el-button");return openBlock(),createElementBlock("div",{class:normalizeClass(["onboarding-flow",[`theme-${E.value}`,{"is-mobile":$.isMobile},{"is-tablet":$.isTablet},{"is-touch":$.isTouch},{"prefers-reduced-motion":$.prefersReducedMotion},{"prefers-dark":$.prefersDark}]])},[d.value==="welcome"?(openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$i,[Y[1]||(Y[1]=createStaticVNode('<div class="hero-icon" data-v-f45d308d>🎯</div><h1 class="hero-title" data-v-f45d308d>嗨！我是您的AI投资小助手</h1><p class="hero-subtitle" data-v-f45d308d>接下来只需1分钟，让我更懂您的投资风格~</p><div class="hero-features" data-v-f45d308d><div class="feature-item" data-v-f45d308d><span class="feature-icon" data-v-f45d308d>🔍</span><span class="feature-text" data-v-f45d308d>智能分析</span></div><div class="feature-item" data-v-f45d308d><span class="feature-icon" data-v-f45d308d>💡</span><span class="feature-text" data-v-f45d308d>个性推荐</span></div><div class="feature-item" data-v-f45d308d><span class="feature-icon" data-v-f45d308d>⚡</span><span class="feature-text" data-v-f45d308d>智能交易</span></div></div>',4)),createVNode(se,{type:"primary",size:"large",onClick:_,class:"start-btn"},{default:withCtx(()=>Y[0]||(Y[0]=[createTextVNode(" 开始了解我 ")])),_:1,__:[0]})])])):createCommentVNode("",!0),m.value?(openBlock(),createElementBlock("div",_hoisted_3$i,[createBaseVNode("div",_hoisted_4$h,[createVNode(InvestmentPreferencesForm,{currentStep:c.value,preferencesForm:l,"onUpdate:preferencesForm":g,onPrevious:S,onNext:k,onComplete:k,"show-actions":""},null,8,["currentStep","preferencesForm"])])])):createCommentVNode("",!0),d.value==="complete"?(openBlock(),createElementBlock("div",_hoisted_5$g,[createBaseVNode("div",_hoisted_6$f,[Y[7]||(Y[7]=createBaseVNode("div",{class:"complete-icon"},"🎉",-1)),Y[8]||(Y[8]=createBaseVNode("h1",{class:"complete-title"},"您的专属投资画像已生成!",-1)),Y[9]||(Y[9]=createBaseVNode("p",{class:"complete-subtitle"},"基于您的偏好，我们为您定制了如下投资策略起点：",-1)),createBaseVNode("div",_hoisted_7$e,[createBaseVNode("div",_hoisted_8$d,[createBaseVNode("div",_hoisted_9$d,[createBaseVNode("div",_hoisted_10$d,[createBaseVNode("span",_hoisted_11$b,toDisplayString(v(l.experience)),1),Y[2]||(Y[2]=createBaseVNode("span",{class:"item-label"},"投资经验",-1))]),createBaseVNode("div",_hoisted_12$b,toDisplayString(x(l.experience)),1)]),createBaseVNode("div",_hoisted_13$b,[createBaseVNode("div",_hoisted_14$9,[createBaseVNode("span",_hoisted_15$9,toDisplayString(T(l.riskLevel)),1),Y[3]||(Y[3]=createBaseVNode("span",{class:"item-label"},"风险风格",-1))]),createBaseVNode("div",_hoisted_16$9,toDisplayString(C(l.riskLevel)),1)])]),createBaseVNode("div",_hoisted_17$9,[Y[4]||(Y[4]=createBaseVNode("div",{class:"item-header"},[createBaseVNode("span",{class:"item-icon"},"🎯"),createBaseVNode("span",{class:"item-label"},"重点关注")],-1)),createBaseVNode("div",_hoisted_18$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.sectors.subCategories,J=>(openBlock(),createElementBlock("span",{key:J,class:"tag-new"},toDisplayString(B(J)),1))),128))])]),createBaseVNode("div",_hoisted_19$8,[Y[5]||(Y[5]=createBaseVNode("div",{class:"item-header"},[createBaseVNode("span",{class:"item-icon"},"🧠"),createBaseVNode("span",{class:"item-label"},"投资性格")],-1)),createBaseVNode("div",_hoisted_20$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.userTraits,(J,M)=>(openBlock(),createElementBlock("span",{key:M,class:"tag-new"},toDisplayString(L(M,J)),1))),128))])])]),createVNode(se,{type:"primary",size:"large",onClick:f,class:"finish-btn"},{default:withCtx(()=>Y[6]||(Y[6]=[createTextVNode(" 开启智能投资 ")])),_:1,__:[6]})])])):createCommentVNode("",!0)],2)}}},OnboardingFlow=_export_sfc(_sfc_main$k,[["__scopeId","data-v-f45d308d"]]),_imports_0="/InvestAI/logo.png",_hoisted_1$j={class:"auth-container"},_hoisted_2$h={class:"auth-logo-section"},_hoisted_3$h={class:"auth-main-title"},_hoisted_4$g={class:"auth-main-subtitle"},_hoisted_5$f={class:"auth-form-wrapper"},_hoisted_6$e={class:"third-party-login"},_hoisted_7$d={class:"auth-mode-switch"},_hoisted_8$c={class:"switch-text"},_hoisted_9$c={key:0,class:"auth-recovery"},_hoisted_10$c={class:"auth-footer"},_sfc_main$j={__name:"LoginDialog",props:{modelValue:{type:Boolean,default:!1},registerMode:{type:Boolean,default:!1}},emits:["update:modelValue","login-success","show-recovery"],setup(t,{emit:e}){const s=t,o=e,a=useUserStore(),n=ref(null),r=ref(!1),d=ref(!1),m=ref(s.registerMode),c=computed(()=>{if(typeof window<"u"){const b=window.innerWidth;return b<480?"95%":b<768?"90%":b<1024?"600px":"720px"}return"720px"}),l=reactive({username:"",password:"",phone:"",confirmPassword:""}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入有效的手机号",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(b,y)=>y!==l.password?Promise.reject("两次输入的密码不一致"):Promise.resolve(),trigger:"blur"}]},k=computed({get:()=>s.modelValue,set:b=>o("update:modelValue",b)}),S=async()=>{n.value&&await n.value.validate(async b=>{var y;if(b){r.value=!0;try{let $={},w=!1;if(m.value?($=await register({account:l.username.trim(),password:l.password.trim(),confirmPassword:l.confirmPassword.trim(),phone:l.phone.trim()}),w=!0):$=await login({account:l.username.trim(),password:l.password.trim()}),$&&$.data&&$.data.success){let x=$.data.data.userPortrait||{},v=JSON.parse(((y=$.data.data.userPortrait)==null?void 0:y.focusIndustry)||null)||[],C=[],T=[];v.forEach(B=>{C.push(B.parent),T=T.concat(B.children)});let D={nickname:$.data.data.nickname,isNewUser:w,token:$.data.data.token,preferences:{experience:x.investExperience,riskLevel:x.investStyle,userTraits:{active_participation:x.involveLevel,innovation_trial:x.innovationAcceptance,learning_willingness:x.learnIntention,risk_tolerance:x.riskTolerance,strategy_dependency:x.strategyComplexity,trading_frequency:x.tradeFrequency},sectors:{majorCategories:C,subCategories:T,categories:v}}};a.setUserInfo(D),a.setToken($.data.data.token),E(),o("login-success",{isNewUser:w,userInfo:D})}else ElMessage.error(($==null?void 0:$.message)||(m.value?"注册失败，请重试":"登录失败，请检查用户名和密码"))}catch($){console.error("登录/注册错误:",$),$.message&&$.message.includes("CORS")?ElMessage.error("网络连接错误，请联系管理员解决跨域问题"):ElMessage.error(m.value?"注册失败，请重试":"登录失败，请重试")}finally{r.value=!1}}})},g=async()=>{d.value=!0;try{ElMessage.info("正在启动微信登录..."),setTimeout(()=>{const b="mock_openid_"+Date.now(),y="mock-wechat-token-"+Date.now(),$=JSON.parse(localStorage.getItem("wechat_login_history")||"[]"),w=!$.includes(b),x={username:"wechat_user_"+Date.now(),nickname:"微信用户",avatar:"/logo.png",loginType:"wechat",openid:b,isNewUser:w};w&&($.push(b),localStorage.setItem("wechat_login_history",JSON.stringify($))),a.setToken(y),a.setUserInfo(x),ElMessage.success("微信登录成功！"),d.value=!1,E(),o("login-success",{isNewUser:w,userInfo:x})},2e3)}catch(b){ElMessage.error("微信登录失败，请重试"),console.error("微信登录错误:",b),d.value=!1}},N=()=>{m.value=!m.value,Object.keys(l).forEach(b=>{l[b]=""}),n.value&&n.value.clearValidate()},f=()=>{E(),o("show-recovery")},E=()=>{k.value=!1,Object.keys(l).forEach(b=>{l[b]=""}),n.value&&n.value.clearValidate()};return watch(()=>s.registerMode,b=>{m.value=b}),(b,y)=>{const $=resolveComponent("el-input"),w=resolveComponent("el-form-item"),x=resolveComponent("el-button"),v=resolveComponent("el-form"),C=resolveComponent("el-dialog");return openBlock(),createBlock(C,{modelValue:k.value,"onUpdate:modelValue":y[4]||(y[4]=T=>k.value=T),"show-close":!1,"close-on-click-modal":!1,"lock-scroll":!1,width:c.value,class:"auth-dialog"},{header:withCtx(()=>y[5]||(y[5]=[createBaseVNode("div",null,null,-1)])),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$h,[y[6]||(y[6]=createBaseVNode("div",{class:"auth-logo"},[createBaseVNode("img",{src:_imports_0,alt:"InvestAI Logo",class:"logo-image"})],-1)),createBaseVNode("h1",_hoisted_3$h,toDisplayString(m.value?"注册智投小助":"登录智投小助"),1),createBaseVNode("p",_hoisted_4$g,toDisplayString(m.value?"创建您的智投小助账号":"使用您的账号登录智投小助"),1)]),createBaseVNode("div",_hoisted_5$f,[createVNode(v,{model:l,rules:_,ref_key:"loginFormRef",ref:n,class:"auth-form"},{default:withCtx(()=>[createVNode(w,{prop:"username",class:"auth-form-item"},{default:withCtx(()=>[createVNode($,{modelValue:l.username,"onUpdate:modelValue":y[0]||(y[0]=T=>l.username=T),placeholder:"用户名",class:"auth-input",size:"large"},null,8,["modelValue"])]),_:1}),m.value?(openBlock(),createBlock(w,{key:0,prop:"phone",class:"auth-form-item"},{default:withCtx(()=>[createVNode($,{modelValue:l.phone,"onUpdate:modelValue":y[1]||(y[1]=T=>l.phone=T),placeholder:"手机号",class:"auth-input",size:"large"},null,8,["modelValue"])]),_:1})):createCommentVNode("",!0),createVNode(w,{prop:"password",class:"auth-form-item"},{default:withCtx(()=>[createVNode($,{modelValue:l.password,"onUpdate:modelValue":y[2]||(y[2]=T=>l.password=T),type:"password",placeholder:"密码",class:"auth-input",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),m.value?(openBlock(),createBlock(w,{key:1,prop:"confirmPassword",class:"auth-form-item"},{default:withCtx(()=>[createVNode($,{modelValue:l.confirmPassword,"onUpdate:modelValue":y[3]||(y[3]=T=>l.confirmPassword=T),type:"password",placeholder:"确认密码",class:"auth-input",size:"large","show-password":""},null,8,["modelValue"])]),_:1})):createCommentVNode("",!0),createVNode(x,{class:"auth-submit-btn",type:"primary",size:"large",onClick:S,loading:r.value},{default:withCtx(()=>[createTextVNode(toDisplayString(m.value?"创建账号":"继续登录"),1)]),_:1},8,["loading"])]),_:1},8,["model"]),y[10]||(y[10]=createBaseVNode("div",{class:"auth-divider"},[createBaseVNode("span",{class:"divider-text"},"或")],-1)),createBaseVNode("div",_hoisted_6$e,[createVNode(x,{class:"wechat-login-btn",onClick:g,loading:d.value},{default:withCtx(()=>y[7]||(y[7]=[createBaseVNode("div",{class:"wechat-icon"},[createBaseVNode("svg",{width:"40",height:"40",viewBox:"0 0 1024 1024",fill:"currentColor"},[createBaseVNode("path",{d:"M690.1 377.4c5.9 0 11.8 0.2 17.6 0.5-15.8-73.3-102.2-127.9-204.1-127.9-114.9 0-208.7 77.3-208.7 172.5 0 55.4 30.2 100.8 80.7 136.1l-20.2 60.5 70.4-35.2c25.1 5 45.2 10.1 70.4 10.1 6.5 0 13-0.3 19.4-0.8-4.1-14.1-6.4-28.9-6.4-44.2 0-88.8 75.1-160.6 180.9-160.6z m-114.3-41.9c15.1 0 25.1 10.1 25.1 25.1 0 15-10.1 25.1-25.1 25.1-15.1 0-30.2-10.1-30.2-25.1 0-15 15.1-25.1 30.2-25.1z m-125.7 50.2c-15.1 0-30.2-10.1-30.2-25.1 0-15 15.1-25.1 30.2-25.1 15 0 25.1 10.1 25.1 25.1 0 15-10.1 25.1-25.1 25.1z"}),createBaseVNode("path",{d:"M866.7 579.1c0-75.1-75.1-135.1-165.5-135.1-95.5 0-165.5 60-165.5 135.1 0 75.1 70 135.1 165.5 135.1 20.1 0 40.2-5 60.3-10.1l55.3 30.2-15.1-50.2c35.2-25.1 65.5-60.3 65.5-105z m-220.7-25.1c-10.1 0-20.1-10.1-20.1-20.1 0-10.1 10.1-20.1 20.1-20.1 10.1 0 20.1 10.1 20.1 20.1 0 10.1-10.1 20.1-20.1 20.1z m110.4 0c-10.1 0-20.1-10.1-20.1-20.1 0-10.1 10.1-20.1 20.1-20.1 10.1 0 20.1 10.1 20.1 20.1 0 10.1-10.1 20.1-20.1 20.1z"})])],-1),createBaseVNode("span",null,"微信登录",-1)])),_:1,__:[7]},8,["loading"])]),createBaseVNode("div",_hoisted_7$d,[createBaseVNode("span",_hoisted_8$c,toDisplayString(m.value?"已有账号？":"还没有账号？"),1),createVNode(x,{type:"text",class:"switch-link",onClick:N},{default:withCtx(()=>[createTextVNode(toDisplayString(m.value?"立即登录":"立即注册"),1)]),_:1})]),m.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_9$c,[createVNode(x,{type:"text",class:"recovery-link",onClick:f},{default:withCtx(()=>y[8]||(y[8]=[createTextVNode(" 忘记密码？ ")])),_:1,__:[8]})])),createBaseVNode("div",_hoisted_10$c,[createVNode(x,{class:"cancel-btn",onClick:E},{default:withCtx(()=>y[9]||(y[9]=[createTextVNode("取消")])),_:1,__:[9]})])])])]),_:1},8,["modelValue","width"])}}},LoginDialog=_export_sfc(_sfc_main$j,[["__scopeId","data-v-5109aaac"]]),_hoisted_1$i={class:"recovery-container"},_hoisted_2$g={class:"recovery-form-wrapper"},_hoisted_3$g={class:"verify-code-row"},_hoisted_4$f={class:"recovery-back"},_hoisted_5$e={class:"recovery-footer"},_sfc_main$i={__name:"PasswordRecoveryDialog",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","back-to-login","recovery-success"],setup(t,{emit:e}){const s=t,o=e,a=ref(null),n=ref(1),r=ref(!1),d=ref(!1),m=ref(0);let c=null;const l=reactive({contact:"",verifyCode:"",newPassword:"",confirmNewPassword:""}),_={contact:[{required:!0,message:"请输入手机号或邮箱",trigger:"blur"},{validator:(w,x)=>{const v=/^1[3-9]\d{9}$/,C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!v.test(x)&&!C.test(x)?Promise.reject("请输入有效的手机号或邮箱"):Promise.resolve()},trigger:"blur"}],verifyCode:[{required:!0,message:"请输入验证码",trigger:"blur"},{len:6,message:"验证码为6位数字",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmNewPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(w,x)=>x!==l.newPassword?Promise.reject("两次输入的密码不一致"):Promise.resolve(),trigger:"blur"}]},k=computed({get:()=>s.modelValue,set:w=>o("update:modelValue",w)}),S=computed(()=>{if(typeof window<"u"){const w=window.innerWidth;return w<480?"95%":w<768?"90%":w<1024?"450px":"500px"}return"500px"}),g=()=>{switch(n.value){case 1:return"发送验证码";case 2:return"验证并继续";case 3:return"重置密码";default:return"下一步"}},N=async()=>{if(!a.value)return;const w=[];switch(n.value){case 1:w.push("contact");break;case 2:w.push("verifyCode");break;case 3:w.push("newPassword","confirmNewPassword");break}try{await a.value.validateField(w),r.value=!0,setTimeout(()=>{switch(n.value){case 1:ElMessage.success("验证码已发送，请查收"),n.value=2,E();break;case 2:l.verifyCode==="123456"?(ElMessage.success("验证成功"),n.value=3):ElMessage.error("验证码错误");break;case 3:ElMessage.success("密码重置成功，请使用新密码登录"),y(),o("recovery-success");break}r.value=!1},1e3)}catch(x){console.log("验证失败:",x)}},f=async()=>{if(!l.contact){ElMessage.warning("请先输入手机号或邮箱");return}d.value=!0,setTimeout(()=>{ElMessage.success("验证码已重新发送"),E(),d.value=!1},1e3)},E=()=>{m.value=60,c=setInterval(()=>{m.value--,m.value<=0&&(clearInterval(c),c=null)},1e3)},b=()=>{y(),o("back-to-login")},y=()=>{k.value=!1,$()},$=()=>{n.value=1,Object.keys(l).forEach(w=>{l[w]=""}),a.value&&a.value.clearValidate(),c&&(clearInterval(c),c=null,m.value=0)};return watch(k,w=>{w&&$()}),(w,x)=>{const v=resolveComponent("el-input"),C=resolveComponent("el-form-item"),T=resolveComponent("el-button"),D=resolveComponent("el-form"),B=resolveComponent("el-dialog");return openBlock(),createBlock(B,{modelValue:k.value,"onUpdate:modelValue":x[4]||(x[4]=I=>k.value=I),"show-close":!1,"close-on-click-modal":!1,"lock-scroll":!1,width:S.value,class:"recovery-dialog"},{header:withCtx(()=>x[5]||(x[5]=[createBaseVNode("div",null,null,-1)])),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$i,[x[9]||(x[9]=createBaseVNode("div",{class:"recovery-header"},[createBaseVNode("div",{class:"recovery-logo"},[createBaseVNode("img",{src:_imports_0,alt:"InvestAI Logo",class:"logo-image"})]),createBaseVNode("h1",{class:"recovery-title"},"找回账号"),createBaseVNode("p",{class:"recovery-subtitle"},"请输入您的注册手机号或邮箱，我们将发送验证码帮您重置密码")],-1)),createBaseVNode("div",_hoisted_2$g,[createVNode(D,{model:l,rules:_,ref_key:"recoveryFormRef",ref:a,class:"recovery-form"},{default:withCtx(()=>[createVNode(C,{prop:"contact",class:"recovery-form-item"},{default:withCtx(()=>[createVNode(v,{modelValue:l.contact,"onUpdate:modelValue":x[0]||(x[0]=I=>l.contact=I),placeholder:"手机号或邮箱",class:"recovery-input",size:"large"},null,8,["modelValue"])]),_:1}),n.value===2?(openBlock(),createBlock(C,{key:0,prop:"verifyCode",class:"recovery-form-item"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$g,[createVNode(v,{modelValue:l.verifyCode,"onUpdate:modelValue":x[1]||(x[1]=I=>l.verifyCode=I),placeholder:"验证码",class:"recovery-input",size:"large"},null,8,["modelValue"]),createVNode(T,{class:"send-code-btn",onClick:f,disabled:m.value>0,loading:d.value},{default:withCtx(()=>[createTextVNode(toDisplayString(m.value>0?`${m.value}s后重发`:"发送验证码"),1)]),_:1},8,["disabled","loading"])])]),_:1})):createCommentVNode("",!0),n.value===3?(openBlock(),createBlock(C,{key:1,prop:"newPassword",class:"recovery-form-item"},{default:withCtx(()=>[createVNode(v,{modelValue:l.newPassword,"onUpdate:modelValue":x[2]||(x[2]=I=>l.newPassword=I),type:"password",placeholder:"新密码",class:"recovery-input",size:"large","show-password":""},null,8,["modelValue"])]),_:1})):createCommentVNode("",!0),n.value===3?(openBlock(),createBlock(C,{key:2,prop:"confirmNewPassword",class:"recovery-form-item"},{default:withCtx(()=>[createVNode(v,{modelValue:l.confirmNewPassword,"onUpdate:modelValue":x[3]||(x[3]=I=>l.confirmNewPassword=I),type:"password",placeholder:"确认新密码",class:"recovery-input",size:"large","show-password":""},null,8,["modelValue"])]),_:1})):createCommentVNode("",!0),createVNode(T,{class:"recovery-submit-btn",type:"primary",size:"large",onClick:N,loading:r.value},{default:withCtx(()=>[createTextVNode(toDisplayString(g()),1)]),_:1},8,["loading"])]),_:1},8,["model"]),createBaseVNode("div",_hoisted_4$f,[x[7]||(x[7]=createBaseVNode("span",{class:"back-text"},"想起密码了？",-1)),createVNode(T,{type:"text",class:"back-link",onClick:b},{default:withCtx(()=>x[6]||(x[6]=[createTextVNode(" 返回登录 ")])),_:1,__:[6]})]),createBaseVNode("div",_hoisted_5$e,[createVNode(T,{class:"cancel-btn",onClick:y},{default:withCtx(()=>x[8]||(x[8]=[createTextVNode("取消")])),_:1,__:[8]})])])])]),_:1},8,["modelValue","width"])}}},PasswordRecoveryDialog=_export_sfc(_sfc_main$i,[["__scopeId","data-v-b42d126e"]]),_hoisted_1$h={class:"preferences-container"},_hoisted_2$f={class:"preferences-header"},_hoisted_3$f={class:"step-indicator"},_hoisted_4$e={key:0},_hoisted_5$d={key:1},_hoisted_6$d={class:"preferences-form-wrapper"},_hoisted_7$c={class:"preferences-actions"},_hoisted_8$b={class:"mobile-preferences-header"},_hoisted_9$b={class:"mobile-step-indicator"},_hoisted_10$b={key:0},_hoisted_11$a={key:1},_hoisted_12$a={class:"mobile-preferences-content"},_hoisted_13$a={class:"mobile-preferences-actions"},_hoisted_14$8=["disabled"],_hoisted_15$8=["disabled"],_hoisted_16$8={key:0},_hoisted_17$8={key:1},totalSteps=4,_sfc_main$h={__name:"InvestmentPreferencesDialog",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","preferences-completed","preferences-skipped"],setup(t,{emit:e}){const s=t,o=e,a=useUserStore(),n=ref(window.innerWidth),r=computed(()=>n.value<768),d=computed(()=>n.value>=768&&n.value<1024),m=computed(()=>r.value?"95%":d.value?"85%":"900px"),c=computed({get:()=>(console.log("InvestmentPreferencesDialog visible getter:",s.modelValue),s.modelValue),set:C=>{console.log("InvestmentPreferencesDialog visible setter:",C),o("update:modelValue",C)}}),l=()=>{c.value&&nextTick(()=>{const C=document.querySelector(".preferences-dialog");if(C){const T=C.getBoundingClientRect(),D=window.innerHeight;T.height>D*.9&&(C.style.marginTop="20px",C.style.marginBottom="20px")}})},_=()=>{n.value=window.innerWidth,nextTick(()=>{l()})};onMounted(()=>{window.addEventListener("resize",_)}),onUnmounted(()=>{window.removeEventListener("resize",_)});const k=ref(!1),S=ref(0);watch(c,C=>{console.log("Dialog visibility changed:",C),C?(f(),setTimeout(()=>{l()},100)):setTimeout(()=>{S.value=0},200)});const g=reactive({riskLevel:"",experience:"",userTraits:{risk_tolerance:3,active_participation:3,learning_willingness:3,strategy_dependency:2,trading_frequency:2,innovation_trial:3},sectors:{majorCategories:[],subCategories:[]}}),N=computed(()=>{switch(S.value){case 0:return isNumber$1(g.experience);case 1:return isNumber$1(g.riskLevel);case 2:return!0;case 3:return g.sectors.subCategories.length>0;default:return!1}});watch(S,()=>{setTimeout(()=>{l()},100)});const f=async()=>{console.log(localStorage.getItem("userInfo"));let C=await E();if(C){let T=C.userTraits||{};T.risk_tolerance=T.risk_tolerance||3,T.active_participation=T.active_participation||3,T.learning_willingness=T.learning_willingness||3,T.innovation_trial=T.innovation_trial||3,T.strategy_dependency=T.strategy_dependency||2,T.trading_frequency=T.trading_frequency||2,C.userTraits=T,Object.assign(g,C),console.log("Loaded preferences:",g)}else Object.assign(g,{riskLevel:"",experience:"",userTraits:{risk_tolerance:3,active_participation:3,learning_willingness:3,strategy_dependency:2,trading_frequency:2,innovation_trial:3},sectors:{majorCategories:[],subCategories:[]}}),console.log("No existing preferences found, using defaults")},E=async()=>{var T;let C=await getUserPortrait();if(C&&C.data&&C.data.success){let D=C.data.data||{},B=JSON.parse(((T=C.data.data)==null?void 0:T.focusIndustry)||null)||[],I=[],L=[];B.forEach(Y=>{I.push(Y.value),Y.children.forEach(se=>{L.push(se.value)})});let U={experience:D.investExperience,riskLevel:D.investStyle,userTraits:{active_participation:D.involveLevel,innovation_trial:D.innovationAcceptance,learning_willingness:D.learnIntention,risk_tolerance:D.riskTolerance,strategy_dependency:D.strategyComplexity,trading_frequency:D.tradeFrequency},sectors:{majorCategories:I,subCategories:L,categories:B}};return a.setUserPortrait(U),U}};function b(C){Object.assign(g,C)}const y=()=>{N.value&&S.value<totalSteps-1&&S.value++},$=()=>{S.value>0&&S.value--};function w(C){const T=majorSectors.reduce((I,L)=>(I[L.value]={value:L.value,label:L.label},I),{}),D=subSectors.reduce((I,L)=>(I[L.value]={value:L.value,label:L.label,parent:L.parent},I),{}),B=C.reduce((I,L)=>{const U=D[L];if(U){const Y=U.parent,se=T[Y];I[Y]||(I[Y]={value:se.value,label:se.label,children:[]}),I[Y].children.push({value:U.value,label:U.label})}return I},{});return Object.values(B)}const x=async()=>{if(!N.value)return;k.value=!0;const C={...g,completedAt:new Date().toISOString()},T={investStyle:C.riskLevel,investExperience:C.experience,riskTolerance:C.userTraits.risk_tolerance,involveLevel:C.userTraits.active_participation,learnIntention:C.userTraits.learning_willingness,strategyComplexity:C.userTraits.strategy_dependency,tradeFrequency:C.userTraits.trading_frequency,innovationAcceptance:C.userTraits.innovation_trial,focusIndustry:""};let D=C.sectors.subCategories||[],B=w(D);T.focusIndustry=JSON.stringify(B),C.sectors.categories=B;let I=await updateUserPortrait(T);if(I&&I.data&&I.data.success){const L=a.userInfo;a.setUserInfo({...L,preferences:C}),localStorage.setItem("onboardingCompleted","true"),ElMessage.success("投资偏好设置完成！"),c.value=!1,k.value=!1,S.value=0,o("preferences-completed",C)}else ElMessage.error("保存偏好设置失败，请稍后重试"),k.value=!1},v=()=>{c.value=!1,S.value=0,ElMessage.info("您可以稍后在设置中完善投资偏好"),o("preferences-skipped")};return watch(c,C=>{C?f():setTimeout(()=>{S.value=0},200)}),(C,T)=>{const D=resolveComponent("el-button"),B=resolveComponent("el-dialog");return r.value?c.value?(openBlock(),createElementBlock("div",{key:1,class:"mobile-preferences-overlay",onClick:v},[createBaseVNode("div",{class:"mobile-preferences-container",onClick:T[3]||(T[3]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_8$b,[T[14]||(T[14]=createBaseVNode("div",{class:"header-drag-handle"},null,-1)),createBaseVNode("div",{class:"header-title-bar"},[T[13]||(T[13]=createBaseVNode("h3",null,"完善投资偏好",-1)),createBaseVNode("button",{class:"mobile-close-btn",onClick:v},T[12]||(T[12]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2"})],-1)]))]),T[15]||(T[15]=createBaseVNode("p",{class:"header-subtitle"},"帮助我们为您提供更精准的投资建议",-1)),createBaseVNode("div",_hoisted_9$b,[(openBlock(),createElementBlock(Fragment,null,renderList(totalSteps,(I,L)=>createBaseVNode("div",{key:L,class:normalizeClass(["mobile-step-dot",{active:S.value===L,completed:S.value>L}])},[S.value>L?(openBlock(),createElementBlock("span",_hoisted_10$b,"✓")):(openBlock(),createElementBlock("span",_hoisted_11$a,toDisplayString(L+1),1))],2)),64))])]),createBaseVNode("div",_hoisted_12$a,[c.value?(openBlock(),createBlock(InvestmentPreferencesForm,{key:0,currentStep:S.value,preferencesForm:g,"onUpdate:preferencesForm":b,"onUpdate:currentStep":T[2]||(T[2]=I=>S.value=I)},null,8,["currentStep","preferencesForm"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_13$a,[S.value>0?(openBlock(),createElementBlock("button",{key:0,class:"mobile-back-btn",onClick:$}," 上一步 ")):createCommentVNode("",!0),S.value<totalSteps-1?(openBlock(),createElementBlock("button",{key:1,class:"mobile-next-btn",onClick:y,disabled:!N.value}," 下一步 ",8,_hoisted_14$8)):createCommentVNode("",!0),S.value===totalSteps-1?(openBlock(),createElementBlock("button",{key:2,class:"mobile-submit-btn",onClick:x,disabled:!N.value||k.value},[k.value?(openBlock(),createElementBlock("span",_hoisted_16$8,"提交中...")):(openBlock(),createElementBlock("span",_hoisted_17$8,"完成设置"))],8,_hoisted_15$8)):createCommentVNode("",!0),createBaseVNode("button",{class:"mobile-skip-btn",onClick:v}," 跳过 ")])])])):createCommentVNode("",!0):(openBlock(),createBlock(B,{key:0,modelValue:c.value,"onUpdate:modelValue":T[1]||(T[1]=I=>c.value=I),"show-close":!1,"close-on-click-modal":!1,"lock-scroll":!1,width:m.value,class:"preferences-dialog","append-to-body":""},{header:withCtx(()=>T[4]||(T[4]=[createBaseVNode("div",null,null,-1)])),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$f,[T[5]||(T[5]=createBaseVNode("div",{class:"preferences-logo"},[createBaseVNode("img",{src:_imports_0,alt:"InvestAI Logo",class:"logo-image"})],-1)),T[6]||(T[6]=createBaseVNode("h1",{class:"preferences-title"},"完善投资偏好",-1)),T[7]||(T[7]=createBaseVNode("p",{class:"preferences-subtitle"},"帮助我们为您提供更精准的投资建议",-1)),createBaseVNode("div",_hoisted_3$f,[(openBlock(),createElementBlock(Fragment,null,renderList(totalSteps,(I,L)=>createBaseVNode("div",{key:L,class:normalizeClass(["step-dot",{active:S.value===L,completed:S.value>L}])},[S.value>L?(openBlock(),createElementBlock("span",_hoisted_4$e,"✓")):(openBlock(),createElementBlock("span",_hoisted_5$d,toDisplayString(L+1),1))],2)),64))])]),createBaseVNode("div",_hoisted_6$d,[c.value?(openBlock(),createBlock(InvestmentPreferencesForm,{key:0,currentStep:S.value,preferencesForm:g,"onUpdate:preferencesForm":b,"onUpdate:currentStep":T[0]||(T[0]=I=>S.value=I)},null,8,["currentStep","preferencesForm"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$c,[S.value>0?(openBlock(),createBlock(D,{key:0,class:"preferences-back-btn",onClick:$},{default:withCtx(()=>T[8]||(T[8]=[createTextVNode(" 上一步 ")])),_:1,__:[8]})):createCommentVNode("",!0),S.value<totalSteps-1?(openBlock(),createBlock(D,{key:1,class:"preferences-next-btn",type:"primary",onClick:y,disabled:!N.value},{default:withCtx(()=>T[9]||(T[9]=[createTextVNode(" 下一步 ")])),_:1,__:[9]},8,["disabled"])):createCommentVNode("",!0),S.value===totalSteps-1?(openBlock(),createBlock(D,{key:2,class:"preferences-submit-btn",type:"primary",onClick:x,loading:k.value,disabled:!N.value},{default:withCtx(()=>T[10]||(T[10]=[createTextVNode(" 完成设置 ")])),_:1,__:[10]},8,["loading","disabled"])):createCommentVNode("",!0),createVNode(D,{class:"preferences-skip-btn",onClick:v},{default:withCtx(()=>T[11]||(T[11]=[createTextVNode(" 跳过 ")])),_:1,__:[11]})])])]),_:1},8,["modelValue","width"]))}}},InvestmentPreferencesDialog=_export_sfc(_sfc_main$h,[["__scopeId","data-v-10d02739"]]),_hoisted_1$g={key:0,class:"trading-interface"},_hoisted_2$e={class:"stock-header-section"},_hoisted_3$e={class:"header-main-content"},_hoisted_4$d={class:"stock-basic-info"},_hoisted_5$c={class:"stock-title-row"},_hoisted_6$c={class:"stock-name-group"},_hoisted_7$b={class:"buy-dialog-stock-name"},_hoisted_8$a={class:"buy-dialog-stock-code"},_hoisted_9$a={class:"stock-price-row"},_hoisted_10$a={class:"price-main"},_hoisted_11$9={class:"buy-dialog-current-price"},_hoisted_12$9={class:"change-amount"},_hoisted_13$9={class:"change-percent"},_hoisted_14$7={class:"price-stats"},_hoisted_15$7={class:"stat-item"},_hoisted_16$7={class:"stat-value"},_hoisted_17$7={class:"stat-item"},_hoisted_18$7={class:"stat-value"},_hoisted_19$7={class:"header-actions"},_hoisted_20$7={class:"action-buttons"},_hoisted_21$7={class:"header-info-bar"},_hoisted_22$7={class:"info-item"},_hoisted_23$7={class:"info-value up"},_hoisted_24$7={class:"info-item"},_hoisted_25$7={class:"info-value down"},_hoisted_26$7={class:"trading-main-content"},_hoisted_27$7={class:"left-panel"},_hoisted_28$7={class:"trading-panel"},_hoisted_29$6={class:"panel-tabs"},_hoisted_30$6={class:"trading-form"},_hoisted_31$6={key:0,class:"cancel-orders-section"},_hoisted_32$6={key:0,class:"no-orders"},_hoisted_33$6={key:1,class:"orders-list"},_hoisted_34$6={class:"order-header"},_hoisted_35$5={class:"order-time"},_hoisted_36$5={class:"order-details"},_hoisted_37$5={class:"order-info"},_hoisted_38$5={class:"info-item"},_hoisted_39$4={class:"value"},_hoisted_40$4={class:"info-item"},_hoisted_41$3={class:"value"},_hoisted_42$3={class:"info-item"},_hoisted_43$3={class:"value"},_hoisted_44$3={class:"order-actions"},_hoisted_45$3={key:1},_hoisted_46$3={class:"order-type-section"},_hoisted_47$2={class:"input-row"},_hoisted_48$2={key:0,class:"price-section"},_hoisted_49$2={class:"input-row"},_hoisted_50$2={class:"price-input-group"},_hoisted_51$2={class:"price-controls"},_hoisted_52$2={key:1,class:"market-order-info"},_hoisted_53$2={class:"info-row"},_hoisted_54$2={class:"info-text"},_hoisted_55$2={class:"quantity-section"},_hoisted_56$2={class:"input-row"},_hoisted_57$2={class:"quantity-input-group"},_hoisted_58$2={class:"quantity-shortcuts"},_hoisted_59$2={class:"available-info"},_hoisted_60$2={class:"info-row"},_hoisted_61$2={class:"label"},_hoisted_62$2={class:"value"},_hoisted_63$2={class:"trade-summary"},_hoisted_64$2={class:"summary-row"},_hoisted_65$2={class:"value"},_hoisted_66$2={class:"action-section"},_hoisted_67$2={class:"account-info-section"},_hoisted_68$2={class:"account-row"},_hoisted_69$2={class:"value"},_hoisted_70$1={key:0,class:"account-row"},_hoisted_71$1={class:"value"},_hoisted_72$1={key:1,class:"account-row"},_hoisted_73$1={class:"value"},_hoisted_74$1={class:"right-panel"},_hoisted_75$1={class:"market-depth"},_hoisted_76$1={class:"depth-header"},_hoisted_77$1={class:"refresh-time"},_hoisted_78={class:"depth-content"},_hoisted_79={class:"depth-table"},_hoisted_80={class:"sell-orders"},_hoisted_81={class:"order-label"},_hoisted_82={class:"order-price"},_hoisted_83={class:"order-volume"},_hoisted_84={class:"current-price-row"},_hoisted_85={class:"current-change"},_hoisted_86={class:"buy-orders"},_hoisted_87={class:"order-label"},_hoisted_88={class:"order-price"},_hoisted_89={class:"order-volume"},_hoisted_90={class:"trading-footer"},_sfc_main$g={__name:"StockTradingDialog",props:{modelValue:{type:Boolean,default:!1},stock:{type:Object,default:null},tradeType:{type:String,default:"buy",validator:t=>["buy","sell","cancel"].includes(t)}},emits:["update:modelValue","trade-completed","watchlist-changed"],setup(t,{emit:e}){const s=t,o=e,a=useUserStore(),n=computed({get:()=>s.modelValue,set:J=>o("update:modelValue",J)}),r=ref(!1),d=ref(s.tradeType),m=ref([]),c=ref([]),l=reactive({orderType:"limit",price:"",quantity:100}),_=computed(()=>s.stock?a.isInWatchlist(s.stock.code):!1),k=computed(()=>a.balance),S=computed(()=>s.stock?a.getPosition(s.stock.code):null),g=computed(()=>{if(!s.stock)return 100;if(d.value==="sell"){const P=a.getPosition(s.stock.code);return P?P.quantity:0}const J=parseFloat(s.stock.price),M=a.balance,R=Math.floor(M/J/100)*100;return Math.max(100,R)}),N=computed(()=>{if(!s.stock)return 0;const J=l.orderType==="market"?parseFloat(s.stock.price):parseFloat(l.price)||parseFloat(s.stock.price),M=a.balance,R=Math.floor(M/J/100)*100;return console.log("可买股数计算:",{stockPrice:s.stock.price,orderType:l.orderType,formPrice:l.price,finalPrice:J,availableFunds:M,calculatedQuantity:R}),R}),f=computed(()=>{if(!s.stock)return 0;const J=a.getPosition(s.stock.code);return J?J.quantity:0}),E=computed(()=>{if(!s.stock||!l.quantity)return 0;const J=l.orderType==="market"?parseFloat(s.stock.price):parseFloat(l.price)||parseFloat(s.stock.price);return l.quantity*J}),b=computed(()=>!s.stock||!l.quantity?!1:d.value==="sell"?f.value>=l.quantity:E.value<=a.balance&&l.quantity>=100),y=computed(()=>s.stock?a.getPendingOrdersByStock(s.stock.code):[]),$=()=>new Date().toLocaleTimeString("zh-CN",{hour12:!1}),w=J=>{if(!J)return"0.00%";if(typeof J=="string"&&J.includes("%"))return J;const M=parseFloat(J);return M>=0?`+${M.toFixed(2)}%`:`${M.toFixed(2)}%`},x=J=>{const M=parseFloat(l.price)||0,R=Math.max(0,M+J);l.price=R.toFixed(2)},v=J=>{if(s.stock)if(d.value==="sell"){const M=a.getPosition(s.stock.code),R=Math.floor(((M==null?void 0:M.quantity)||0)*J/100/100)*100;l.quantity=Math.max(100,R)}else{const M=l.orderType==="market"?parseFloat(s.stock.price):parseFloat(l.price)||parseFloat(s.stock.price),R=a.balance*J/100,P=Math.floor(R/M/100)*100;l.quantity=Math.max(100,P)}},C=()=>{if(!s.stock)return;const J=parseFloat(s.stock.price);m.value=[],c.value=[];for(let M=0;M<5;M++)m.value.push({price:(J+(5-M)*.05).toFixed(2),volume:Math.floor(Math.random()*500+100)+"手"});for(let M=0;M<5;M++)c.value.push({price:(J-(M+1)*.05).toFixed(2),volume:Math.floor(Math.random()*500+100)+"手"})},T=()=>{a.addToWatchlist(s.stock)?(ElMessage.success(`${s.stock.name} 已加入自选股`),o("watchlist-changed",{action:"add",stock:s.stock})):ElMessage.warning(`${s.stock.name} 已在自选股中`)},D=()=>{a.removeFromWatchlist(s.stock.code)?(ElMessage.success("已从自选股中移除"),o("watchlist-changed",{action:"remove",stock:s.stock})):ElMessage.error("移除失败")},B=async()=>{if(b.value){r.value=!0;try{await new Promise(K=>setTimeout(K,1500));const J=l.orderType==="market"?parseFloat(s.stock.price):parseFloat(l.price),M={stock:s.stock,type:d.value,orderType:l.orderType,price:J,quantity:l.quantity,amount:E.value,timestamp:new Date().toISOString()},R={stockCode:s.stock.code,stockName:s.stock.name,type:d.value,orderType:l.orderType,price:J,quantity:l.quantity},P=a.addPendingOrder(R);if(ElMessage.success({message:`委托${d.value==="buy"?"买入":"卖出"}已提交
委托编号：${P.id.slice(-8)}`,duration:3e3,showClose:!0}),d.value==="buy"){const K=a.buyStock(s.stock,l.quantity,J);if(K.success)ElMessage.success(`买入委托已提交：${s.stock.name} ${l.quantity}股`);else{ElMessage.error(K.message);return}}else{const K=a.sellStock(s.stock.code,l.quantity,J);if(K.success)ElMessage.success(`卖出委托已提交：${s.stock.name} ${l.quantity}股`);else{ElMessage.error(K.message);return}}o("trade-completed",M),se()}catch(J){console.error("交易失败:",J),ElMessage.error("交易失败，请重试")}finally{r.value=!1}}},I=J=>{d.value=J,l.quantity=100,s.stock&&(l.price=s.stock.price)},L=()=>{d.value="cancel"},U=async J=>{try{const M=y.value.find(P=>P.id===J);if(!M){ElMessage.error("委托单不存在");return}await ElMessageBox.confirm(`确定要撤销这笔委托吗？

${M.type==="buy"?"买入":"卖出"} ${M.stockName}
委托价格：¥${M.price.toFixed(2)}
委托数量：${M.quantity}股`,"确认撤单",{confirmButtonText:"确定撤单",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!1,customClass:"high-z-index-dialog",appendTo:"body"})&&(a.cancelPendingOrder(J)?ElMessage.success("委托单已撤销"):ElMessage.error("撤单失败，该委托单可能已经成交"))}catch(M){if(M==="cancel")return;console.error("撤单失败:",M),ElMessage.error("撤单失败，请重试")}},Y=J=>new Date(J).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),se=()=>{n.value=!1};return watch(()=>s.stock,J=>{J&&(l.price=J.price,l.quantity=100,C())},{immediate:!0}),watch(()=>s.tradeType,J=>{d.value=J},{immediate:!0}),watch(n,J=>{J&&s.stock&&(l.orderType||(l.orderType="limit"),nextTick(()=>{C()}))}),(J,M)=>{const R=resolveComponent("el-button"),P=resolveComponent("el-input"),K=resolveComponent("el-input-number"),X=resolveComponent("el-dialog");return openBlock(),createBlock(X,{modelValue:n.value,"onUpdate:modelValue":M[11]||(M[11]=W=>n.value=W),title:"",width:"800px",class:"buy-dialog","show-close":!1,"z-index":11e3},{footer:withCtx(()=>[createBaseVNode("div",_hoisted_90,[createVNode(R,{class:"cancel-btn",onClick:se},{default:withCtx(()=>M[48]||(M[48]=[createTextVNode("取消")])),_:1,__:[48]})])]),default:withCtx(()=>[t.stock?(openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",_hoisted_4$d,[createBaseVNode("div",_hoisted_5$c,[createBaseVNode("div",_hoisted_6$c,[createBaseVNode("h2",_hoisted_7$b,toDisplayString(t.stock.name),1),createBaseVNode("span",_hoisted_8$a,toDisplayString(t.stock.code),1)]),M[12]||(M[12]=createBaseVNode("div",{class:"stock-tags"},[createBaseVNode("span",{class:"tag-item"},"A股"),createBaseVNode("span",{class:"tag-item"},"主板")],-1))]),createBaseVNode("div",_hoisted_9$a,[createBaseVNode("div",_hoisted_10$a,[createBaseVNode("span",_hoisted_11$9,"¥"+toDisplayString(t.stock.price),1),createBaseVNode("div",{class:normalizeClass(["price-change-group",t.stock.change>=0?"up":"down"])},[createBaseVNode("span",_hoisted_12$9,toDisplayString(t.stock.change>=0?"+":"")+toDisplayString(t.stock.change),1),createBaseVNode("span",_hoisted_13$9,"("+toDisplayString(w(t.stock.changePercent))+")",1)],2)]),createBaseVNode("div",_hoisted_14$7,[createBaseVNode("div",_hoisted_15$7,[M[13]||(M[13]=createBaseVNode("span",{class:"stat-label"},"今开",-1)),createBaseVNode("span",_hoisted_16$7,toDisplayString((parseFloat(t.stock.price)-2.5).toFixed(2)),1)]),createBaseVNode("div",_hoisted_17$7,[M[14]||(M[14]=createBaseVNode("span",{class:"stat-label"},"昨收",-1)),createBaseVNode("span",_hoisted_18$7,toDisplayString((parseFloat(t.stock.price)-parseFloat(t.stock.change)).toFixed(2)),1)]),M[15]||(M[15]=createBaseVNode("div",{class:"stat-item"},[createBaseVNode("span",{class:"stat-label"},"成交量"),createBaseVNode("span",{class:"stat-value"},"1.2万手")],-1))])])]),createBaseVNode("div",_hoisted_19$7,[M[19]||(M[19]=createBaseVNode("div",{class:"market-status-card"},[createBaseVNode("div",{class:"status-indicator"},[createBaseVNode("span",{class:"status-dot"}),createBaseVNode("span",{class:"status-text"},"交易中")]),createBaseVNode("div",{class:"trading-time"},"09:30-15:00")],-1)),createBaseVNode("div",_hoisted_20$7,[_.value?(openBlock(),createBlock(R,{key:1,class:"action-btn favorite-btn favorited",size:"small",onClick:D},{default:withCtx(()=>M[17]||(M[17]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:"currentColor"})],-1),createTextVNode(" 已加自选 ")])),_:1,__:[17]})):(openBlock(),createBlock(R,{key:0,class:"action-btn favorite-btn",size:"small",onClick:T},{default:withCtx(()=>M[16]||(M[16]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1),createTextVNode(" 加入自选 ")])),_:1,__:[16]})),createVNode(R,{class:"close-btn",circle:"",onClick:se},{default:withCtx(()=>M[18]||(M[18]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)])),_:1,__:[18]})])])]),createBaseVNode("div",_hoisted_21$7,[createBaseVNode("div",_hoisted_22$7,[M[20]||(M[20]=createBaseVNode("span",{class:"info-label"},"涨停",-1)),createBaseVNode("span",_hoisted_23$7,toDisplayString((parseFloat(t.stock.price)*1.1).toFixed(2)),1)]),createBaseVNode("div",_hoisted_24$7,[M[21]||(M[21]=createBaseVNode("span",{class:"info-label"},"跌停",-1)),createBaseVNode("span",_hoisted_25$7,toDisplayString((parseFloat(t.stock.price)*.9).toFixed(2)),1)]),M[22]||(M[22]=createBaseVNode("div",{class:"info-item"},[createBaseVNode("span",{class:"info-label"},"总市值"),createBaseVNode("span",{class:"info-value"},"1,234.56亿")],-1)),M[23]||(M[23]=createBaseVNode("div",{class:"info-item"},[createBaseVNode("span",{class:"info-label"},"流通市值"),createBaseVNode("span",{class:"info-value"},"987.65亿")],-1)),M[24]||(M[24]=createBaseVNode("div",{class:"info-item"},[createBaseVNode("span",{class:"info-label"},"市盈率"),createBaseVNode("span",{class:"info-value"},"15.6")],-1)),M[25]||(M[25]=createBaseVNode("div",{class:"info-item"},[createBaseVNode("span",{class:"info-label"},"市净率"),createBaseVNode("span",{class:"info-value"},"2.3")],-1))])]),createBaseVNode("div",_hoisted_26$7,[createBaseVNode("div",_hoisted_27$7,[createBaseVNode("div",_hoisted_28$7,[createBaseVNode("div",_hoisted_29$6,[createBaseVNode("div",{class:normalizeClass(["tab-item",{active:d.value==="buy"}]),onClick:M[0]||(M[0]=W=>I("buy"))},"买入",2),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:d.value==="sell"}]),onClick:M[1]||(M[1]=W=>I("sell"))},"卖出",2),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:d.value==="cancel"}]),onClick:L},"撤单",2)]),createBaseVNode("div",_hoisted_30$6,[d.value==="cancel"?(openBlock(),createElementBlock("div",_hoisted_31$6,[y.value.length===0?(openBlock(),createElementBlock("div",_hoisted_32$6,M[26]||(M[26]=[createBaseVNode("div",{class:"no-orders-icon"},"📋",-1),createBaseVNode("div",{class:"no-orders-text"},"暂无待撤销的委托单",-1)]))):(openBlock(),createElementBlock("div",_hoisted_33$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value,W=>(openBlock(),createElementBlock("div",{key:W.id,class:"order-item"},[createBaseVNode("div",_hoisted_34$6,[createBaseVNode("span",{class:normalizeClass(["order-type",W.type])},toDisplayString(W.type==="buy"?"买入":"卖出"),3),createBaseVNode("span",_hoisted_35$5,toDisplayString(Y(W.createdAt)),1)]),createBaseVNode("div",_hoisted_36$5,[createBaseVNode("div",_hoisted_37$5,[createBaseVNode("div",_hoisted_38$5,[M[27]||(M[27]=createBaseVNode("span",{class:"label"},"委托价格",-1)),createBaseVNode("span",_hoisted_39$4,"¥"+toDisplayString(W.price.toFixed(2)),1)]),createBaseVNode("div",_hoisted_40$4,[M[28]||(M[28]=createBaseVNode("span",{class:"label"},"委托数量",-1)),createBaseVNode("span",_hoisted_41$3,toDisplayString(W.quantity)+"股",1)]),createBaseVNode("div",_hoisted_42$3,[M[29]||(M[29]=createBaseVNode("span",{class:"label"},"委托金额",-1)),createBaseVNode("span",_hoisted_43$3,"¥"+toDisplayString((W.price*W.quantity).toFixed(2)),1)])]),createBaseVNode("div",_hoisted_44$3,[createVNode(R,{size:"small",type:"danger",onClick:Be=>U(W.id)},{default:withCtx(()=>M[30]||(M[30]=[createTextVNode(" 撤单 ")])),_:2,__:[30]},1032,["onClick"])])])]))),128))]))])):(openBlock(),createElementBlock("div",_hoisted_45$3,[createBaseVNode("div",_hoisted_46$3,[createBaseVNode("div",_hoisted_47$2,[M[32]||(M[32]=createBaseVNode("span",{class:"input-label"},"委托类型",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":M[2]||(M[2]=W=>l.orderType=W),class:"custom-order-select"},M[31]||(M[31]=[createBaseVNode("option",{value:"limit"},"限价委托",-1),createBaseVNode("option",{value:"market"},"市价委托",-1)]),512),[[vModelSelect,l.orderType]])])]),l.orderType==="limit"?(openBlock(),createElementBlock("div",_hoisted_48$2,[createBaseVNode("div",_hoisted_49$2,[M[35]||(M[35]=createBaseVNode("span",{class:"input-label"},"委托价格",-1)),createBaseVNode("div",_hoisted_50$2,[createVNode(P,{modelValue:l.price,"onUpdate:modelValue":M[3]||(M[3]=W=>l.price=W),class:"price-input",placeholder:"请输入委托价格"},null,8,["modelValue"]),createBaseVNode("div",_hoisted_51$2,[createVNode(R,{size:"small",class:"price-btn",onClick:M[4]||(M[4]=W=>x(.01))},{default:withCtx(()=>M[33]||(M[33]=[createTextVNode("+")])),_:1,__:[33]}),createVNode(R,{size:"small",class:"price-btn",onClick:M[5]||(M[5]=W=>x(-.01))},{default:withCtx(()=>M[34]||(M[34]=[createTextVNode("-")])),_:1,__:[34]})])])])])):createCommentVNode("",!0),l.orderType==="market"?(openBlock(),createElementBlock("div",_hoisted_52$2,[createBaseVNode("div",_hoisted_53$2,[M[36]||(M[36]=createBaseVNode("span",{class:"info-icon"},"ℹ️",-1)),createBaseVNode("span",_hoisted_54$2,"市价委托将以当前市场价格 ¥"+toDisplayString(t.stock.price)+" 执行交易",1)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_55$2,[createBaseVNode("div",_hoisted_56$2,[M[37]||(M[37]=createBaseVNode("span",{class:"input-label"},"委托数量",-1)),createBaseVNode("div",_hoisted_57$2,[createVNode(K,{modelValue:l.quantity,"onUpdate:modelValue":M[6]||(M[6]=W=>l.quantity=W),min:100,step:100,max:g.value,"controls-position":"right",class:"quantity-input"},null,8,["modelValue","max"])])]),createBaseVNode("div",_hoisted_58$2,[createVNode(R,{size:"small",onClick:M[7]||(M[7]=W=>v(100))},{default:withCtx(()=>[createTextVNode(toDisplayString(d.value==="sell"?"全部":"全仓"),1)]),_:1}),createVNode(R,{size:"small",onClick:M[8]||(M[8]=W=>v(50))},{default:withCtx(()=>M[38]||(M[38]=[createTextVNode("1/2")])),_:1,__:[38]}),createVNode(R,{size:"small",onClick:M[9]||(M[9]=W=>v(33))},{default:withCtx(()=>M[39]||(M[39]=[createTextVNode("1/3")])),_:1,__:[39]}),createVNode(R,{size:"small",onClick:M[10]||(M[10]=W=>v(25))},{default:withCtx(()=>M[40]||(M[40]=[createTextVNode("1/4")])),_:1,__:[40]})])]),createBaseVNode("div",_hoisted_59$2,[createBaseVNode("div",_hoisted_60$2,[createBaseVNode("span",_hoisted_61$2,toDisplayString(d.value==="sell"?"可卖---":"可买---"),1),createBaseVNode("span",_hoisted_62$2,toDisplayString(d.value==="sell"?f.value:N.value)+"股",1)])]),createBaseVNode("div",_hoisted_63$2,[createBaseVNode("div",_hoisted_64$2,[M[41]||(M[41]=createBaseVNode("span",{class:"label"},"委托金额",-1)),createBaseVNode("span",_hoisted_65$2,toDisplayString(E.value.toFixed(2)),1)])]),createBaseVNode("div",_hoisted_66$2,[createVNode(R,{class:"buy-action-btn",type:"danger",size:"large",onClick:B,loading:r.value,disabled:!b.value},{default:withCtx(()=>[createTextVNode(toDisplayString(d.value==="sell"?"委托卖出":"委托买入"),1)]),_:1},8,["loading","disabled"])]),createBaseVNode("div",_hoisted_67$2,[createBaseVNode("div",_hoisted_68$2,[M[42]||(M[42]=createBaseVNode("span",{class:"label"},"资金余额",-1)),createBaseVNode("span",_hoisted_69$2,toDisplayString(k.value.toFixed(2)),1)]),S.value?(openBlock(),createElementBlock("div",_hoisted_70$1,[M[43]||(M[43]=createBaseVNode("span",{class:"label"},"持仓数量",-1)),createBaseVNode("span",_hoisted_71$1,toDisplayString(S.value.quantity),1)])):createCommentVNode("",!0),S.value?(openBlock(),createElementBlock("div",_hoisted_72$1,[M[44]||(M[44]=createBaseVNode("span",{class:"label"},"可卖数量",-1)),createBaseVNode("span",_hoisted_73$1,toDisplayString(S.value.quantity),1)])):createCommentVNode("",!0)])]))])])]),createBaseVNode("div",_hoisted_74$1,[createBaseVNode("div",_hoisted_75$1,[createBaseVNode("div",_hoisted_76$1,[M[45]||(M[45]=createBaseVNode("span",null,"五档行情",-1)),createBaseVNode("span",_hoisted_77$1,toDisplayString($()),1)]),createBaseVNode("div",_hoisted_78,[createBaseVNode("div",_hoisted_79,[M[47]||(M[47]=createBaseVNode("div",{class:"table-header"},[createBaseVNode("span",{class:"col-label"},"档位"),createBaseVNode("span",{class:"col-price"},"价格"),createBaseVNode("span",{class:"col-volume"},"数量")],-1)),createBaseVNode("div",_hoisted_80,[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.value,(W,Be)=>(openBlock(),createElementBlock("div",{key:Be,class:"order-row sell"},[createBaseVNode("span",_hoisted_81,"卖"+toDisplayString(5-Be),1),createBaseVNode("span",_hoisted_82,toDisplayString(W.price),1),createBaseVNode("span",_hoisted_83,toDisplayString(W.volume),1)]))),128))]),createBaseVNode("div",_hoisted_84,[M[46]||(M[46]=createBaseVNode("span",{class:"current-label"},"现价",-1)),createBaseVNode("span",{class:normalizeClass(["current-value",t.stock.change>=0?"up":"down"])},toDisplayString(t.stock.price),3),createBaseVNode("span",_hoisted_85,toDisplayString(w(t.stock.changePercent)),1)]),createBaseVNode("div",_hoisted_86,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(W,Be)=>(openBlock(),createElementBlock("div",{key:Be,class:"order-row buy"},[createBaseVNode("span",_hoisted_87,"买"+toDisplayString(Be+1),1),createBaseVNode("span",_hoisted_88,toDisplayString(W.price),1),createBaseVNode("span",_hoisted_89,toDisplayString(W.volume),1)]))),128))])])])])])])])):createCommentVNode("",!0)]),_:1},8,["modelValue"])}}},StockTradingDialog=_export_sfc(_sfc_main$g,[["__scopeId","data-v-59a86d89"]]),_hoisted_1$f={class:"mobile-dialog-header"},_hoisted_2$d={class:"stock-info"},_hoisted_3$d={class:"stock-main-info"},_hoisted_4$c={class:"stock-name"},_hoisted_5$b={class:"stock-code"},_hoisted_6$b={class:"stock-price-info"},_hoisted_7$a={class:"current-price"},_hoisted_8$9={class:"mobile-dialog-content"},_hoisted_9$9={class:"trading-main-layout"},_hoisted_10$9={class:"left-trading-panel"},_hoisted_11$8={class:"trade-type-tabs"},_hoisted_12$8={key:0,class:"cancel-orders-section"},_hoisted_13$8={key:0,class:"no-orders"},_hoisted_14$6={key:1,class:"mobile-orders-list"},_hoisted_15$6={class:"mobile-order-header"},_hoisted_16$6={class:"mobile-order-time"},_hoisted_17$6={class:"mobile-order-content"},_hoisted_18$6={class:"mobile-order-info"},_hoisted_19$6={class:"mobile-info-row"},_hoisted_20$6={class:"mobile-info-value"},_hoisted_21$6={class:"mobile-info-row"},_hoisted_22$6={class:"mobile-info-value"},_hoisted_23$6={class:"mobile-info-row"},_hoisted_24$6={class:"mobile-info-value"},_hoisted_25$6=["onClick"],_hoisted_26$6={key:1},_hoisted_27$6={class:"form-section"},_hoisted_28$6={class:"order-type-selector"},_hoisted_29$5={key:0,class:"form-section"},_hoisted_30$5={class:"price-input-group"},_hoisted_31$5={class:"price-controls"},_hoisted_32$5={class:"form-section"},_hoisted_33$5={class:"quantity-input-group"},_hoisted_34$5={class:"quick-quantity-buttons"},_hoisted_35$4={class:"available-info"},_hoisted_36$4={class:"info-row"},_hoisted_37$4={class:"label"},_hoisted_38$4={class:"value"},_hoisted_39$3={class:"trade-summary"},_hoisted_40$3={class:"summary-row"},_hoisted_41$2={class:"value"},_hoisted_42$2={class:"action-section"},_hoisted_43$2=["disabled"],_hoisted_44$2={key:0,class:"loading-spinner"},_hoisted_45$2={key:1},_hoisted_46$2={class:"account-info-section"},_hoisted_47$1={class:"account-row"},_hoisted_48$1={class:"value"},_hoisted_49$1={key:0,class:"account-row"},_hoisted_50$1={class:"value"},_hoisted_51$1={key:1,class:"account-row"},_hoisted_52$1={class:"value"},_hoisted_53$1={class:"right-market-panel"},_hoisted_54$1={class:"market-depth"},_hoisted_55$1={class:"depth-header"},_hoisted_56$1={class:"refresh-time"},_hoisted_57$1={class:"depth-content"},_hoisted_58$1={class:"depth-table"},_hoisted_59$1={class:"sell-orders"},_hoisted_60$1=["onClick"],_hoisted_61$1={class:"order-label"},_hoisted_62$1={class:"order-price"},_hoisted_63$1={class:"order-volume"},_hoisted_64$1={class:"current-change"},_hoisted_65$1={class:"buy-orders"},_hoisted_66$1=["onClick"],_hoisted_67$1={class:"order-label"},_hoisted_68$1={class:"order-price"},_hoisted_69$1={class:"order-volume"},_sfc_main$f={__name:"MobileStockTradingDialog",props:{modelValue:{type:Boolean,default:!1},stock:{type:Object,default:null},tradeType:{type:String,default:"buy",validator:t=>["buy","sell","cancel"].includes(t)}},emits:["update:modelValue","trade-completed","watchlist-changed"],setup(t,{emit:e}){const s=t,o=e,a=useUserStore(),n=ref(!1),r=ref(s.tradeType),d=reactive({orderType:"limit",price:"",quantity:100}),m=computed(()=>{if(!s.stock)return[];const D=parseFloat(s.stock.price);return[{price:(D+.15).toFixed(2),volume:Math.floor(Math.random()*500+200)+"手"},{price:(D+.1).toFixed(2),volume:Math.floor(Math.random()*500+200)+"手"},{price:(D+.05).toFixed(2),volume:Math.floor(Math.random()*500+200)+"手"},{price:(D+.02).toFixed(2),volume:Math.floor(Math.random()*500+200)+"手"},{price:(D+.01).toFixed(2),volume:Math.floor(Math.random()*500+200)+"手"}]}),c=computed(()=>{if(!s.stock)return[];const D=parseFloat(s.stock.price);return[{price:(D-.01).toFixed(2),volume:Math.floor(Math.random()*500+200)+"手"},{price:(D-.02).toFixed(2),volume:Math.floor(Math.random()*500+200)+"手"},{price:(D-.05).toFixed(2),volume:Math.floor(Math.random()*500+200)+"手"},{price:(D-.1).toFixed(2),volume:Math.floor(Math.random()*500+200)+"手"},{price:(D-.15).toFixed(2),volume:Math.floor(Math.random()*500+200)+"手"}]}),l=computed(()=>a.balance),_=computed(()=>s.stock?a.getPosition(s.stock.code):null),k=computed(()=>{if(!s.stock)return 0;const D=d.orderType==="market"?parseFloat(s.stock.price):parseFloat(d.price)||parseFloat(s.stock.price),B=a.balance;return Math.floor(B/D/100)*100}),S=computed(()=>{if(!s.stock)return 0;const D=a.getPosition(s.stock.code);return D?D.quantity:0}),g=computed(()=>{if(!s.stock||!d.quantity)return 0;const D=d.orderType==="market"?parseFloat(s.stock.price):parseFloat(d.price)||parseFloat(s.stock.price);return d.quantity*D}),N=computed(()=>!s.stock||!d.quantity||d.quantity<100?!1:r.value==="sell"?S.value>=d.quantity:g.value*1.0003<=a.balance&&d.quantity>=100),f=computed(()=>s.stock?a.getPendingOrdersByStock(s.stock.code):[]),E=()=>{o("update:modelValue",!1)},b=D=>{r.value=D,D!=="cancel"&&(d.quantity=100,s.stock&&(d.price=s.stock.price))},y=async D=>{try{const B=f.value.find(U=>U.id===D);if(!B){alert("委托单不存在");return}const I=`确定要撤销这笔委托吗？

${B.type==="buy"?"买入":"卖出"} ${B.stockName}
委托价格：¥${B.price.toFixed(2)}
委托数量：${B.quantity}股`;if(!confirm(I))return;const L=a.cancelPendingOrder(D);alert(L?"委托单已撤销":"撤单失败，该委托单可能已经成交")}catch(B){console.error("撤单失败:",B),alert("撤单失败，请重试")}},$=D=>new Date(D).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),w=D=>{const B=parseFloat(d.price)||0,I=Math.max(0,B+D);d.price=I.toFixed(2)},x=(D,B=null)=>{if(!s.stock)return;if(B){d.price=B;return}const I=parseFloat(s.stock.price);switch(D){case"current":d.price=I.toFixed(2);break}},v=D=>{if(s.stock)if(r.value==="sell"){const B=a.getPosition(s.stock.code),I=Math.floor(((B==null?void 0:B.quantity)||0)*D/100/100)*100;d.quantity=Math.max(100,I)}else{const B=d.orderType==="market"?parseFloat(s.stock.price):parseFloat(d.price)||parseFloat(s.stock.price),I=a.balance*D/100,L=Math.floor(I/B/100)*100;d.quantity=Math.max(100,L)}},C=()=>new Date().toLocaleTimeString("zh-CN",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),T=async()=>{if(!N.value)return;const D=r.value==="buy"?`确认买入 ${s.stock.name}
数量: ${d.quantity}股
价格: ¥${d.orderType==="market"?s.stock.price:d.price}
金额: ¥${g.value.toFixed(2)}`:`确认卖出 ${s.stock.name}
数量: ${d.quantity}股
价格: ¥${d.orderType==="market"?s.stock.price:d.price}
金额: ¥${g.value.toFixed(2)}`;if(confirm(D)){n.value=!0;try{await new Promise(Y=>setTimeout(Y,1500));const B=d.orderType==="market"?parseFloat(s.stock.price):parseFloat(d.price),I={stock:s.stock,type:r.value,orderType:d.orderType,price:B,quantity:d.quantity,amount:g.value,timestamp:new Date().toISOString()},L={stockCode:s.stock.code,stockName:s.stock.name,type:r.value,orderType:d.orderType,price:B,quantity:d.quantity},U=a.addPendingOrder(L);if(r.value==="buy"){const Y=a.buyStock(s.stock,d.quantity,B);if(Y.success)alert(`买入委托已提交！
委托编号：${U.id.slice(-8)}
${s.stock.name} ${d.quantity}股`);else{alert(Y.message);return}}else if(a.sellStock(s.stock.code,d.quantity,B).success)alert(`卖出成功！
${s.stock.name} ${d.quantity}股`);else{alert("持仓数量不足");return}o("trade-completed",I),E()}catch(B){console.error("交易失败:",B),alert("交易失败，请重试")}finally{n.value=!1}}};return watch(()=>s.stock,D=>{D&&(d.price=D.price,d.quantity=100)},{immediate:!0}),watch(()=>s.tradeType,D=>{r.value=D},{immediate:!0}),(D,B)=>{var I,L,U,Y,se,J,M,R,P,K,X;return t.modelValue?(openBlock(),createElementBlock("div",{key:0,class:"mobile-stock-dialog",onClick:E},[createBaseVNode("div",{class:"mobile-dialog-container",onClick:B[14]||(B[14]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$d,[createBaseVNode("h3",_hoisted_4$c,toDisplayString(((I=t.stock)==null?void 0:I.name)||"股票名称"),1),createBaseVNode("span",_hoisted_5$b,toDisplayString(((L=t.stock)==null?void 0:L.code)||"000000"),1)]),createBaseVNode("div",_hoisted_6$b,[createBaseVNode("div",_hoisted_7$a,"¥"+toDisplayString(((U=t.stock)==null?void 0:U.price)||"0.00"),1),createBaseVNode("div",{class:normalizeClass(["price-change",((Y=t.stock)==null?void 0:Y.change)>=0?"up":"down"])},toDisplayString(((se=t.stock)==null?void 0:se.change)>=0?"+":"")+toDisplayString(((J=t.stock)==null?void 0:J.change)||"0.00")+" ("+toDisplayString(((M=t.stock)==null?void 0:M.changePercent)>=0?"+":"")+toDisplayString(((R=t.stock)==null?void 0:R.changePercent)||"0.00")+"%) ",3)])]),createBaseVNode("button",{class:"close-btn",onClick:E},B[15]||(B[15]=[createBaseVNode("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)]))]),createBaseVNode("div",_hoisted_8$9,[createBaseVNode("div",_hoisted_9$9,[createBaseVNode("div",_hoisted_10$9,[createBaseVNode("div",_hoisted_11$8,[createBaseVNode("div",{class:normalizeClass(["tab-item",{active:r.value==="buy"}]),onClick:B[0]||(B[0]=W=>b("buy"))}," 买入 ",2),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:r.value==="sell"}]),onClick:B[1]||(B[1]=W=>b("sell"))}," 卖出 ",2),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:r.value==="cancel"}]),onClick:B[2]||(B[2]=W=>b("cancel"))}," 撤单 ",2)]),r.value==="cancel"?(openBlock(),createElementBlock("div",_hoisted_12$8,[f.value.length===0?(openBlock(),createElementBlock("div",_hoisted_13$8,B[16]||(B[16]=[createBaseVNode("div",{class:"no-orders-icon"},"📋",-1),createBaseVNode("div",{class:"no-orders-text"},"暂无待撤销的委托单",-1)]))):(openBlock(),createElementBlock("div",_hoisted_14$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value,W=>(openBlock(),createElementBlock("div",{key:W.id,class:"mobile-order-item"},[createBaseVNode("div",_hoisted_15$6,[createBaseVNode("span",{class:normalizeClass(["mobile-order-type",W.type])},toDisplayString(W.type==="buy"?"买入":"卖出"),3),createBaseVNode("span",_hoisted_16$6,toDisplayString($(W.createdAt)),1)]),createBaseVNode("div",_hoisted_17$6,[createBaseVNode("div",_hoisted_18$6,[createBaseVNode("div",_hoisted_19$6,[B[17]||(B[17]=createBaseVNode("span",{class:"mobile-info-label"},"委托价格",-1)),createBaseVNode("span",_hoisted_20$6,"¥"+toDisplayString(W.price.toFixed(2)),1)]),createBaseVNode("div",_hoisted_21$6,[B[18]||(B[18]=createBaseVNode("span",{class:"mobile-info-label"},"委托数量",-1)),createBaseVNode("span",_hoisted_22$6,toDisplayString(W.quantity)+"股",1)]),createBaseVNode("div",_hoisted_23$6,[B[19]||(B[19]=createBaseVNode("span",{class:"mobile-info-label"},"委托金额",-1)),createBaseVNode("span",_hoisted_24$6,"¥"+toDisplayString((W.price*W.quantity).toFixed(2)),1)])]),createBaseVNode("button",{class:"mobile-cancel-btn",onClick:Be=>y(W.id)}," 撤单 ",8,_hoisted_25$6)])]))),128))]))])):(openBlock(),createElementBlock("div",_hoisted_26$6,[createBaseVNode("div",_hoisted_27$6,[createBaseVNode("div",_hoisted_28$6,[createBaseVNode("div",{class:normalizeClass(["order-type-item",{active:d.orderType==="limit"}]),onClick:B[3]||(B[3]=W=>d.orderType="limit")}," 限价委托 ",2),createBaseVNode("div",{class:normalizeClass(["order-type-item",{active:d.orderType==="market"}]),onClick:B[4]||(B[4]=W=>d.orderType="market")}," 市价委托 ",2)])]),d.orderType==="limit"?(openBlock(),createElementBlock("div",_hoisted_29$5,[B[20]||(B[20]=createBaseVNode("label",{class:"form-label"},"委托价格",-1)),createBaseVNode("div",_hoisted_30$5,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":B[5]||(B[5]=W=>d.price=W),type:"number",step:"0.01",class:"price-input",placeholder:"委托价格"},null,512),[[vModelText,d.price]]),createBaseVNode("div",_hoisted_31$5,[createBaseVNode("button",{class:"price-btn",onClick:B[6]||(B[6]=W=>w(.01))},"+"),createBaseVNode("button",{class:"price-btn",onClick:B[7]||(B[7]=W=>w(-.01))},"-")])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_32$5,[B[21]||(B[21]=createBaseVNode("label",{class:"form-label"},"委托数量",-1)),createBaseVNode("div",_hoisted_33$5,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":B[8]||(B[8]=W=>d.quantity=W),type:"number",step:"100",min:"100",class:"quantity-input",placeholder:"委托数量"},null,512),[[vModelText,d.quantity]])]),createBaseVNode("div",_hoisted_34$5,[createBaseVNode("button",{class:"quick-btn",onClick:B[9]||(B[9]=W=>v(100))},"全仓"),createBaseVNode("button",{class:"quick-btn",onClick:B[10]||(B[10]=W=>v(50))},"1/2"),createBaseVNode("button",{class:"quick-btn",onClick:B[11]||(B[11]=W=>v(33))},"1/3"),createBaseVNode("button",{class:"quick-btn",onClick:B[12]||(B[12]=W=>v(25))},"1/4")])]),createBaseVNode("div",_hoisted_35$4,[createBaseVNode("div",_hoisted_36$4,[createBaseVNode("span",_hoisted_37$4,toDisplayString(r.value==="sell"?"可卖---":"可买---"),1),createBaseVNode("span",_hoisted_38$4,toDisplayString(r.value==="sell"?S.value:k.value)+"股",1)])]),createBaseVNode("div",_hoisted_39$3,[createBaseVNode("div",_hoisted_40$3,[B[22]||(B[22]=createBaseVNode("span",{class:"label"},"委托金额",-1)),createBaseVNode("span",_hoisted_41$2,toDisplayString(g.value.toFixed(2)),1)])]),createBaseVNode("div",_hoisted_42$2,[createBaseVNode("button",{class:normalizeClass(["trade-action-btn",r.value,{disabled:!N.value}]),onClick:T,disabled:!N.value||n.value},[n.value?(openBlock(),createElementBlock("div",_hoisted_44$2)):(openBlock(),createElementBlock("span",_hoisted_45$2,toDisplayString(r.value==="sell"?"委托卖出":"委托买入"),1))],10,_hoisted_43$2)]),createBaseVNode("div",_hoisted_46$2,[createBaseVNode("div",_hoisted_47$1,[B[23]||(B[23]=createBaseVNode("span",{class:"label"},"资金余额",-1)),createBaseVNode("span",_hoisted_48$1,toDisplayString(l.value.toFixed(2)),1)]),_.value&&r.value==="sell"?(openBlock(),createElementBlock("div",_hoisted_49$1,[B[24]||(B[24]=createBaseVNode("span",{class:"label"},"持仓数量",-1)),createBaseVNode("span",_hoisted_50$1,toDisplayString(_.value.quantity),1)])):createCommentVNode("",!0),_.value&&r.value==="sell"?(openBlock(),createElementBlock("div",_hoisted_51$1,[B[25]||(B[25]=createBaseVNode("span",{class:"label"},"可卖数量",-1)),createBaseVNode("span",_hoisted_52$1,toDisplayString(_.value.quantity),1)])):createCommentVNode("",!0)])]))]),createBaseVNode("div",_hoisted_53$1,[createBaseVNode("div",_hoisted_54$1,[createBaseVNode("div",_hoisted_55$1,[B[26]||(B[26]=createBaseVNode("span",null,"五档行情",-1)),createBaseVNode("span",_hoisted_56$1,toDisplayString(C()),1)]),createBaseVNode("div",_hoisted_57$1,[createBaseVNode("div",_hoisted_58$1,[B[28]||(B[28]=createBaseVNode("div",{class:"table-header"},[createBaseVNode("span",{class:"col-label"},"档位"),createBaseVNode("span",{class:"col-price"},"价格"),createBaseVNode("span",{class:"col-volume"},"数量")],-1)),createBaseVNode("div",_hoisted_59$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.value,(W,Be)=>(openBlock(),createElementBlock("div",{key:Be,class:"order-row sell",onClick:de=>x("sell",W.price)},[createBaseVNode("span",_hoisted_61$1,"卖"+toDisplayString(5-Be),1),createBaseVNode("span",_hoisted_62$1,toDisplayString(W.price),1),createBaseVNode("span",_hoisted_63$1,toDisplayString(W.volume),1)],8,_hoisted_60$1))),128))]),createBaseVNode("div",{class:"current-price-row",onClick:B[13]||(B[13]=W=>x("current"))},[B[27]||(B[27]=createBaseVNode("span",{class:"current-label"},"现价",-1)),createBaseVNode("span",{class:normalizeClass(["current-value",((P=t.stock)==null?void 0:P.change)>=0?"up":"down"])},toDisplayString(((K=t.stock)==null?void 0:K.price)||"0.00"),3),createBaseVNode("span",_hoisted_64$1,toDisplayString(((X=t.stock)==null?void 0:X.changePercent)||"0.00"),1)]),createBaseVNode("div",_hoisted_65$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(W,Be)=>(openBlock(),createElementBlock("div",{key:Be,class:"order-row buy",onClick:de=>x("buy",W.price)},[createBaseVNode("span",_hoisted_67$1,"买"+toDisplayString(Be+1),1),createBaseVNode("span",_hoisted_68$1,toDisplayString(W.price),1),createBaseVNode("span",_hoisted_69$1,toDisplayString(W.volume),1)],8,_hoisted_66$1))),128))])])])])])])])])])):createCommentVNode("",!0)}}},MobileStockTradingDialog=_export_sfc(_sfc_main$f,[["__scopeId","data-v-1d715149"]]),_hoisted_1$e={key:0,class:"ai-trading-content"},_hoisted_2$c={class:"stock-header"},_hoisted_3$c={class:"stock-left"},_hoisted_4$b={class:"stock-name-section"},_hoisted_5$a={class:"stock-code"},_hoisted_6$a={class:"current-price"},_hoisted_7$9={class:"form-section compact"},_hoisted_8$8={class:"simple-grid"},_hoisted_9$8={class:"param-item"},_hoisted_10$8={class:"param-item"},_hoisted_11$7={class:"form-section compact"},_hoisted_12$7={class:"risk-controls"},_hoisted_13$7={class:"risk-item"},_hoisted_14$5={key:0,class:"risk-input"},_hoisted_15$5={class:"risk-item"},_hoisted_16$5={key:0,class:"risk-input"},_hoisted_17$5={class:"strategy-preview"},_hoisted_18$5={class:"strategy-info"},_hoisted_19$5={class:"strategy-value"},_hoisted_20$5={class:"strategy-risk"},_hoisted_21$5={key:0,class:"form-section compact"},_hoisted_22$5={class:"advanced-simple"},_hoisted_23$5={class:"advanced-row"},_hoisted_24$5={class:"advanced-row"},_hoisted_25$5={class:"advanced-row"},_hoisted_26$5={class:"input-with-unit-small"},_hoisted_27$5={class:"advanced-toggle"},_hoisted_28$5={class:"dialog-footer"},_sfc_main$e={__name:"AITradingDialog",props:{modelValue:{type:Boolean,default:!1},stock:{type:Object,default:null}},emits:["update:modelValue","ai-trading-confirmed"],setup(t,{emit:e}){const s=t,o=e,a=useUserStore(),n=ref(!1),r=ref(null),d=computed(()=>typeof window>"u"?!1:window.innerWidth<=768),m=computed(()=>typeof window>"u"?!1:/micromessenger/i.test(navigator.userAgent)),c=computed({get:()=>s.modelValue,set:b=>o("update:modelValue",b)}),l=reactive({action:"buy",quantity:100,enableStopLoss:!0,stopLossPercentage:5,enableTakeProfit:!0,takeProfitPercentage:10,showAdvanced:!1,orderType:"limit",timeInForce:"GTC",maxLossAmount:1e3,strategy:"balanced",riskLevel:"medium"}),_=()=>{var y;const b=(y=a.userInfo)==null?void 0:y.preferences;if(b){switch(b.riskLevel){case"conservative":l.stopLossPercentage=3,l.takeProfitPercentage=6,l.strategy="conservative",l.riskLevel="low",l.maxLossAmount=Math.min(500,a.balance*.05);break;case"moderate":l.stopLossPercentage=5,l.takeProfitPercentage=10,l.strategy="balanced",l.riskLevel="medium",l.maxLossAmount=Math.min(1e3,a.balance*.1);break;case"aggressive":l.stopLossPercentage=8,l.takeProfitPercentage=15,l.strategy="aggressive",l.riskLevel="high",l.maxLossAmount=Math.min(2e3,a.balance*.15);break}l.orderType=b.experience==="beginner"?"market":"limit"}},k=b=>({conservative:"保守型",stable:"稳健型",balanced:"平衡型",growth:"成长型",aggressive:"激进型",low:"低风险",medium:"中风险",high:"高风险",moderate:"稳健型"})[b]||"未设置",S=b=>({conservative:"保守策略",balanced:"平衡策略",aggressive:"激进策略"})[b]||"平衡策略",g=b=>({GTC:"好价成交",DAY:"当日有效",IOC:"立即成交或取消",GTD:"指定日期"})[b]||b,N=()=>{c.value=!1},f=async()=>{if(a.smartPointsBalance<1){ElMessage.error("智点余额不足，请先充值");return}if(!s.stock){ElMessage.error("股票信息错误");return}if(l.quantity<100||l.quantity%100!==0){ElMessage.error("交易数量必须是100的整数倍");return}try{await ElMessageBox.confirm(`AI委托交易 ${s.stock.name}(${s.stock.code}) 促销价仅需 1智点（原价3智点），是否确认支付并设置委托交易？`,"付费服务确认",{confirmButtonText:"确认支付 1智点",cancelButtonText:"取消",type:"info",customClass:"high-z-index-dialog",appendTo:"body"})}catch{return}const b={stock:s.stock,action:l.action,quantity:l.quantity,orderType:l.orderType,timeInForce:l.timeInForce,validUntil:l.validUntil,stopLoss:l.enableStopLoss?{type:l.stopLossType,percentage:l.stopLossPercentage,price:l.stopLossPrice}:null,takeProfit:l.enableTakeProfit?{type:l.takeProfitType,percentage:l.takeProfitPercentage,price:l.takeProfitPrice}:null,trailingStop:l.enableTrailingStop?{amount:l.trailingStopAmount}:null,riskControl:{maxLossAmount:l.maxLossAmount,maxPositionSize:l.maxPositionSize},aiStrategy:{strategy:l.strategy,riskLevel:l.riskLevel},monitoring:{priceAlert:l.priceAlert,volumeAlert:l.volumeAlert,newsAlert:l.newsAlert}};try{if(n.value=!0,a.deductSmartPoints(1))a.addSmartPointsTransaction({type:"consumption",amount:1,description:`AI委托交易 - ${s.stock.name}`,serviceType:"ai-trading",stockInfo:{name:s.stock.name,code:s.stock.code},balanceAfter:a.smartPointsBalance}),ElMessage.success("支付成功，正在设置AI委托交易...");else{ElMessage.error("支付失败，智点余额不足");return}c.value=!1;const y=`【AI委托交易设置完成】已为${s.stock.name}(${s.stock.code})设置智能委托交易：

🎯 **交易参数**
• 交易方向：${l.action==="buy"?"买入":"卖出"}
• 交易数量：${l.quantity}股
• 委托类型：${l.orderType==="limit"?"限价单":"市价单"}
• 委托时效：${g(l.timeInForce)}

🛡️ **风控设置**
${l.enableStopLoss?`• 止损：${l.stopLossType==="percentage"?l.stopLossPercentage+"%":"¥"+l.stopLossPrice}`:""}
${l.enableTakeProfit?`• 止盈：${l.takeProfitType==="percentage"?l.takeProfitPercentage+"%":"¥"+l.takeProfitPrice}`:""}
${l.enableTrailingStop?`• 追踪止损：¥${l.trailingStopAmount}`:""}
• 最大亏损：¥${l.maxLossAmount}
• 最大仓位：${l.maxPositionSize}%

🤖 **AI策略**
• 交易策略：${S(l.strategy)}
• 风险等级：${k(l.riskLevel)}

📊 **监控预警**
${l.priceAlert?"• ✅ 价格预警已启用":""}
${l.volumeAlert?"• ✅ 成交量预警已启用":""}
${l.newsAlert?"• ✅ 新闻预警已启用":""}

AI将根据您的设置参数，24小时智能监控市场，在最佳时机自动执行交易，并及时发送预警通知。`;o("ai-trading-confirmed",{stock:s.stock,tradingParams:b,message:y})}catch(y){ElMessage.error("设置失败，请稍后重试"),console.error("AI委托交易设置失败:",y)}finally{n.value=!1}},E=()=>{if(!m.value||!r.value)return;const b=r.value;b.style.overflow="auto",b.style.overflowY="auto",b.style.webkitOverflowScrolling="touch",b.style.touchAction="pan-y",b.style.transform="translateZ(0)",b.style.position="relative",setTimeout(()=>{b.scrollTop=1,setTimeout(()=>{b.scrollTop=0},50)},100);const y=w=>{w.stopPropagation()},$=w=>{w.stopPropagation()};b.addEventListener("touchstart",y,{passive:!0}),b.addEventListener("touchmove",$,{passive:!0}),console.log("微信浏览器滚动修复已应用:",{scrollHeight:b.scrollHeight,clientHeight:b.clientHeight,canScroll:b.scrollHeight>b.clientHeight,userAgent:navigator.userAgent})};return watch(()=>s.modelValue,b=>{b&&s.stock&&(_(),setTimeout(()=>{E()},300))}),(b,y)=>{const $=resolveComponent("el-option"),w=resolveComponent("el-select"),x=resolveComponent("el-input-number"),v=resolveComponent("el-checkbox"),C=resolveComponent("el-icon"),T=resolveComponent("el-button"),D=resolveComponent("el-form"),B=resolveComponent("el-dialog");return openBlock(),createBlock(B,{modelValue:c.value,"onUpdate:modelValue":y[10]||(y[10]=I=>c.value=I),title:"AI委托交易设置",width:d.value?"95vw":"750px",top:d.value?"5vh":"15vh",class:normalizeClass(["ai-trading-dialog",{"mobile-dialog":d.value}]),"destroy-on-close":"","append-to-body":"","z-index":11e3,"close-on-click-modal":!1,"modal-class":d.value?"mobile-modal":""},{footer:withCtx(()=>[createBaseVNode("div",_hoisted_28$5,[createVNode(T,{onClick:N},{default:withCtx(()=>y[27]||(y[27]=[createTextVNode("取消")])),_:1,__:[27]}),createVNode(T,{type:"primary",onClick:f,loading:n.value},{default:withCtx(()=>y[28]||(y[28]=[createBaseVNode("span",{class:"confirm-text"},"确认委托 (1智点)",-1),createBaseVNode("span",{class:"confirm-text-mobile"},"确认 (1智点)",-1)])),_:1,__:[28]},8,["loading"])])]),default:withCtx(()=>[t.stock?(openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$b,[createBaseVNode("h3",null,toDisplayString(t.stock.name),1),createBaseVNode("span",_hoisted_5$a,toDisplayString(t.stock.code),1)]),createBaseVNode("span",_hoisted_6$a,"¥"+toDisplayString(t.stock.price||t.stock.currentPrice),1)]),y[11]||(y[11]=createBaseVNode("div",{class:"stock-right"},[createBaseVNode("span",{class:"cost-label"},"服务费用"),createBaseVNode("div",{class:"cost-pricing"},[createBaseVNode("span",{class:"cost-original"},"3智点"),createBaseVNode("span",{class:"cost-promo"},"1智点")])],-1))]),createBaseVNode("div",{class:normalizeClass(["dialog-scroll-content",{"wechat-scroll":m.value}]),ref_key:"scrollContainer",ref:r},[createVNode(D,{model:l,class:"ai-trading-form simple"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_7$9,[y[14]||(y[14]=createBaseVNode("h4",{class:"section-title"},"交易设置",-1)),createBaseVNode("div",_hoisted_8$8,[createBaseVNode("div",_hoisted_9$8,[y[12]||(y[12]=createBaseVNode("label",{class:"param-label"},"交易方向",-1)),createVNode(w,{modelValue:l.action,"onUpdate:modelValue":y[0]||(y[0]=I=>l.action=I),class:"param-input"},{default:withCtx(()=>[createVNode($,{label:"买入",value:"buy"}),createVNode($,{label:"卖出",value:"sell"})]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_10$8,[y[13]||(y[13]=createBaseVNode("label",{class:"param-label"},"交易数量",-1)),createVNode(x,{modelValue:l.quantity,"onUpdate:modelValue":y[1]||(y[1]=I=>l.quantity=I),min:100,step:100,class:"param-input","controls-position":"right"},null,8,["modelValue"])])])]),createBaseVNode("div",_hoisted_11$7,[y[21]||(y[21]=createBaseVNode("h4",{class:"section-title"},"风控设置",-1)),createBaseVNode("div",_hoisted_12$7,[createBaseVNode("div",_hoisted_13$7,[createVNode(v,{modelValue:l.enableStopLoss,"onUpdate:modelValue":y[2]||(y[2]=I=>l.enableStopLoss=I),class:"risk-checkbox"},{default:withCtx(()=>y[15]||(y[15]=[createTextVNode(" 止损保护 ")])),_:1,__:[15]},8,["modelValue"]),l.enableStopLoss?(openBlock(),createElementBlock("div",_hoisted_14$5,[createVNode(x,{modelValue:l.stopLossPercentage,"onUpdate:modelValue":y[3]||(y[3]=I=>l.stopLossPercentage=I),min:1,max:20,class:"risk-number","controls-position":"right"},null,8,["modelValue"]),y[16]||(y[16]=createBaseVNode("span",{class:"risk-unit"},"%",-1))])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_15$5,[createVNode(v,{modelValue:l.enableTakeProfit,"onUpdate:modelValue":y[4]||(y[4]=I=>l.enableTakeProfit=I),class:"risk-checkbox"},{default:withCtx(()=>y[17]||(y[17]=[createTextVNode(" 止盈目标 ")])),_:1,__:[17]},8,["modelValue"]),l.enableTakeProfit?(openBlock(),createElementBlock("div",_hoisted_16$5,[createVNode(x,{modelValue:l.takeProfitPercentage,"onUpdate:modelValue":y[5]||(y[5]=I=>l.takeProfitPercentage=I),min:1,max:50,class:"risk-number","controls-position":"right"},null,8,["modelValue"]),y[18]||(y[18]=createBaseVNode("span",{class:"risk-unit"},"%",-1))])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_17$5,[createBaseVNode("div",_hoisted_18$5,[y[19]||(y[19]=createBaseVNode("span",{class:"strategy-label"},"AI策略：",-1)),createBaseVNode("span",_hoisted_19$5,toDisplayString(S(l.strategy)),1),createBaseVNode("span",_hoisted_20$5,"("+toDisplayString(k(l.riskLevel))+")",1)]),y[20]||(y[20]=createBaseVNode("div",{class:"strategy-desc"}," 根据您的投资偏好自动配置，AI将24小时智能监控并执行最佳交易时机 ",-1))])]),l.showAdvanced?(openBlock(),createElementBlock("div",_hoisted_21$5,[y[26]||(y[26]=createBaseVNode("h4",{class:"section-title"},"高级设置",-1)),createBaseVNode("div",_hoisted_22$5,[createBaseVNode("div",_hoisted_23$5,[y[22]||(y[22]=createBaseVNode("label",{class:"param-label"},"委托类型",-1)),createVNode(w,{modelValue:l.orderType,"onUpdate:modelValue":y[6]||(y[6]=I=>l.orderType=I),class:"param-input-small"},{default:withCtx(()=>[createVNode($,{label:"限价单",value:"limit"}),createVNode($,{label:"市价单",value:"market"})]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_24$5,[y[23]||(y[23]=createBaseVNode("label",{class:"param-label"},"委托时效",-1)),createVNode(w,{modelValue:l.timeInForce,"onUpdate:modelValue":y[7]||(y[7]=I=>l.timeInForce=I),class:"param-input-small"},{default:withCtx(()=>[createVNode($,{label:"好价成交",value:"GTC"}),createVNode($,{label:"当日有效",value:"DAY"})]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_25$5,[y[25]||(y[25]=createBaseVNode("label",{class:"param-label"},"最大亏损",-1)),createBaseVNode("div",_hoisted_26$5,[createVNode(x,{modelValue:l.maxLossAmount,"onUpdate:modelValue":y[8]||(y[8]=I=>l.maxLossAmount=I),min:100,class:"param-input-small","controls-position":"right"},null,8,["modelValue"]),y[24]||(y[24]=createBaseVNode("span",{class:"input-unit"},"元",-1))])])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_27$5,[createVNode(T,{link:"",onClick:y[9]||(y[9]=I=>l.showAdvanced=!l.showAdvanced)},{default:withCtx(()=>[createTextVNode(toDisplayString(l.showAdvanced?"收起高级设置":"展开高级设置")+" ",1),createVNode(C,null,{default:withCtx(()=>[l.showAdvanced?(openBlock(),createBlock(unref(arrow_up_default),{key:1})):(openBlock(),createBlock(unref(arrow_down_default),{key:0}))]),_:1})]),_:1})])]),_:1},8,["model"])],2)])):createCommentVNode("",!0)]),_:1},8,["modelValue","width","top","class","modal-class"])}}},AITradingDialog=_export_sfc(_sfc_main$e,[["__scopeId","data-v-7b612da8"]]),_hoisted_1$d={class:"customize-content"},_hoisted_2$b={class:"section"},_hoisted_3$b={class:"shortcuts-grid compact"},_hoisted_4$a={class:"card-header compact"},_hoisted_5$9={class:"icon-wrapper compact"},_hoisted_6$9={class:"shortcut-icon"},_hoisted_7$8={class:"card-content compact"},_hoisted_8$7={class:"shortcut-title"},_hoisted_9$7={class:"shortcut-desc"},_hoisted_10$7={class:"section"},_hoisted_11$6={class:"section-header"},_hoisted_12$6={key:0,class:"custom-shortcuts-list"},_hoisted_13$6={key:0,class:"shortcut-display compact"},_hoisted_14$4={class:"display-left"},_hoisted_15$4={class:"icon-wrapper compact"},_hoisted_16$4={class:"shortcut-icon"},_hoisted_17$4={class:"shortcut-details"},_hoisted_18$4={class:"shortcut-title"},_hoisted_19$4={class:"shortcut-desc"},_hoisted_20$4={class:"display-right"},_hoisted_21$4={class:"action-buttons"},_hoisted_22$4={key:1,class:"shortcut-edit horizontal"},_hoisted_23$4={class:"edit-form horizontal"},_hoisted_24$4={class:"form-section left"},_hoisted_25$4={class:"icon-selector compact"},_hoisted_26$4={class:"current-icon"},_hoisted_27$4={class:"selected-icon compact"},_hoisted_28$4={class:"icon-options compact"},_hoisted_29$4=["onClick"],_hoisted_30$4={class:"form-section right"},_hoisted_31$4={class:"form-row compact"},_hoisted_32$4={class:"form-group"},_hoisted_33$4={class:"form-group"},_hoisted_34$4={class:"form-group"},_hoisted_35$3={class:"form-group"},_hoisted_36$3={class:"edit-actions compact"},_hoisted_37$3={key:1,class:"empty-custom compact"},_hoisted_38$3={class:"dialog-footer"},_sfc_main$d={__name:"CustomizeShortcutsDialog",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","shortcuts-updated"],setup(t,{emit:e}){const s=t,o=e,a=computed({get:()=>s.modelValue,set:$=>o("update:modelValue",$)}),n=ref([{id:"smart_review",icon:"📊",title:"智能复盘",shortTitle:"复盘",description:"智能分析市场表现和投资策略",isDefault:!0,isActive:!0},{id:"watchlist",icon:"⭐",title:"自选股",shortTitle:"自选",description:"查看和管理我的自选股票",isDefault:!0,isActive:!0},{id:"smart_recommendation",icon:"📈",title:"智能荐股",shortTitle:"荐股",description:"基于AI算法推荐优质股票",isDefault:!0,isActive:!0},{id:"news_update",icon:"📄",title:"资讯推送",shortTitle:"资讯",description:"获取最新市场资讯和重要公告",isDefault:!0,isActive:!0},{id:"asset_analysis",icon:"💼",title:"我的资产",shortTitle:"资产",description:"查看投资组合和账户分析",isDefault:!0,isActive:!0}]),r=ref([]),d=ref(["💡","🚀","📊","💰","🎯","⭐","🔥","📈","💎","🏆","🎨","⚡","🌟","📱","💻","📺","⌚","📷","🎥","🎧","🏠","🏢","🏭","🏪","🏫","🏥","🏦","🏨","🚗","🚕","✈️","🚁","🚂","🚄","🌍","🌎","🌏","🌐","🗺️","🗻"]),m=()=>{const $=localStorage.getItem("customShortcuts");$&&(r.value=JSON.parse($));const w=localStorage.getItem("defaultShortcutStates");if(w){const x=JSON.parse(w);n.value.forEach(v=>{x.hasOwnProperty(v.id)&&(v.isActive=x[v.id])})}},c=()=>{localStorage.setItem("customShortcuts",JSON.stringify(r.value)),ElMessage.success("自定义快捷操作已保存"),_()},l=()=>{const $=n.value.reduce((w,x)=>(w[x.id]=x.isActive,w),{});localStorage.setItem("defaultShortcutStates",JSON.stringify($)),_()},_=()=>{console.log("🔄 CustomizeShortcutsDialog - 发送快捷操作更新事件"),console.log("📊 CustomizeShortcutsDialog - 默认快捷操作:",n.value),console.log("💾 CustomizeShortcutsDialog - 自定义快捷操作:",r.value);const $=localStorage.getItem("customShortcuts");console.log("🔍 CustomizeShortcutsDialog - localStorage中的自定义快捷操作:",$),o("shortcuts-updated",{defaultShortcuts:n.value,customShortcuts:r.value}),console.log("✅ CustomizeShortcutsDialog - 快捷操作更新事件已发送")},k=()=>{if(r.value.length>=3){ElMessage.warning("最多只能添加3个自定义快捷操作");return}const $={id:Date.now().toString(),icon:"💡",title:"自定义操作",shortTitle:"自定",description:"请编辑此操作的描述",prompt:"分析目标股票的基本面数据，包括PE、PB、ROE等核心指标，并给出投资建议",isDefault:!1,isActive:!0,isEditing:!0};r.value.push($),ElMessage.success("已添加自定义快捷操作，请完善信息")},S=$=>{const w=r.value.findIndex(x=>x.id===$);w>-1&&(r.value.splice(w,1),c(),ElMessage.success("已删除自定义快捷操作"))},g=$=>{$.isDefault?(l(),ElMessage.success($.isActive?"已启用该快捷操作":"已禁用该快捷操作")):(c(),ElMessage.success($.isActive?"已启用该快捷操作":"已禁用该快捷操作"))},N=$=>{$.originalData={icon:$.icon,title:$.title,shortTitle:$.shortTitle,description:$.description,prompt:$.prompt},$.isEditing=!0},f=$=>{if(!$.title.trim()){ElMessage.warning("标题不能为空");return}if(!$.shortTitle||!$.shortTitle.trim()){ElMessage.warning("简称不能为空");return}if($.shortTitle.length>2){ElMessage.warning("简称最多2个字符");return}if(!$.prompt.trim()){ElMessage.warning("执行内容不能为空");return}$.isEditing=!1,delete $.originalData,c(),ElMessage.success("自定义快捷操作已保存")},E=$=>{$.originalData&&($.icon=$.originalData.icon,$.title=$.originalData.title,$.shortTitle=$.originalData.shortTitle,$.description=$.originalData.description,$.prompt=$.originalData.prompt,delete $.originalData),$.isEditing=!1},b=($,w)=>{$.icon=w},y=()=>{a.value=!1};return onMounted(()=>{m()}),($,w)=>{const x=resolveComponent("el-switch"),v=resolveComponent("el-icon"),C=resolveComponent("el-button"),T=resolveComponent("el-input"),D=resolveComponent("el-dialog");return openBlock(),createBlock(D,{modelValue:a.value,"onUpdate:modelValue":w[0]||(w[0]=B=>a.value=B),title:"自定义快捷操作",width:"900px",class:"customize-dialog"},{footer:withCtx(()=>[createBaseVNode("div",_hoisted_38$3,[createVNode(C,{onClick:y,size:"small"},{default:withCtx(()=>w[12]||(w[12]=[createTextVNode("关闭")])),_:1,__:[12]})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$b,[w[1]||(w[1]=createBaseVNode("div",{class:"section-title"},[createBaseVNode("h4",null,"默认快捷操作"),createBaseVNode("span",{class:"section-subtitle"},"开启或关闭系统预设的快捷操作")],-1)),createBaseVNode("div",_hoisted_3$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,B=>(openBlock(),createElementBlock("div",{key:B.id,class:normalizeClass(["shortcut-card compact",{active:B.isActive}])},[createBaseVNode("div",_hoisted_4$a,[createBaseVNode("div",_hoisted_5$9,[createBaseVNode("span",_hoisted_6$9,toDisplayString(B.icon),1)]),createBaseVNode("div",_hoisted_7$8,[createBaseVNode("div",_hoisted_8$7,toDisplayString(B.title),1),createBaseVNode("div",_hoisted_9$7,toDisplayString(B.description),1)]),createVNode(x,{modelValue:B.isActive,"onUpdate:modelValue":I=>B.isActive=I,onChange:I=>g(B),size:"small"},null,8,["modelValue","onUpdate:modelValue","onChange"])])],2))),128))])]),createBaseVNode("div",_hoisted_10$7,[createBaseVNode("div",_hoisted_11$6,[w[3]||(w[3]=createBaseVNode("div",{class:"section-title"},[createBaseVNode("h4",null,"自定义快捷操作"),createBaseVNode("span",{class:"section-subtitle"},"创建专属于您的快捷操作（最多3个）")],-1)),createVNode(C,{type:"primary",onClick:k,disabled:r.value.length>=3,size:"small"},{default:withCtx(()=>[createVNode(v,null,{default:withCtx(()=>[createVNode(unref(plus_default))]),_:1}),w[2]||(w[2]=createTextVNode(" 添加自定义操作 "))]),_:1,__:[2]},8,["disabled"])]),r.value.length>0?(openBlock(),createElementBlock("div",_hoisted_12$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,B=>(openBlock(),createElementBlock("div",{key:B.id,class:normalizeClass(["custom-shortcut-item",{editing:B.isEditing}])},[B.isEditing?(openBlock(),createElementBlock("div",_hoisted_22$4,[createBaseVNode("div",_hoisted_23$4,[createBaseVNode("div",_hoisted_24$4,[w[4]||(w[4]=createBaseVNode("label",{class:"form-label"},"图标",-1)),createBaseVNode("div",_hoisted_25$4,[createBaseVNode("div",_hoisted_26$4,[createBaseVNode("span",_hoisted_27$4,toDisplayString(B.icon),1)]),createBaseVNode("div",_hoisted_28$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.value,I=>(openBlock(),createElementBlock("div",{key:I,class:normalizeClass(["icon-option compact",{selected:B.icon===I}]),onClick:L=>b(B,I)},[createBaseVNode("span",null,toDisplayString(I),1)],10,_hoisted_29$4))),128))])])]),createBaseVNode("div",_hoisted_30$4,[createBaseVNode("div",_hoisted_31$4,[createBaseVNode("div",_hoisted_32$4,[w[5]||(w[5]=createBaseVNode("label",{class:"form-label"},"操作标题",-1)),createVNode(T,{modelValue:B.title,"onUpdate:modelValue":I=>B.title=I,maxlength:"10",placeholder:"如：个股深度分析","show-word-limit":"",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),createBaseVNode("div",_hoisted_33$4,[w[6]||(w[6]=createBaseVNode("label",{class:"form-label"},"简称",-1)),createVNode(T,{modelValue:B.shortTitle,"onUpdate:modelValue":I=>B.shortTitle=I,maxlength:"2",placeholder:"如：深析",style:{width:"80px"},size:"small"},null,8,["modelValue","onUpdate:modelValue"])])]),createBaseVNode("div",_hoisted_34$4,[w[7]||(w[7]=createBaseVNode("label",{class:"form-label"},"操作描述",-1)),createVNode(T,{modelValue:B.description,"onUpdate:modelValue":I=>B.description=I,maxlength:"50",placeholder:"简单描述这个操作的用途","show-word-limit":"",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),createBaseVNode("div",_hoisted_35$3,[w[8]||(w[8]=createBaseVNode("label",{class:"form-label"},"执行内容",-1)),createVNode(T,{modelValue:B.prompt,"onUpdate:modelValue":I=>B.prompt=I,type:"textarea",rows:3,maxlength:"500",placeholder:"如：分析贵州茅台的财务数据和未来3年盈利预测，包括ROE、净利润增长率等关键指标...","show-word-limit":"",size:"small"},null,8,["modelValue","onUpdate:modelValue"])])])]),createBaseVNode("div",_hoisted_36$3,[createVNode(C,{onClick:I=>E(B),size:"small"},{default:withCtx(()=>w[9]||(w[9]=[createTextVNode("取消")])),_:2,__:[9]},1032,["onClick"]),createVNode(C,{type:"primary",onClick:I=>f(B),size:"small"},{default:withCtx(()=>w[10]||(w[10]=[createTextVNode("保存")])),_:2,__:[10]},1032,["onClick"])])])):(openBlock(),createElementBlock("div",_hoisted_13$6,[createBaseVNode("div",_hoisted_14$4,[createBaseVNode("div",_hoisted_15$4,[createBaseVNode("span",_hoisted_16$4,toDisplayString(B.icon),1)]),createBaseVNode("div",_hoisted_17$4,[createBaseVNode("div",_hoisted_18$4,toDisplayString(B.title),1),createBaseVNode("div",_hoisted_19$4,toDisplayString(B.description),1)])]),createBaseVNode("div",_hoisted_20$4,[createVNode(x,{modelValue:B.isActive,"onUpdate:modelValue":I=>B.isActive=I,onChange:c,size:"small"},null,8,["modelValue","onUpdate:modelValue"]),createBaseVNode("div",_hoisted_21$4,[createVNode(C,{type:"primary",link:"",onClick:I=>N(B),size:"small"},{default:withCtx(()=>[createVNode(v,null,{default:withCtx(()=>[createVNode(unref(edit_default))]),_:1})]),_:2},1032,["onClick"]),createVNode(C,{type:"danger",link:"",onClick:I=>S(B.id),size:"small"},{default:withCtx(()=>[createVNode(v,null,{default:withCtx(()=>[createVNode(unref(delete_default))]),_:1})]),_:2},1032,["onClick"])])])]))],2))),128))])):(openBlock(),createElementBlock("div",_hoisted_37$3,w[11]||(w[11]=[createBaseVNode("div",{class:"empty-icon"},"📝",-1),createBaseVNode("div",{class:"empty-text"},[createBaseVNode("h5",null,"还没有自定义快捷操作"),createBaseVNode("p",null,'点击上方"添加自定义操作"按钮，创建专属于您的快捷操作')],-1)])))])])]),_:1},8,["modelValue"])}}},CustomizeShortcutsDialog=_export_sfc(_sfc_main$d,[["__scopeId","data-v-fc7e6fe1"]]),_hoisted_1$c={class:"mobile-dialog-content"},_hoisted_2$a={class:"section"},_hoisted_3$a={class:"shortcuts-list"},_hoisted_4$9={class:"shortcut-info"},_hoisted_5$8={class:"shortcut-icon"},_hoisted_6$8={class:"shortcut-details"},_hoisted_7$7={class:"shortcut-name"},_hoisted_8$6={class:"shortcut-desc"},_hoisted_9$6={class:"shortcut-toggle"},_hoisted_10$6=["id","onUpdate:modelValue","onChange"],_hoisted_11$5=["for"],_hoisted_12$5={class:"section"},_hoisted_13$5={class:"section-header"},_hoisted_14$3=["disabled"],_hoisted_15$3={key:0,class:"custom-shortcuts-list"},_hoisted_16$3={key:0,class:"shortcut-display"},_hoisted_17$3={class:"shortcut-info"},_hoisted_18$3={class:"shortcut-icon"},_hoisted_19$3={class:"shortcut-details"},_hoisted_20$3={class:"shortcut-name"},_hoisted_21$3={class:"shortcut-desc"},_hoisted_22$3={class:"shortcut-actions"},_hoisted_23$3={class:"shortcut-toggle"},_hoisted_24$3=["id","onUpdate:modelValue"],_hoisted_25$3=["for"],_hoisted_26$3=["onClick"],_hoisted_27$3=["onClick"],_hoisted_28$3={key:1,class:"shortcut-edit"},_hoisted_29$3={class:"edit-form"},_hoisted_30$3={class:"form-group"},_hoisted_31$3={class:"icon-selector"},_hoisted_32$3=["onClick"],_hoisted_33$3={class:"icon-grid"},_hoisted_34$3=["onClick"],_hoisted_35$2={class:"form-group"},_hoisted_36$2=["onUpdate:modelValue"],_hoisted_37$2={class:"form-group"},_hoisted_38$2=["onUpdate:modelValue"],_hoisted_39$2={class:"form-group"},_hoisted_40$2=["onUpdate:modelValue"],_hoisted_41$1={class:"form-group"},_hoisted_42$1=["onUpdate:modelValue"],_hoisted_43$1={class:"edit-actions"},_hoisted_44$1=["onClick"],_hoisted_45$1=["onClick"],_hoisted_46$1={key:1,class:"empty-state"},_sfc_main$c={__name:"MobileShortcutsDialog",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","shortcuts-updated"],setup(t,{emit:e}){const s=t,o=e,a=ref(null),n=ref([{id:"smart_review",icon:"📊",title:"智能复盘",shortTitle:"复盘",description:"智能分析市场表现和投资策略",isDefault:!0,isActive:!0},{id:"watchlist",icon:"⭐",title:"自选股",shortTitle:"自选",description:"查看和管理我的自选股票",isDefault:!0,isActive:!0},{id:"smart_recommendation",icon:"📈",title:"智能荐股",shortTitle:"荐股",description:"基于AI算法推荐优质股票",isDefault:!0,isActive:!0},{id:"news_update",icon:"📄",title:"资讯推送",shortTitle:"资讯",description:"获取最新市场资讯和重要公告",isDefault:!0,isActive:!0},{id:"asset_analysis",icon:"💼",title:"我的资产",shortTitle:"资产",description:"查看投资组合和账户分析",isDefault:!0,isActive:!0}]),r=ref([]),d=ref(["💡","🚀","📊","💰","🎯","⭐","🔥","📈","💎","🏆","🎨","⚡","🌟","📱","💻","📺","⌚","📷","🎥","🎧","🏠","🏢","🏭","🏪","🏫","🏥","🏦","🏨","🚗","🚕","✈️","🚁","🚂","🚄","🌍","🌎","🌏","🌐","🗺️","🗻"]),m=()=>{console.log("🔄 MobileShortcutsDialog - 开始初始化数据");const $=localStorage.getItem("customShortcuts");$?(r.value=JSON.parse($),console.log("💾 MobileShortcutsDialog - 已加载自定义快捷操作:",r.value)):(r.value=[],console.log("📝 MobileShortcutsDialog - 没有保存的自定义快捷操作"));const w=localStorage.getItem("defaultShortcutStates");if(w){const x=JSON.parse(w);console.log("📊 MobileShortcutsDialog - 已加载默认快捷操作状态:",x),n.value.forEach(v=>{x.hasOwnProperty(v.id)&&(v.isActive=x[v.id])})}else console.log("📝 MobileShortcutsDialog - 使用默认快捷操作状态");console.log("✅ MobileShortcutsDialog - 数据初始化完成")},c=()=>{console.log("💾 MobileShortcutsDialog - 保存自定义快捷操作:",r.value),localStorage.setItem("customShortcuts",JSON.stringify(r.value)),_()},l=()=>{const $=n.value.reduce((w,x)=>(w[x.id]=x.isActive,w),{});localStorage.setItem("defaultShortcutStates",JSON.stringify($)),_()},_=()=>{console.log("🔄 MobileShortcutsDialog - 发送快捷操作更新事件"),console.log("📊 MobileShortcutsDialog - 默认快捷操作:",n.value),console.log("💾 MobileShortcutsDialog - 自定义快捷操作:",r.value);const $=localStorage.getItem("customShortcuts");console.log("🔍 MobileShortcutsDialog - localStorage中的自定义快捷操作:",$),o("shortcuts-updated",{defaultShortcuts:n.value,customShortcuts:r.value}),console.log("✅ MobileShortcutsDialog - 快捷操作更新事件已发送")},k=()=>{if(r.value.length>=3){alert("最多只能添加3个自定义快捷操作");return}const $={id:Date.now().toString(),icon:"💡",title:"自定义操作",shortTitle:"自定",description:"请编辑此操作的描述",prompt:"分析目标股票的基本面数据，包括PE、PB、ROE等核心指标，并给出投资建议",isDefault:!1,isActive:!0,isEditing:!0};r.value.push($)},S=$=>{const w=r.value.findIndex(x=>x.id===$);w>-1&&(r.value.splice(w,1),c())},g=$=>{$.isDefault?l():c()},N=$=>{$.originalData={icon:$.icon,title:$.title,shortTitle:$.shortTitle,description:$.description,prompt:$.prompt},$.isEditing=!0},f=$=>{if(!$.title.trim()){alert("标题不能为空");return}if(!$.shortTitle||!$.shortTitle.trim()){alert("简称不能为空");return}if($.shortTitle.length>2){alert("简称最多2个字符");return}if(!$.prompt.trim()){alert("执行内容不能为空");return}$.isEditing=!1,delete $.originalData,c(),a.value=null},E=$=>{$.originalData&&($.icon=$.originalData.icon,$.title=$.originalData.title,$.shortTitle=$.originalData.shortTitle,$.description=$.originalData.description,$.prompt=$.originalData.prompt,delete $.originalData),$.isEditing=!1,a.value=null},b=($,w)=>{$.icon=w,a.value=null},y=()=>{o("update:modelValue",!1),a.value=null};return watch(()=>s.modelValue,$=>{$?(console.log("🔄 MobileShortcutsDialog - 对话框打开，重新初始化数据"),m()):a.value=null}),onMounted(()=>{m()}),($,w)=>t.modelValue?(openBlock(),createElementBlock("div",{key:0,class:"mobile-shortcuts-dialog",onClick:y},[createBaseVNode("div",{class:"mobile-dialog-container",onClick:w[1]||(w[1]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:"mobile-dialog-header"},[w[3]||(w[3]=createBaseVNode("h3",{class:"dialog-title"},"快捷操作",-1)),createBaseVNode("button",{class:"close-btn",onClick:y},w[2]||(w[2]=[createBaseVNode("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)]))]),createBaseVNode("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$a,[w[4]||(w[4]=createBaseVNode("div",{class:"section-title"},[createBaseVNode("h4",null,"系统快捷操作"),createBaseVNode("span",{class:"section-subtitle"},"开启或关闭预设的快捷操作")],-1)),createBaseVNode("div",_hoisted_3$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,x=>(openBlock(),createElementBlock("div",{key:x.id,class:"shortcut-item"},[createBaseVNode("div",_hoisted_4$9,[createBaseVNode("div",_hoisted_5$8,toDisplayString(x.icon),1),createBaseVNode("div",_hoisted_6$8,[createBaseVNode("div",_hoisted_7$7,toDisplayString(x.title),1),createBaseVNode("div",_hoisted_8$6,toDisplayString(x.description),1)])]),createBaseVNode("div",_hoisted_9$6,[withDirectives(createBaseVNode("input",{type:"checkbox",id:`toggle-${x.id}`,"onUpdate:modelValue":v=>x.isActive=v,onChange:v=>g(x),class:"toggle-switch"},null,40,_hoisted_10$6),[[vModelCheckbox,x.isActive]]),createBaseVNode("label",{for:`toggle-${x.id}`,class:"toggle-label"},null,8,_hoisted_11$5)])]))),128))])]),createBaseVNode("div",_hoisted_12$5,[createBaseVNode("div",_hoisted_13$5,[w[6]||(w[6]=createBaseVNode("div",{class:"section-title"},[createBaseVNode("h4",null,"自定义快捷操作"),createBaseVNode("span",{class:"section-subtitle"},"创建专属的快捷操作（最多3个）")],-1)),createBaseVNode("button",{class:"add-custom-btn",onClick:k,disabled:r.value.length>=3},w[5]||(w[5]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M12 5v14M5 12h14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1),createTextVNode(" 添加 ")]),8,_hoisted_14$3)]),r.value.length>0?(openBlock(),createElementBlock("div",_hoisted_15$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,x=>(openBlock(),createElementBlock("div",{key:x.id,class:"custom-shortcut-item"},[x.isEditing?(openBlock(),createElementBlock("div",_hoisted_28$3,[createBaseVNode("div",_hoisted_29$3,[createBaseVNode("div",_hoisted_30$3,[w[10]||(w[10]=createBaseVNode("label",{class:"form-label"},"图标",-1)),createBaseVNode("div",_hoisted_31$3,[createBaseVNode("div",{class:"current-icon",onClick:v=>a.value=x.id},[createBaseVNode("span",null,toDisplayString(x.icon),1),w[9]||(w[9]=createBaseVNode("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M6 9l6 6 6-6",stroke:"currentColor","stroke-width":"2"})],-1))],8,_hoisted_32$3),a.value===x.id?(openBlock(),createElementBlock("div",{key:0,class:"icon-picker",onClick:w[0]||(w[0]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_33$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.value,v=>(openBlock(),createElementBlock("div",{key:v,class:normalizeClass(["icon-option",{selected:x.icon===v}]),onClick:C=>b(x,v)},toDisplayString(v),11,_hoisted_34$3))),128))])])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_35$2,[w[11]||(w[11]=createBaseVNode("label",{class:"form-label"},"操作名称",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v=>x.title=v,class:"form-input",placeholder:"如：个股深度分析",maxlength:"10"},null,8,_hoisted_36$2),[[vModelText,x.title]])]),createBaseVNode("div",_hoisted_37$2,[w[12]||(w[12]=createBaseVNode("label",{class:"form-label"},"简称（2字）",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v=>x.shortTitle=v,class:"form-input",placeholder:"如：深析",maxlength:"2"},null,8,_hoisted_38$2),[[vModelText,x.shortTitle]])]),createBaseVNode("div",_hoisted_39$2,[w[13]||(w[13]=createBaseVNode("label",{class:"form-label"},"操作描述",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v=>x.description=v,class:"form-input",placeholder:"简单描述这个操作的用途",maxlength:"50"},null,8,_hoisted_40$2),[[vModelText,x.description]])]),createBaseVNode("div",_hoisted_41$1,[w[14]||(w[14]=createBaseVNode("label",{class:"form-label"},"执行内容",-1)),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":v=>x.prompt=v,class:"form-textarea",placeholder:"如：分析贵州茅台的财务数据和未来3年盈利预测，包括ROE、净利润增长率等关键指标...",maxlength:"500",rows:"4"},null,8,_hoisted_42$1),[[vModelText,x.prompt]])])]),createBaseVNode("div",_hoisted_43$1,[createBaseVNode("button",{class:"cancel-btn",onClick:v=>E(x)},"取消",8,_hoisted_44$1),createBaseVNode("button",{class:"save-btn",onClick:v=>f(x)},"保存",8,_hoisted_45$1)])])):(openBlock(),createElementBlock("div",_hoisted_16$3,[createBaseVNode("div",_hoisted_17$3,[createBaseVNode("div",_hoisted_18$3,toDisplayString(x.icon),1),createBaseVNode("div",_hoisted_19$3,[createBaseVNode("div",_hoisted_20$3,toDisplayString(x.title),1),createBaseVNode("div",_hoisted_21$3,toDisplayString(x.description),1)])]),createBaseVNode("div",_hoisted_22$3,[createBaseVNode("div",_hoisted_23$3,[withDirectives(createBaseVNode("input",{type:"checkbox",id:`custom-toggle-${x.id}`,"onUpdate:modelValue":v=>x.isActive=v,onChange:c,class:"toggle-switch"},null,40,_hoisted_24$3),[[vModelCheckbox,x.isActive]]),createBaseVNode("label",{for:`custom-toggle-${x.id}`,class:"toggle-label"},null,8,_hoisted_25$3)]),createBaseVNode("button",{class:"edit-btn",onClick:v=>N(x)},w[7]||(w[7]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",stroke:"currentColor","stroke-width":"2"})],-1)]),8,_hoisted_26$3),createBaseVNode("button",{class:"delete-btn",onClick:v=>S(x.id)},w[8]||(w[8]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14zM10 11v6M14 11v6",stroke:"currentColor","stroke-width":"2"})],-1)]),8,_hoisted_27$3)])]))]))),128))])):(openBlock(),createElementBlock("div",_hoisted_46$1,w[15]||(w[15]=[createBaseVNode("div",{class:"empty-icon"},"📝",-1),createBaseVNode("div",{class:"empty-text"},[createBaseVNode("h5",null,"还没有自定义快捷操作"),createBaseVNode("p",null,'点击"添加"按钮，创建专属的快捷操作')],-1)])))])])])])):createCommentVNode("",!0)}},MobileShortcutsDialog=_export_sfc(_sfc_main$c,[["__scopeId","data-v-48f97bf5"]]),_hoisted_1$b={class:"mobile-menu-header"},_hoisted_2$9={class:"mobile-menu-avatar"},_hoisted_3$9={class:"mobile-menu-user-info"},_hoisted_4$8={class:"mobile-menu-items"},_sfc_main$b={__name:"MobileUserMenu",props:{visible:{type:Boolean,default:!1},userInfo:{type:Object,default:()=>({})}},emits:["close","command"],setup(t,{emit:e}){const s=e,o=()=>{s("close")},a=async n=>{o(),setTimeout(()=>{s("command",n)},200)};return(n,r)=>{var d,m,c,l,_;return t.visible?(openBlock(),createElementBlock("div",{key:0,class:"mobile-user-menu-overlay",onClick:o},[createBaseVNode("div",{class:"mobile-user-menu-container",onClick:r[4]||(r[4]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$9,toDisplayString(((c=(m=(d=t.userInfo)==null?void 0:d.nickname)==null?void 0:m.charAt(0))==null?void 0:c.toUpperCase())||"U"),1),createBaseVNode("div",_hoisted_3$9,[createBaseVNode("h3",null,toDisplayString(((l=t.userInfo)==null?void 0:l.nickname)||"未设置昵称"),1),createBaseVNode("p",null,toDisplayString(((_=t.userInfo)==null?void 0:_.email)||"未绑定邮箱"),1)])]),createBaseVNode("div",_hoisted_4$8,[createBaseVNode("div",{class:"mobile-menu-item",onClick:r[0]||(r[0]=k=>a("profile"))},r[5]||(r[5]=[createStaticVNode('<div class="menu-item-icon" data-v-d2ce4446><svg width="20" height="20" viewBox="0 0 24 24" fill="none" data-v-d2ce4446><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" data-v-d2ce4446></path><circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" data-v-d2ce4446></circle></svg></div><span data-v-d2ce4446>个人中心</span><div class="menu-item-arrow" data-v-d2ce4446><svg width="16" height="16" viewBox="0 0 24 24" fill="none" data-v-d2ce4446><path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" data-v-d2ce4446></path></svg></div>',3)])),createBaseVNode("div",{class:"mobile-menu-item",onClick:r[1]||(r[1]=k=>a("settings"))},r[6]||(r[6]=[createStaticVNode('<div class="menu-item-icon" data-v-d2ce4446><svg width="20" height="20" viewBox="0 0 24 24" fill="none" data-v-d2ce4446><path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" stroke="currentColor" stroke-width="2" data-v-d2ce4446></path><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.04A1.65 1.65 0 0 0 21 9h.09a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09A1.65 1.65 0 0 0 19.4 15z" stroke="currentColor" stroke-width="2" data-v-d2ce4446></path></svg></div><span data-v-d2ce4446>偏好设置</span><div class="menu-item-arrow" data-v-d2ce4446><svg width="16" height="16" viewBox="0 0 24 24" fill="none" data-v-d2ce4446><path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" data-v-d2ce4446></path></svg></div>',3)])),createBaseVNode("div",{class:"mobile-menu-item",onClick:r[2]||(r[2]=k=>a("records"))},r[7]||(r[7]=[createStaticVNode('<div class="menu-item-icon" data-v-d2ce4446><svg width="20" height="20" viewBox="0 0 24 24" fill="none" data-v-d2ce4446><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2" data-v-d2ce4446></path><polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" data-v-d2ce4446></polyline><line x1="16" y1="13" x2="8" y2="13" stroke="currentColor" stroke-width="2" data-v-d2ce4446></line><line x1="16" y1="17" x2="8" y2="17" stroke="currentColor" stroke-width="2" data-v-d2ce4446></line><polyline points="10,9 9,9 8,9" stroke="currentColor" stroke-width="2" data-v-d2ce4446></polyline></svg></div><span data-v-d2ce4446>记录中心</span><div class="menu-item-arrow" data-v-d2ce4446><svg width="16" height="16" viewBox="0 0 24 24" fill="none" data-v-d2ce4446><path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" data-v-d2ce4446></path></svg></div>',3)])),r[9]||(r[9]=createBaseVNode("div",{class:"mobile-menu-divider"},null,-1)),createBaseVNode("div",{class:"mobile-menu-item logout-item",onClick:r[3]||(r[3]=k=>a("logout"))},r[8]||(r[8]=[createStaticVNode('<div class="menu-item-icon" data-v-d2ce4446><svg width="20" height="20" viewBox="0 0 24 24" fill="none" data-v-d2ce4446><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke="currentColor" stroke-width="2" data-v-d2ce4446></path><polyline points="16,17 21,12 16,7" stroke="currentColor" stroke-width="2" data-v-d2ce4446></polyline><line x1="21" y1="12" x2="9" y2="12" stroke="currentColor" stroke-width="2" data-v-d2ce4446></line></svg></div><span data-v-d2ce4446>退出登录</span>',2)]))])])])):createCommentVNode("",!0)}}},MobileUserMenu=_export_sfc(_sfc_main$b,[["__scopeId","data-v-d2ce4446"]]),_hoisted_1$a={class:"history-panel"},_hoisted_2$8={class:"search-container"},_hoisted_3$8={class:"search-wrapper"},_hoisted_4$7={class:"header-actions"},_hoisted_5$7={class:"history-list-container"},_hoisted_6$7={class:"history-list"},_hoisted_7$6={key:0,class:"history-group"},_hoisted_8$5={class:"group-title"},_hoisted_9$5={class:"count-badge"},_hoisted_10$5=["onClick","onTouchstart"],_hoisted_11$4={class:"chat-title"},_hoisted_12$4={class:"chat-time"},_hoisted_13$4={key:1,class:"history-group"},_hoisted_14$2={class:"group-title"},_hoisted_15$2={class:"count-badge"},_hoisted_16$2=["onClick","onTouchstart"],_hoisted_17$2={class:"chat-title"},_hoisted_18$2={class:"chat-time"},_hoisted_19$2={key:2,class:"history-group"},_hoisted_20$2={class:"group-title"},_hoisted_21$2={class:"count-badge"},_hoisted_22$2=["onClick","onTouchstart"],_hoisted_23$2={class:"chat-title"},_hoisted_24$2={class:"chat-time"},_hoisted_25$2={key:3,class:"history-group"},_hoisted_26$2={class:"group-title"},_hoisted_27$2={class:"count-badge"},_hoisted_28$2=["onClick","onTouchstart"],_hoisted_29$2={class:"chat-title"},_hoisted_30$2={class:"chat-time"},_hoisted_31$2={key:4,class:"empty-state"},_hoisted_32$2={class:"empty-text"},_hoisted_33$2={class:"empty-subtext"},_hoisted_34$2={class:"dialog-footer"},_sfc_main$a={__name:"ChatHistory",props:{currentChatId:String,chatHistory:Array,visible:{type:Boolean,default:!1}},emits:["toggle-history","load-chat","create-new-chat","rename-chat","delete-chat","close-panel"],setup(t,{emit:e}){const s=t,o=e,{handleTouchStart:a,handleTouchMove:n,handleTouchEnd:r,handleClick:d,isMobile:m}=useTouchHandler(),c=computed(()=>!s.visible),l=ref(""),_=ref(!1),k=ref(""),S=ref(null),g=ref(!1),N=ref(JSON.parse(localStorage.getItem("chatHistoryList")||"[]")),f=()=>{g.value=!0},E=()=>{g.value=!1},b=computed(()=>l.value?N.value.filter(R=>R.title.toLowerCase().includes(l.value.toLowerCase())||R.messages.some(P=>P.content&&P.content.toLowerCase().includes(l.value.toLowerCase()))):N.value),y=computed(()=>{const R=new Date;return R.setHours(0,0,0,0),b.value.filter(P=>{const K=new Date(P.lastMessage);return K.setHours(0,0,0,0),K.getTime()===R.getTime()})}),$=computed(()=>{const R=new Date;return R.setDate(R.getDate()-1),R.setHours(0,0,0,0),b.value.filter(P=>{const K=new Date(P.lastMessage);return K.setHours(0,0,0,0),K.getTime()===R.getTime()})}),w=computed(()=>{const R=new Date,P=new Date(R);P.setDate(R.getDate()-R.getDay()),P.setHours(0,0,0,0);const K=new Date;return K.setDate(K.getDate()-1),K.setHours(23,59,59,999),b.value.filter(X=>{const W=new Date(X.lastMessage);return W>=P&&W<=K})}),x=computed(()=>{const R=new Date,P=new Date(R);return P.setDate(R.getDate()-R.getDay()),P.setHours(0,0,0,0),b.value.filter(K=>new Date(K.lastMessage)<P)}),v=()=>{o("create-new-chat")},C=()=>{o("close-panel")},T=(R,P=!1)=>{o("load-chat",R),m()&&P&&(o("close-panel"),console.log("移动端点击历史记录，触发关闭面板"))},D=(R,P)=>{a(R,P)},B=R=>{n(R)},I=R=>{r(R,P=>{T(P,!0)})},L=R=>{d(R,P=>{T(P)})},U=(R,P)=>{switch(R){case"rename":S.value=P,k.value=P.title,_.value=!0;break;case"delete":ElMessageBox.confirm("确定要删除这个聊天记录吗？删除后无法恢复。","确认删除",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",customClass:"high-z-index-dialog",appendTo:"body"}).then(()=>{o("delete-chat",P.id),ElMessage.success("聊天记录已删除")});break}},Y=()=>{if(!k.value.trim()){ElMessage.warning("请输入聊天标题");return}o("rename-chat",S.value.id,k.value.trim()),_.value=!1,S.value=null,k.value="",ElMessage.success("重命名成功")},se=R=>new Date(R).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1}),J=R=>new Date(R).toLocaleDateString("zh-CN",{month:"short",day:"numeric"});return watch(()=>N.value,()=>{},{deep:!0}),setInterval(()=>{N.value=JSON.parse(localStorage.getItem("chatHistoryList")||"[]")},1e3),(R,P)=>{const K=resolveComponent("el-input"),X=resolveComponent("el-button"),W=resolveComponent("el-dropdown-item"),Be=resolveComponent("el-dropdown-menu"),de=resolveComponent("el-dropdown"),ve=resolveComponent("el-dialog");return openBlock(),createElementBlock("div",{class:normalizeClass(["chat-history-container",{collapsed:c.value}])},[withDirectives(createBaseVNode("div",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",_hoisted_3$8,[createVNode(K,{modelValue:l.value,"onUpdate:modelValue":P[0]||(P[0]=ue=>l.value=ue),placeholder:"搜索对话",size:"small",clearable:"",class:"focus-border-input",onFocus:f,onBlur:E},{prefix:withCtx(()=>P[16]||(P[16]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"m21 21-4.35-4.35",stroke:"currentColor","stroke-width":"2"})],-1)])),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_4$7,[createVNode(X,{class:"new-chat-btn",size:"small",onClick:v,title:"新建聊天"},{default:withCtx(()=>P[17]||(P[17]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M12 5v14m-7-7h14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1,__:[17]}),createVNode(X,{class:"close-btn",size:"small",onClick:C,title:"关闭面板"},{default:withCtx(()=>P[18]||(P[18]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1,__:[18]})])]),P[40]||(P[40]=createBaseVNode("div",{class:"section-divider"},[createBaseVNode("span",{class:"divider-text"},"对话历史")],-1)),createBaseVNode("div",_hoisted_5$7,[createBaseVNode("div",_hoisted_6$7,[y.value.length>0?(openBlock(),createElementBlock("div",_hoisted_7$6,[createBaseVNode("div",_hoisted_8$5,[P[19]||(P[19]=createBaseVNode("span",{class:"title-icon"},"📅",-1)),P[20]||(P[20]=createTextVNode(" 今天 ")),createBaseVNode("span",_hoisted_9$5,toDisplayString(y.value.length),1)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value,ue=>(openBlock(),createElementBlock("div",{key:ue.id,class:normalizeClass(["history-item",{active:ue.id===t.currentChatId}])},[createBaseVNode("div",{class:"chat-info",onClick:he=>L(ue),onTouchstart:he=>D(ue,he),onTouchmove:P[1]||(P[1]=he=>B(he)),onTouchend:P[2]||(P[2]=he=>I(he))},[createBaseVNode("div",_hoisted_11$4,toDisplayString(ue.title),1),createBaseVNode("div",_hoisted_12$4,toDisplayString(se(ue.lastMessage)),1)],40,_hoisted_10$5),createBaseVNode("div",{class:"chat-actions",onClick:P[3]||(P[3]=withModifiers(()=>{},["stop"]))},[createVNode(de,{onCommand:he=>U(he,ue),trigger:"click"},{dropdown:withCtx(()=>[createVNode(Be,null,{default:withCtx(()=>[createVNode(W,{command:"rename"},{default:withCtx(()=>P[21]||(P[21]=[createTextVNode("重命名")])),_:1,__:[21]}),createVNode(W,{command:"delete",divided:""},{default:withCtx(()=>P[22]||(P[22]=[createTextVNode("删除")])),_:1,__:[22]})]),_:1})]),default:withCtx(()=>[P[23]||(P[23]=createBaseVNode("span",{class:"action-trigger"},[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("circle",{cx:"19",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("circle",{cx:"5",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"})])],-1))]),_:2,__:[23]},1032,["onCommand"])])],2))),128))])):createCommentVNode("",!0),$.value.length>0?(openBlock(),createElementBlock("div",_hoisted_13$4,[createBaseVNode("div",_hoisted_14$2,[P[24]||(P[24]=createBaseVNode("span",{class:"title-icon"},"📋",-1)),P[25]||(P[25]=createTextVNode(" 昨天 ")),createBaseVNode("span",_hoisted_15$2,toDisplayString($.value.length),1)]),(openBlock(!0),createElementBlock(Fragment,null,renderList($.value,ue=>(openBlock(),createElementBlock("div",{key:ue.id,class:normalizeClass(["history-item",{active:ue.id===t.currentChatId}])},[createBaseVNode("div",{class:"chat-info",onClick:he=>L(ue),onTouchstart:he=>D(ue,he),onTouchmove:P[4]||(P[4]=he=>B(he)),onTouchend:P[5]||(P[5]=he=>I(he))},[createBaseVNode("div",_hoisted_17$2,toDisplayString(ue.title),1),createBaseVNode("div",_hoisted_18$2,toDisplayString(se(ue.lastMessage)),1)],40,_hoisted_16$2),createBaseVNode("div",{class:"chat-actions",onClick:P[6]||(P[6]=withModifiers(()=>{},["stop"]))},[createVNode(de,{onCommand:he=>U(he,ue),trigger:"click"},{dropdown:withCtx(()=>[createVNode(Be,null,{default:withCtx(()=>[createVNode(W,{command:"rename"},{default:withCtx(()=>P[26]||(P[26]=[createTextVNode("重命名")])),_:1,__:[26]}),createVNode(W,{command:"delete",divided:""},{default:withCtx(()=>P[27]||(P[27]=[createTextVNode("删除")])),_:1,__:[27]})]),_:1})]),default:withCtx(()=>[P[28]||(P[28]=createBaseVNode("span",{class:"action-trigger"},[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("circle",{cx:"19",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("circle",{cx:"5",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"})])],-1))]),_:2,__:[28]},1032,["onCommand"])])],2))),128))])):createCommentVNode("",!0),w.value.length>0?(openBlock(),createElementBlock("div",_hoisted_19$2,[createBaseVNode("div",_hoisted_20$2,[P[29]||(P[29]=createBaseVNode("span",{class:"title-icon"},"📊",-1)),P[30]||(P[30]=createTextVNode(" 本周 ")),createBaseVNode("span",_hoisted_21$2,toDisplayString(w.value.length),1)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(w.value,ue=>(openBlock(),createElementBlock("div",{key:ue.id,class:normalizeClass(["history-item",{active:ue.id===t.currentChatId}])},[createBaseVNode("div",{class:"chat-info",onClick:he=>L(ue),onTouchstart:he=>D(ue,he),onTouchmove:P[7]||(P[7]=he=>B(he)),onTouchend:P[8]||(P[8]=he=>I(he))},[createBaseVNode("div",_hoisted_23$2,toDisplayString(ue.title),1),createBaseVNode("div",_hoisted_24$2,toDisplayString(se(ue.lastMessage)),1)],40,_hoisted_22$2),createBaseVNode("div",{class:"chat-actions",onClick:P[9]||(P[9]=withModifiers(()=>{},["stop"]))},[createVNode(de,{onCommand:he=>U(he,ue),trigger:"click"},{dropdown:withCtx(()=>[createVNode(Be,null,{default:withCtx(()=>[createVNode(W,{command:"rename"},{default:withCtx(()=>P[31]||(P[31]=[createTextVNode("重命名")])),_:1,__:[31]}),createVNode(W,{command:"delete",divided:""},{default:withCtx(()=>P[32]||(P[32]=[createTextVNode("删除")])),_:1,__:[32]})]),_:1})]),default:withCtx(()=>[P[33]||(P[33]=createBaseVNode("span",{class:"action-trigger"},[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("circle",{cx:"19",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("circle",{cx:"5",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"})])],-1))]),_:2,__:[33]},1032,["onCommand"])])],2))),128))])):createCommentVNode("",!0),x.value.length>0?(openBlock(),createElementBlock("div",_hoisted_25$2,[createBaseVNode("div",_hoisted_26$2,[P[34]||(P[34]=createBaseVNode("span",{class:"title-icon"},"🗂️",-1)),P[35]||(P[35]=createTextVNode(" 更早 ")),createBaseVNode("span",_hoisted_27$2,toDisplayString(x.value.length),1)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(x.value,ue=>(openBlock(),createElementBlock("div",{key:ue.id,class:normalizeClass(["history-item",{active:ue.id===t.currentChatId}])},[createBaseVNode("div",{class:"chat-info",onClick:he=>L(ue),onTouchstart:he=>D(ue,he),onTouchmove:P[10]||(P[10]=he=>B(he)),onTouchend:P[11]||(P[11]=he=>I(he))},[createBaseVNode("div",_hoisted_29$2,toDisplayString(ue.title),1),createBaseVNode("div",_hoisted_30$2,toDisplayString(J(ue.lastMessage)),1)],40,_hoisted_28$2),createBaseVNode("div",{class:"chat-actions",onClick:P[12]||(P[12]=withModifiers(()=>{},["stop"]))},[createVNode(de,{onCommand:he=>U(he,ue),trigger:"click"},{dropdown:withCtx(()=>[createVNode(Be,null,{default:withCtx(()=>[createVNode(W,{command:"rename"},{default:withCtx(()=>P[36]||(P[36]=[createTextVNode("重命名")])),_:1,__:[36]}),createVNode(W,{command:"delete",divided:""},{default:withCtx(()=>P[37]||(P[37]=[createTextVNode("删除")])),_:1,__:[37]})]),_:1})]),default:withCtx(()=>[P[38]||(P[38]=createBaseVNode("span",{class:"action-trigger"},[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("circle",{cx:"19",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("circle",{cx:"5",cy:"12",r:"1",stroke:"currentColor","stroke-width":"2"})])],-1))]),_:2,__:[38]},1032,["onCommand"])])],2))),128))])):createCommentVNode("",!0),b.value.length===0?(openBlock(),createElementBlock("div",_hoisted_31$2,[P[39]||(P[39]=createBaseVNode("div",{class:"empty-icon"},[createBaseVNode("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",stroke:"#d1d5db","stroke-width":"2"})])],-1)),createBaseVNode("p",_hoisted_32$2,toDisplayString(l.value?"没有找到相关聊天记录":"暂无聊天记录"),1),createBaseVNode("p",_hoisted_33$2,toDisplayString(l.value?"试试其他关键词":"开始一个新的对话吧"),1)])):createCommentVNode("",!0)])])],512),[[vShow,!c.value]]),createVNode(ve,{modelValue:_.value,"onUpdate:modelValue":P[15]||(P[15]=ue=>_.value=ue),title:"重命名聊天",width:"400px","append-to-body":""},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_34$2,[createVNode(X,{onClick:P[14]||(P[14]=ue=>_.value=!1)},{default:withCtx(()=>P[41]||(P[41]=[createTextVNode("取消")])),_:1,__:[41]}),createVNode(X,{type:"primary",onClick:Y},{default:withCtx(()=>P[42]||(P[42]=[createTextVNode("确定")])),_:1,__:[42]})])]),default:withCtx(()=>[createVNode(K,{modelValue:k.value,"onUpdate:modelValue":P[13]||(P[13]=ue=>k.value=ue),placeholder:"如：比亚迪投资分析 - 2024年1月",maxlength:"50","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["modelValue"])],2)}}},ChatHistory=_export_sfc(_sfc_main$a,[["__scopeId","data-v-cf583310"]]);function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var _defaults=_getDefaults();function changeDefaults(t){_defaults=t}var noopTest={exec:()=>null};function edit(t,e=""){let s=typeof t=="string"?t:t.source;const o={replace:(a,n)=>{let r=typeof n=="string"?n:n.source;return r=r.replace(other.caret,"$1"),s=s.replace(a,r),o},getRegex:()=>new RegExp(s,e)};return o}var other={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},newline=/^(?:[ \t]*(?:\n|$))+/,blockCode=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,fences=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bullet=/(?:[*+-]|\d{1,9}[.)])/,lheadingCore=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,lheading=edit(lheadingCore).replace(/bull/g,bullet).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),lheadingGfm=edit(lheadingCore).replace(/bull/g,bullet).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),_paragraph=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,blockText=/^[^\n]+/,_blockLabel=/(?!\s*\])(?:\\.|[^\[\]\\])+/,def=edit(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",_blockLabel).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),list=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bullet).getRegex(),_tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_comment=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,html$2=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",_comment).replace("tag",_tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),paragraph=edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockquote=edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",paragraph).getRegex(),blockNormal={blockquote,code:blockCode,def,fences,heading,hr,html:html$2,lheading,list,newline,paragraph,table:noopTest,text:blockText},gfmTable=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockGfm={...blockNormal,lheading:lheadingGfm,table:gfmTable,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gfmTable).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex()},blockPedantic={...blockNormal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(_paragraph).replace("hr",hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",lheading).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},escape=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,inlineCode=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br=/^( {2,}|\\)\n(?!\s*$)/,inlineText=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_punctuation=/[\p{P}\p{S}]/u,_punctuationOrSpace=/[\s\p{P}\p{S}]/u,_notPunctuationOrSpace=/[^\s\p{P}\p{S}]/u,punctuation=edit(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,_punctuationOrSpace).getRegex(),_punctuationGfmStrongEm=/(?!~)[\p{P}\p{S}]/u,_punctuationOrSpaceGfmStrongEm=/(?!~)[\s\p{P}\p{S}]/u,_notPunctuationOrSpaceGfmStrongEm=/(?:[^\s\p{P}\p{S}]|~)/u,blockSkip=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,emStrongLDelimCore=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,emStrongLDelim=edit(emStrongLDelimCore,"u").replace(/punct/g,_punctuation).getRegex(),emStrongLDelimGfm=edit(emStrongLDelimCore,"u").replace(/punct/g,_punctuationGfmStrongEm).getRegex(),emStrongRDelimAstCore="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",emStrongRDelimAst=edit(emStrongRDelimAstCore,"gu").replace(/notPunctSpace/g,_notPunctuationOrSpace).replace(/punctSpace/g,_punctuationOrSpace).replace(/punct/g,_punctuation).getRegex(),emStrongRDelimAstGfm=edit(emStrongRDelimAstCore,"gu").replace(/notPunctSpace/g,_notPunctuationOrSpaceGfmStrongEm).replace(/punctSpace/g,_punctuationOrSpaceGfmStrongEm).replace(/punct/g,_punctuationGfmStrongEm).getRegex(),emStrongRDelimUnd=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,_notPunctuationOrSpace).replace(/punctSpace/g,_punctuationOrSpace).replace(/punct/g,_punctuation).getRegex(),anyPunctuation=edit(/\\(punct)/,"gu").replace(/punct/g,_punctuation).getRegex(),autolink=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_inlineComment=edit(_comment).replace("(?:-->|$)","-->").getRegex(),tag=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_inlineComment).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_inlineLabel=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,link=edit(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",_inlineLabel).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),reflink=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",_inlineLabel).replace("ref",_blockLabel).getRegex(),nolink=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",_blockLabel).getRegex(),reflinkSearch=edit("reflink|nolink(?!\\()","g").replace("reflink",reflink).replace("nolink",nolink).getRegex(),inlineNormal={_backpedal:noopTest,anyPunctuation,autolink,blockSkip,br,code:inlineCode,del:noopTest,emStrongLDelim,emStrongRDelimAst,emStrongRDelimUnd,escape,link,nolink,punctuation,reflink,reflinkSearch,tag,text:inlineText,url:noopTest},inlinePedantic={...inlineNormal,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",_inlineLabel).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_inlineLabel).getRegex()},inlineGfm={...inlineNormal,emStrongRDelimAst:emStrongRDelimAstGfm,emStrongLDelim:emStrongLDelimGfm,url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inlineBreaks={...inlineGfm,br:edit(br).replace("{2,}","*").getRegex(),text:edit(inlineGfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},block={normal:blockNormal,gfm:blockGfm,pedantic:blockPedantic},inline={normal:inlineNormal,gfm:inlineGfm,breaks:inlineBreaks,pedantic:inlinePedantic},escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=t=>escapeReplacements[t];function escape2(t,e){if(e){if(other.escapeTest.test(t))return t.replace(other.escapeReplace,getEscapeReplacement)}else if(other.escapeTestNoEncode.test(t))return t.replace(other.escapeReplaceNoEncode,getEscapeReplacement);return t}function cleanUrl(t){try{t=encodeURI(t).replace(other.percentDecode,"%")}catch{return null}return t}function splitCells(t,e){var n;const s=t.replace(other.findPipe,(r,d,m)=>{let c=!1,l=d;for(;--l>=0&&m[l]==="\\";)c=!c;return c?"|":" |"}),o=s.split(other.splitPipe);let a=0;if(o[0].trim()||o.shift(),o.length>0&&!((n=o.at(-1))!=null&&n.trim())&&o.pop(),e)if(o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;a<o.length;a++)o[a]=o[a].trim().replace(other.slashPipe,"|");return o}function rtrim(t,e,s){const o=t.length;if(o===0)return"";let a=0;for(;a<o&&t.charAt(o-a-1)===e;)a++;return t.slice(0,o-a)}function findClosingBracket(t,e){if(t.indexOf(e[1])===-1)return-1;let s=0;for(let o=0;o<t.length;o++)if(t[o]==="\\")o++;else if(t[o]===e[0])s++;else if(t[o]===e[1]&&(s--,s<0))return o;return s>0?-2:-1}function outputLink(t,e,s,o,a){const n=e.href,r=e.title||null,d=t[1].replace(a.other.outputLinkReplace,"$1");o.state.inLink=!0;const m={type:t[0].charAt(0)==="!"?"image":"link",raw:s,href:n,title:r,text:d,tokens:o.inlineTokens(d)};return o.state.inLink=!1,m}function indentCodeCompensation(t,e,s){const o=t.match(s.other.indentCodeCompensation);if(o===null)return e;const a=o[1];return e.split(`
`).map(n=>{const r=n.match(s.other.beginningSpace);if(r===null)return n;const[d]=r;return d.length>=a.length?n.slice(a.length):n}).join(`
`)}var _Tokenizer=class{constructor(t){Le(this,"options");Le(this,"rules");Le(this,"lexer");this.options=t||_defaults}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const s=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?s:rtrim(s,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const s=e[0],o=indentCodeCompensation(s,e[3]||"",this.rules);return{type:"code",raw:s,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:o}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let s=e[2].trim();if(this.rules.other.endingHash.test(s)){const o=rtrim(s,"#");(this.options.pedantic||!o||this.rules.other.endingSpaceChar.test(o))&&(s=o.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:rtrim(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let s=rtrim(e[0],`
`).split(`
`),o="",a="";const n=[];for(;s.length>0;){let r=!1;const d=[];let m;for(m=0;m<s.length;m++)if(this.rules.other.blockquoteStart.test(s[m]))d.push(s[m]),r=!0;else if(!r)d.push(s[m]);else break;s=s.slice(m);const c=d.join(`
`),l=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");o=o?`${o}
${c}`:c,a=a?`${a}
${l}`:l;const _=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,n,!0),this.lexer.state.top=_,s.length===0)break;const k=n.at(-1);if((k==null?void 0:k.type)==="code")break;if((k==null?void 0:k.type)==="blockquote"){const S=k,g=S.raw+`
`+s.join(`
`),N=this.blockquote(g);n[n.length-1]=N,o=o.substring(0,o.length-S.raw.length)+N.raw,a=a.substring(0,a.length-S.text.length)+N.text;break}else if((k==null?void 0:k.type)==="list"){const S=k,g=S.raw+`
`+s.join(`
`),N=this.list(g);n[n.length-1]=N,o=o.substring(0,o.length-k.raw.length)+N.raw,a=a.substring(0,a.length-S.raw.length)+N.raw,s=g.substring(n.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:o,tokens:n,text:a}}}list(t){let e=this.rules.block.list.exec(t);if(e){let s=e[1].trim();const o=s.length>1,a={type:"list",raw:"",ordered:o,start:o?+s.slice(0,-1):"",loose:!1,items:[]};s=o?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=o?s:"[*+-]");const n=this.rules.other.listItemRegex(s);let r=!1;for(;t;){let m=!1,c="",l="";if(!(e=n.exec(t))||this.rules.block.hr.test(t))break;c=e[0],t=t.substring(c.length);let _=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),k=t.split(`
`,1)[0],S=!_.trim(),g=0;if(this.options.pedantic?(g=2,l=_.trimStart()):S?g=e[1].length+1:(g=e[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,l=_.slice(g),g+=e[1].length),S&&this.rules.other.blankLine.test(k)&&(c+=k+`
`,t=t.substring(k.length+1),m=!0),!m){const E=this.rules.other.nextBulletRegex(g),b=this.rules.other.hrRegex(g),y=this.rules.other.fencesBeginRegex(g),$=this.rules.other.headingBeginRegex(g),w=this.rules.other.htmlBeginRegex(g);for(;t;){const x=t.split(`
`,1)[0];let v;if(k=x,this.options.pedantic?(k=k.replace(this.rules.other.listReplaceNesting,"  "),v=k):v=k.replace(this.rules.other.tabCharGlobal,"    "),y.test(k)||$.test(k)||w.test(k)||E.test(k)||b.test(k))break;if(v.search(this.rules.other.nonSpaceChar)>=g||!k.trim())l+=`
`+v.slice(g);else{if(S||_.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||y.test(_)||$.test(_)||b.test(_))break;l+=`
`+k}!S&&!k.trim()&&(S=!0),c+=x+`
`,t=t.substring(x.length+1),_=v.slice(g)}}a.loose||(r?a.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(r=!0));let N=null,f;this.options.gfm&&(N=this.rules.other.listIsTask.exec(l),N&&(f=N[0]!=="[ ] ",l=l.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:c,task:!!N,checked:f,loose:!1,text:l,tokens:[]}),a.raw+=c}const d=a.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let m=0;m<a.items.length;m++)if(this.lexer.state.top=!1,a.items[m].tokens=this.lexer.blockTokens(a.items[m].text,[]),!a.loose){const c=a.items[m].tokens.filter(_=>_.type==="space"),l=c.length>0&&c.some(_=>this.rules.other.anyLine.test(_.raw));a.loose=l}if(a.loose)for(let m=0;m<a.items.length;m++)a.items[m].loose=!0;return a}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const s=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),o=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:s,raw:e[0],href:o,title:a}}}table(t){var r;const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const s=splitCells(e[1]),o=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=(r=e[3])!=null&&r.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],n={type:"table",raw:e[0],header:[],align:[],rows:[]};if(s.length===o.length){for(const d of o)this.rules.other.tableAlignRight.test(d)?n.align.push("right"):this.rules.other.tableAlignCenter.test(d)?n.align.push("center"):this.rules.other.tableAlignLeft.test(d)?n.align.push("left"):n.align.push(null);for(let d=0;d<s.length;d++)n.header.push({text:s[d],tokens:this.lexer.inline(s[d]),header:!0,align:n.align[d]});for(const d of a)n.rows.push(splitCells(d,n.header.length).map((m,c)=>({text:m,tokens:this.lexer.inline(m),header:!1,align:n.align[c]})));return n}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const s=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:s,tokens:this.lexer.inline(s)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const s=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;const n=rtrim(s.slice(0,-1),"\\");if((s.length-n.length)%2===0)return}else{const n=findClosingBracket(e[2],"()");if(n===-2)return;if(n>-1){const d=(e[0].indexOf("!")===0?5:4)+e[1].length+n;e[2]=e[2].substring(0,n),e[0]=e[0].substring(0,d).trim(),e[3]=""}}let o=e[2],a="";if(this.options.pedantic){const n=this.rules.other.pedanticHrefTitle.exec(o);n&&(o=n[1],a=n[3])}else a=e[3]?e[3].slice(1,-1):"";return o=o.trim(),this.rules.other.startAngleBracket.test(o)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?o=o.slice(1):o=o.slice(1,-1)),outputLink(e,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let s;if((s=this.rules.inline.reflink.exec(t))||(s=this.rules.inline.nolink.exec(t))){const o=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=e[o.toLowerCase()];if(!a){const n=s[0].charAt(0);return{type:"text",raw:n,text:n}}return outputLink(s,a,s[0],this.lexer,this.rules)}}emStrong(t,e,s=""){let o=this.rules.inline.emStrongLDelim.exec(t);if(!o||o[3]&&s.match(this.rules.other.unicodeAlphaNumeric))return;if(!(o[1]||o[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const n=[...o[0]].length-1;let r,d,m=n,c=0;const l=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,e=e.slice(-1*t.length+n);(o=l.exec(e))!=null;){if(r=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!r)continue;if(d=[...r].length,o[3]||o[4]){m+=d;continue}else if((o[5]||o[6])&&n%3&&!((n+d)%3)){c+=d;continue}if(m-=d,m>0)continue;d=Math.min(d,d+m+c);const _=[...o[0]][0].length,k=t.slice(0,n+o.index+_+d);if(Math.min(n,d)%2){const g=k.slice(1,-1);return{type:"em",raw:k,text:g,tokens:this.lexer.inlineTokens(g)}}const S=k.slice(2,-2);return{type:"strong",raw:k,text:S,tokens:this.lexer.inlineTokens(S)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let s=e[2].replace(this.rules.other.newLineCharGlobal," ");const o=this.rules.other.nonSpaceChar.test(s),a=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return o&&a&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:e[0],text:s}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let s,o;return e[2]==="@"?(s=e[1],o="mailto:"+s):(s=e[1],o=s),{type:"link",raw:e[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}url(t){var s;let e;if(e=this.rules.inline.url.exec(t)){let o,a;if(e[2]==="@")o=e[0],a="mailto:"+o;else{let n;do n=e[0],e[0]=((s=this.rules.inline._backpedal.exec(e[0]))==null?void 0:s[0])??"";while(n!==e[0]);o=e[0],e[1]==="www."?a="http://"+e[0]:a=e[0]}return{type:"link",raw:e[0],text:o,href:a,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const s=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:s}}}},_Lexer=class Bs{constructor(e){Le(this,"tokens");Le(this,"options");Le(this,"state");Le(this,"tokenizer");Le(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const s={other,block:block.normal,inline:inline.normal};this.options.pedantic?(s.block=block.pedantic,s.inline=inline.pedantic):this.options.gfm&&(s.block=block.gfm,this.options.breaks?s.inline=inline.breaks:s.inline=inline.gfm),this.tokenizer.rules=s}static get rules(){return{block,inline}}static lex(e,s){return new Bs(s).lex(e)}static lexInline(e,s){return new Bs(s).inlineTokens(e)}lex(e){e=e.replace(other.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let s=0;s<this.inlineQueue.length;s++){const o=this.inlineQueue[s];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,s=[],o=!1){var a,n,r;for(this.options.pedantic&&(e=e.replace(other.tabCharGlobal,"    ").replace(other.spaceLine,""));e;){let d;if((n=(a=this.options.extensions)==null?void 0:a.block)!=null&&n.some(c=>(d=c.call({lexer:this},e,s))?(e=e.substring(d.raw.length),s.push(d),!0):!1))continue;if(d=this.tokenizer.space(e)){e=e.substring(d.raw.length);const c=s.at(-1);d.raw.length===1&&c!==void 0?c.raw+=`
`:s.push(d);continue}if(d=this.tokenizer.code(e)){e=e.substring(d.raw.length);const c=s.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+d.raw,c.text+=`
`+d.text,this.inlineQueue.at(-1).src=c.text):s.push(d);continue}if(d=this.tokenizer.fences(e)){e=e.substring(d.raw.length),s.push(d);continue}if(d=this.tokenizer.heading(e)){e=e.substring(d.raw.length),s.push(d);continue}if(d=this.tokenizer.hr(e)){e=e.substring(d.raw.length),s.push(d);continue}if(d=this.tokenizer.blockquote(e)){e=e.substring(d.raw.length),s.push(d);continue}if(d=this.tokenizer.list(e)){e=e.substring(d.raw.length),s.push(d);continue}if(d=this.tokenizer.html(e)){e=e.substring(d.raw.length),s.push(d);continue}if(d=this.tokenizer.def(e)){e=e.substring(d.raw.length);const c=s.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+d.raw,c.text+=`
`+d.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[d.tag]||(this.tokens.links[d.tag]={href:d.href,title:d.title});continue}if(d=this.tokenizer.table(e)){e=e.substring(d.raw.length),s.push(d);continue}if(d=this.tokenizer.lheading(e)){e=e.substring(d.raw.length),s.push(d);continue}let m=e;if((r=this.options.extensions)!=null&&r.startBlock){let c=1/0;const l=e.slice(1);let _;this.options.extensions.startBlock.forEach(k=>{_=k.call({lexer:this},l),typeof _=="number"&&_>=0&&(c=Math.min(c,_))}),c<1/0&&c>=0&&(m=e.substring(0,c+1))}if(this.state.top&&(d=this.tokenizer.paragraph(m))){const c=s.at(-1);o&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+d.raw,c.text+=`
`+d.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):s.push(d),o=m.length!==e.length,e=e.substring(d.raw.length);continue}if(d=this.tokenizer.text(e)){e=e.substring(d.raw.length);const c=s.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+d.raw,c.text+=`
`+d.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):s.push(d);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,s}inline(e,s=[]){return this.inlineQueue.push({src:e,tokens:s}),s}inlineTokens(e,s=[]){var d,m,c;let o=e,a=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)l.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let n=!1,r="";for(;e;){n||(r=""),n=!1;let l;if((m=(d=this.options.extensions)==null?void 0:d.inline)!=null&&m.some(k=>(l=k.call({lexer:this},e,s))?(e=e.substring(l.raw.length),s.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const k=s.at(-1);l.type==="text"&&(k==null?void 0:k.type)==="text"?(k.raw+=l.raw,k.text+=l.text):s.push(l);continue}if(l=this.tokenizer.emStrong(e,o,r)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),s.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),s.push(l);continue}let _=e;if((c=this.options.extensions)!=null&&c.startInline){let k=1/0;const S=e.slice(1);let g;this.options.extensions.startInline.forEach(N=>{g=N.call({lexer:this},S),typeof g=="number"&&g>=0&&(k=Math.min(k,g))}),k<1/0&&k>=0&&(_=e.substring(0,k+1))}if(l=this.tokenizer.inlineText(_)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(r=l.raw.slice(-1)),n=!0;const k=s.at(-1);(k==null?void 0:k.type)==="text"?(k.raw+=l.raw,k.text+=l.text):s.push(l);continue}if(e){const k="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(k);break}else throw new Error(k)}}return s}},_Renderer=class{constructor(t){Le(this,"options");Le(this,"parser");this.options=t||_defaults}space(t){return""}code({text:t,lang:e,escaped:s}){var n;const o=(n=(e||"").match(other.notSpaceStart))==null?void 0:n[0],a=t.replace(other.endingNewline,"")+`
`;return o?'<pre><code class="language-'+escape2(o)+'">'+(s?a:escape2(a,!0))+`</code></pre>
`:"<pre><code>"+(s?a:escape2(a,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,s=t.start;let o="";for(let r=0;r<t.items.length;r++){const d=t.items[r];o+=this.listitem(d)}const a=e?"ol":"ul",n=e&&s!==1?' start="'+s+'"':"";return"<"+a+n+`>
`+o+"</"+a+`>
`}listitem(t){var s;let e="";if(t.task){const o=this.checkbox({checked:!!t.checked});t.loose?((s=t.tokens[0])==null?void 0:s.type)==="paragraph"?(t.tokens[0].text=o+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=o+" "+escape2(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:o+" ",text:o+" ",escaped:!0}):e+=o+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",s="";for(let a=0;a<t.header.length;a++)s+=this.tablecell(t.header[a]);e+=this.tablerow({text:s});let o="";for(let a=0;a<t.rows.length;a++){const n=t.rows[a];s="";for(let r=0;r<n.length;r++)s+=this.tablecell(n[r]);o+=this.tablerow({text:s})}return o&&(o=`<tbody>${o}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+o+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),s=t.header?"th":"td";return(t.align?`<${s} align="${t.align}">`:`<${s}>`)+e+`</${s}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${escape2(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:s}){const o=this.parser.parseInline(s),a=cleanUrl(t);if(a===null)return o;t=a;let n='<a href="'+t+'"';return e&&(n+=' title="'+escape2(e)+'"'),n+=">"+o+"</a>",n}image({href:t,title:e,text:s,tokens:o}){o&&(s=this.parser.parseInline(o,this.parser.textRenderer));const a=cleanUrl(t);if(a===null)return escape2(s);t=a;let n=`<img src="${t}" alt="${s}"`;return e&&(n+=` title="${escape2(e)}"`),n+=">",n}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:escape2(t.text)}},_TextRenderer=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},_Parser=class Ns{constructor(e){Le(this,"options");Le(this,"renderer");Le(this,"textRenderer");this.options=e||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _TextRenderer}static parse(e,s){return new Ns(s).parse(e)}static parseInline(e,s){return new Ns(s).parseInline(e)}parse(e,s=!0){var a,n;let o="";for(let r=0;r<e.length;r++){const d=e[r];if((n=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&n[d.type]){const c=d,l=this.options.extensions.renderers[c.type].call({parser:this},c);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){o+=l||"";continue}}const m=d;switch(m.type){case"space":{o+=this.renderer.space(m);continue}case"hr":{o+=this.renderer.hr(m);continue}case"heading":{o+=this.renderer.heading(m);continue}case"code":{o+=this.renderer.code(m);continue}case"table":{o+=this.renderer.table(m);continue}case"blockquote":{o+=this.renderer.blockquote(m);continue}case"list":{o+=this.renderer.list(m);continue}case"html":{o+=this.renderer.html(m);continue}case"paragraph":{o+=this.renderer.paragraph(m);continue}case"text":{let c=m,l=this.renderer.text(c);for(;r+1<e.length&&e[r+1].type==="text";)c=e[++r],l+=`
`+this.renderer.text(c);s?o+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):o+=l;continue}default:{const c='Token with "'+m.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return o}parseInline(e,s=this.renderer){var a,n;let o="";for(let r=0;r<e.length;r++){const d=e[r];if((n=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&n[d.type]){const c=this.options.extensions.renderers[d.type].call({parser:this},d);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(d.type)){o+=c||"";continue}}const m=d;switch(m.type){case"escape":{o+=s.text(m);break}case"html":{o+=s.html(m);break}case"link":{o+=s.link(m);break}case"image":{o+=s.image(m);break}case"strong":{o+=s.strong(m);break}case"em":{o+=s.em(m);break}case"codespan":{o+=s.codespan(m);break}case"br":{o+=s.br(m);break}case"del":{o+=s.del(m);break}case"text":{o+=s.text(m);break}default:{const c='Token with "'+m.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return o}},ys,_Hooks=(ys=class{constructor(t){Le(this,"options");Le(this,"block");this.options=t||_defaults}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?_Lexer.lex:_Lexer.lexInline}provideParser(){return this.block?_Parser.parse:_Parser.parseInline}},Le(ys,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),ys),Marked=class{constructor(...t){Le(this,"defaults",_getDefaults());Le(this,"options",this.setOptions);Le(this,"parse",this.parseMarkdown(!0));Le(this,"parseInline",this.parseMarkdown(!1));Le(this,"Parser",_Parser);Le(this,"Renderer",_Renderer);Le(this,"TextRenderer",_TextRenderer);Le(this,"Lexer",_Lexer);Le(this,"Tokenizer",_Tokenizer);Le(this,"Hooks",_Hooks);this.use(...t)}walkTokens(t,e){var o,a;let s=[];for(const n of t)switch(s=s.concat(e.call(this,n)),n.type){case"table":{const r=n;for(const d of r.header)s=s.concat(this.walkTokens(d.tokens,e));for(const d of r.rows)for(const m of d)s=s.concat(this.walkTokens(m.tokens,e));break}case"list":{const r=n;s=s.concat(this.walkTokens(r.items,e));break}default:{const r=n;(a=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&a[r.type]?this.defaults.extensions.childTokens[r.type].forEach(d=>{const m=r[d].flat(1/0);s=s.concat(this.walkTokens(m,e))}):r.tokens&&(s=s.concat(this.walkTokens(r.tokens,e)))}}return s}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(s=>{const o={...s};if(o.async=this.defaults.async||o.async||!1,s.extensions&&(s.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const n=e.renderers[a.name];n?e.renderers[a.name]=function(...r){let d=a.renderer.apply(this,r);return d===!1&&(d=n.apply(this,r)),d}:e.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const n=e[a.level];n?n.unshift(a.tokenizer):e[a.level]=[a.tokenizer],a.start&&(a.level==="block"?e.startBlock?e.startBlock.push(a.start):e.startBlock=[a.start]:a.level==="inline"&&(e.startInline?e.startInline.push(a.start):e.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(e.childTokens[a.name]=a.childTokens)}),o.extensions=e),s.renderer){const a=this.defaults.renderer||new _Renderer(this.defaults);for(const n in s.renderer){if(!(n in a))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const r=n,d=s.renderer[r],m=a[r];a[r]=(...c)=>{let l=d.apply(a,c);return l===!1&&(l=m.apply(a,c)),l||""}}o.renderer=a}if(s.tokenizer){const a=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const n in s.tokenizer){if(!(n in a))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,d=s.tokenizer[r],m=a[r];a[r]=(...c)=>{let l=d.apply(a,c);return l===!1&&(l=m.apply(a,c)),l}}o.tokenizer=a}if(s.hooks){const a=this.defaults.hooks||new _Hooks;for(const n in s.hooks){if(!(n in a))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const r=n,d=s.hooks[r],m=a[r];_Hooks.passThroughHooks.has(n)?a[r]=c=>{if(this.defaults.async)return Promise.resolve(d.call(a,c)).then(_=>m.call(a,_));const l=d.call(a,c);return m.call(a,l)}:a[r]=(...c)=>{let l=d.apply(a,c);return l===!1&&(l=m.apply(a,c)),l}}o.hooks=a}if(s.walkTokens){const a=this.defaults.walkTokens,n=s.walkTokens;o.walkTokens=function(r){let d=[];return d.push(n.call(this,r)),a&&(d=d.concat(a.call(this,r))),d}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return _Lexer.lex(t,e??this.defaults)}parser(t,e){return _Parser.parse(t,e??this.defaults)}parseMarkdown(t){return(s,o)=>{const a={...o},n={...this.defaults,...a},r=this.onError(!!n.silent,!!n.async);if(this.defaults.async===!0&&a.async===!1)return r(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));n.hooks&&(n.hooks.options=n,n.hooks.block=t);const d=n.hooks?n.hooks.provideLexer():t?_Lexer.lex:_Lexer.lexInline,m=n.hooks?n.hooks.provideParser():t?_Parser.parse:_Parser.parseInline;if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(s):s).then(c=>d(c,n)).then(c=>n.hooks?n.hooks.processAllTokens(c):c).then(c=>n.walkTokens?Promise.all(this.walkTokens(c,n.walkTokens)).then(()=>c):c).then(c=>m(c,n)).then(c=>n.hooks?n.hooks.postprocess(c):c).catch(r);try{n.hooks&&(s=n.hooks.preprocess(s));let c=d(s,n);n.hooks&&(c=n.hooks.processAllTokens(c)),n.walkTokens&&this.walkTokens(c,n.walkTokens);let l=m(c,n);return n.hooks&&(l=n.hooks.postprocess(l)),l}catch(c){return r(c)}}}onError(t,e){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const o="<p>An error occurred:</p><pre>"+escape2(s.message+"",!0)+"</pre>";return e?Promise.resolve(o):o}if(e)return Promise.reject(s);throw s}}},markedInstance=new Marked;function marked(t,e){return markedInstance.parse(t,e)}marked.options=marked.setOptions=function(t){return markedInstance.setOptions(t),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...t){return markedInstance.use(...t),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(t,e){return markedInstance.walkTokens(t,e)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(e){return e});seal||(seal=function(e){return e});apply||(apply=function(e,s,o){return e.apply(s,o)});construct||(construct=function(e,s){return new e(...s)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return apply(t,e,o)}}function unconstruct(t){return function(){for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return construct(t,s)}}function addToSet(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(t,null);let o=e.length;for(;o--;){let a=e[o];if(typeof a=="string"){const n=s(a);n!==a&&(isFrozen(e)||(e[o]=n),a=n)}t[a]=!0}return t}function cleanArray(t){for(let e=0;e<t.length;e++)objectHasOwnProperty(t,e)||(t[e]=null);return t}function clone(t){const e=create(null);for(const[s,o]of entries(t))objectHasOwnProperty(t,s)&&(Array.isArray(o)?e[s]=cleanArray(o):o&&typeof o=="object"&&o.constructor===Object?e[s]=clone(o):e[s]=o);return e}function lookupGetter(t,e){for(;t!==null;){const o=getOwnPropertyDescriptor(t,e);if(o){if(o.get)return unapply(o.get);if(typeof o.value=="function")return unapply(o.value)}t=getPrototypeOf(t)}function s(){return null}return s}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,text:3,progressingInstruction:7,comment:8,document:9},getGlobal=function t(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function t(e,s){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let o=null;const a="data-tt-policy-suffix";s&&s.hasAttribute(a)&&(o=s.getAttribute(a));const n="dompurify"+(o?"#"+o:"");try{return e.createPolicy(n,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+n+" could not be created."),null}},_createHooksMap=function t(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const e=pe=>createDOMPurify(pe);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==NODE_TYPE.document||!t.Element)return e.isSupported=!1,e;let{document:s}=t;const o=s,a=o.currentScript,{DocumentFragment:n,HTMLTemplateElement:r,Node:d,Element:m,NodeFilter:c,NamedNodeMap:l=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:_,DOMParser:k,trustedTypes:S}=t,g=m.prototype,N=lookupGetter(g,"cloneNode"),f=lookupGetter(g,"remove"),E=lookupGetter(g,"nextSibling"),b=lookupGetter(g,"childNodes"),y=lookupGetter(g,"parentNode");if(typeof r=="function"){const pe=s.createElement("template");pe.content&&pe.content.ownerDocument&&(s=pe.content.ownerDocument)}let $,w="";const{implementation:x,createNodeIterator:v,createDocumentFragment:C,getElementsByTagName:T}=s,{importNode:D}=o;let B=_createHooksMap();e.isSupported=typeof entries=="function"&&typeof y=="function"&&x&&x.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:L,TMPLIT_EXPR:U,DATA_ATTR:Y,ARIA_ATTR:se,IS_SCRIPT_OR_DATA:J,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:R}=EXPRESSIONS;let{IS_ALLOWED_URI:P}=EXPRESSIONS,K=null;const X=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let W=null;const Be=addToSet({},[...html,...svg,...mathMl,...xml]);let de=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,ue=null,he=!0,Re=!0,$e=!1,Ne=!0,Ve=!1,Se=!0,Ue=!1,Ie=!1,Je=!1,Te=!1,nt=!1,ut=!1,et=!0,tt=!1;const pt="user-content-";let st=!0,ht=!1,Ge={},Z=null;const z=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let be=null;const ke=addToSet({},["audio","video","img","source","image","track"]);let Pe=null;const me=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),p="http://www.w3.org/1998/Math/MathML",ne="http://www.w3.org/2000/svg",ye="http://www.w3.org/1999/xhtml";let ze=ye,Ke=!1,mt=null;const Xe=addToSet({},[p,ne,ye],stringToString);let We=addToSet({},["mi","mo","mn","ms","mtext"]),ot=addToSet({},["annotation-xml"]);const it=addToSet({},["title","style","font","a","script"]);let te=null;const Ce=["application/xhtml+xml","text/html"],Qe="text/html";let xe=null,rt=null;const yt=s.createElement("form"),ie=function(O){return O instanceof RegExp||O instanceof Function},at=function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(rt&&rt===O)){if((!O||typeof O!="object")&&(O={}),O=clone(O),te=Ce.indexOf(O.PARSER_MEDIA_TYPE)===-1?Qe:O.PARSER_MEDIA_TYPE,xe=te==="application/xhtml+xml"?stringToString:stringToLowerCase,K=objectHasOwnProperty(O,"ALLOWED_TAGS")?addToSet({},O.ALLOWED_TAGS,xe):X,W=objectHasOwnProperty(O,"ALLOWED_ATTR")?addToSet({},O.ALLOWED_ATTR,xe):Be,mt=objectHasOwnProperty(O,"ALLOWED_NAMESPACES")?addToSet({},O.ALLOWED_NAMESPACES,stringToString):Xe,Pe=objectHasOwnProperty(O,"ADD_URI_SAFE_ATTR")?addToSet(clone(me),O.ADD_URI_SAFE_ATTR,xe):me,be=objectHasOwnProperty(O,"ADD_DATA_URI_TAGS")?addToSet(clone(ke),O.ADD_DATA_URI_TAGS,xe):ke,Z=objectHasOwnProperty(O,"FORBID_CONTENTS")?addToSet({},O.FORBID_CONTENTS,xe):z,ve=objectHasOwnProperty(O,"FORBID_TAGS")?addToSet({},O.FORBID_TAGS,xe):clone({}),ue=objectHasOwnProperty(O,"FORBID_ATTR")?addToSet({},O.FORBID_ATTR,xe):clone({}),Ge=objectHasOwnProperty(O,"USE_PROFILES")?O.USE_PROFILES:!1,he=O.ALLOW_ARIA_ATTR!==!1,Re=O.ALLOW_DATA_ATTR!==!1,$e=O.ALLOW_UNKNOWN_PROTOCOLS||!1,Ne=O.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ve=O.SAFE_FOR_TEMPLATES||!1,Se=O.SAFE_FOR_XML!==!1,Ue=O.WHOLE_DOCUMENT||!1,Te=O.RETURN_DOM||!1,nt=O.RETURN_DOM_FRAGMENT||!1,ut=O.RETURN_TRUSTED_TYPE||!1,Je=O.FORCE_BODY||!1,et=O.SANITIZE_DOM!==!1,tt=O.SANITIZE_NAMED_PROPS||!1,st=O.KEEP_CONTENT!==!1,ht=O.IN_PLACE||!1,P=O.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,ze=O.NAMESPACE||ye,We=O.MATHML_TEXT_INTEGRATION_POINTS||We,ot=O.HTML_INTEGRATION_POINTS||ot,de=O.CUSTOM_ELEMENT_HANDLING||{},O.CUSTOM_ELEMENT_HANDLING&&ie(O.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(de.tagNameCheck=O.CUSTOM_ELEMENT_HANDLING.tagNameCheck),O.CUSTOM_ELEMENT_HANDLING&&ie(O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(de.attributeNameCheck=O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),O.CUSTOM_ELEMENT_HANDLING&&typeof O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(de.allowCustomizedBuiltInElements=O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ve&&(Re=!1),nt&&(Te=!0),Ge&&(K=addToSet({},text),W=[],Ge.html===!0&&(addToSet(K,html$1),addToSet(W,html)),Ge.svg===!0&&(addToSet(K,svg$1),addToSet(W,svg),addToSet(W,xml)),Ge.svgFilters===!0&&(addToSet(K,svgFilters),addToSet(W,svg),addToSet(W,xml)),Ge.mathMl===!0&&(addToSet(K,mathMl$1),addToSet(W,mathMl),addToSet(W,xml))),O.ADD_TAGS&&(K===X&&(K=clone(K)),addToSet(K,O.ADD_TAGS,xe)),O.ADD_ATTR&&(W===Be&&(W=clone(W)),addToSet(W,O.ADD_ATTR,xe)),O.ADD_URI_SAFE_ATTR&&addToSet(Pe,O.ADD_URI_SAFE_ATTR,xe),O.FORBID_CONTENTS&&(Z===z&&(Z=clone(Z)),addToSet(Z,O.FORBID_CONTENTS,xe)),st&&(K["#text"]=!0),Ue&&addToSet(K,["html","head","body"]),K.table&&(addToSet(K,["tbody"]),delete ve.tbody),O.TRUSTED_TYPES_POLICY){if(typeof O.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof O.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');$=O.TRUSTED_TYPES_POLICY,w=$.createHTML("")}else $===void 0&&($=_createTrustedTypesPolicy(S,a)),$!==null&&typeof w=="string"&&(w=$.createHTML(""));freeze&&freeze(O),rt=O}},Bt=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),gt=addToSet({},[...mathMl$1,...mathMlDisallowed]),He=function(O){let ee=y(O);(!ee||!ee.tagName)&&(ee={namespaceURI:ze,tagName:"template"});const ae=stringToLowerCase(O.tagName),Ee=stringToLowerCase(ee.tagName);return mt[O.namespaceURI]?O.namespaceURI===ne?ee.namespaceURI===ye?ae==="svg":ee.namespaceURI===p?ae==="svg"&&(Ee==="annotation-xml"||We[Ee]):!!Bt[ae]:O.namespaceURI===p?ee.namespaceURI===ye?ae==="math":ee.namespaceURI===ne?ae==="math"&&ot[Ee]:!!gt[ae]:O.namespaceURI===ye?ee.namespaceURI===ne&&!ot[Ee]||ee.namespaceURI===p&&!We[Ee]?!1:!gt[ae]&&(it[ae]||!Bt[ae]):!!(te==="application/xhtml+xml"&&mt[O.namespaceURI]):!1},Ze=function(O){arrayPush(e.removed,{element:O});try{y(O).removeChild(O)}catch{f(O)}},qe=function(O,ee){try{arrayPush(e.removed,{attribute:ee.getAttributeNode(O),from:ee})}catch{arrayPush(e.removed,{attribute:null,from:ee})}if(ee.removeAttribute(O),O==="is")if(Te||nt)try{Ze(ee)}catch{}else try{ee.setAttribute(O,"")}catch{}},lt=function(O){let ee=null,ae=null;if(Je)O="<remove></remove>"+O;else{const Fe=stringMatch(O,/^[\r\n\t ]+/);ae=Fe&&Fe[0]}te==="application/xhtml+xml"&&ze===ye&&(O='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+O+"</body></html>");const Ee=$?$.createHTML(O):O;if(ze===ye)try{ee=new k().parseFromString(Ee,te)}catch{}if(!ee||!ee.documentElement){ee=x.createDocument(ze,"template",null);try{ee.documentElement.innerHTML=Ke?w:Ee}catch{}}const Ae=ee.body||ee.documentElement;return O&&ae&&Ae.insertBefore(s.createTextNode(ae),Ae.childNodes[0]||null),ze===ye?T.call(ee,Ue?"html":"body")[0]:Ue?ee.documentElement:Ae},ct=function(O){return v.call(O.ownerDocument||O,O,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},ft=function(O){return O instanceof _&&(typeof O.nodeName!="string"||typeof O.textContent!="string"||typeof O.removeChild!="function"||!(O.attributes instanceof l)||typeof O.removeAttribute!="function"||typeof O.setAttribute!="function"||typeof O.namespaceURI!="string"||typeof O.insertBefore!="function"||typeof O.hasChildNodes!="function")},_t=function(O){return typeof d=="function"&&O instanceof d};function q(pe,O,ee){arrayForEach(pe,ae=>{ae.call(e,O,ee,rt)})}const Oe=function(O){let ee=null;if(q(B.beforeSanitizeElements,O,null),ft(O))return Ze(O),!0;const ae=xe(O.nodeName);if(q(B.uponSanitizeElement,O,{tagName:ae,allowedTags:K}),Se&&O.hasChildNodes()&&!_t(O.firstElementChild)&&regExpTest(/<[/\w!]/g,O.innerHTML)&&regExpTest(/<[/\w!]/g,O.textContent)||O.nodeType===NODE_TYPE.progressingInstruction||Se&&O.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,O.data))return Ze(O),!0;if(!K[ae]||ve[ae]){if(!ve[ae]&&Nt(ae)&&(de.tagNameCheck instanceof RegExp&&regExpTest(de.tagNameCheck,ae)||de.tagNameCheck instanceof Function&&de.tagNameCheck(ae)))return!1;if(st&&!Z[ae]){const Ee=y(O)||O.parentNode,Ae=b(O)||O.childNodes;if(Ae&&Ee){const Fe=Ae.length;for(let Ye=Fe-1;Ye>=0;--Ye){const dt=N(Ae[Ye],!0);dt.__removalCount=(O.__removalCount||0)+1,Ee.insertBefore(dt,E(O))}}}return Ze(O),!0}return O instanceof m&&!He(O)||(ae==="noscript"||ae==="noembed"||ae==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,O.innerHTML)?(Ze(O),!0):(Ve&&O.nodeType===NODE_TYPE.text&&(ee=O.textContent,arrayForEach([I,L,U],Ee=>{ee=stringReplace(ee,Ee," ")}),O.textContent!==ee&&(arrayPush(e.removed,{element:O.cloneNode()}),O.textContent=ee)),q(B.afterSanitizeElements,O,null),!1)},De=function(O,ee,ae){if(et&&(ee==="id"||ee==="name")&&(ae in s||ae in yt))return!1;if(!(Re&&!ue[ee]&&regExpTest(Y,ee))){if(!(he&&regExpTest(se,ee))){if(!W[ee]||ue[ee]){if(!(Nt(O)&&(de.tagNameCheck instanceof RegExp&&regExpTest(de.tagNameCheck,O)||de.tagNameCheck instanceof Function&&de.tagNameCheck(O))&&(de.attributeNameCheck instanceof RegExp&&regExpTest(de.attributeNameCheck,ee)||de.attributeNameCheck instanceof Function&&de.attributeNameCheck(ee))||ee==="is"&&de.allowCustomizedBuiltInElements&&(de.tagNameCheck instanceof RegExp&&regExpTest(de.tagNameCheck,ae)||de.tagNameCheck instanceof Function&&de.tagNameCheck(ae))))return!1}else if(!Pe[ee]){if(!regExpTest(P,stringReplace(ae,M,""))){if(!((ee==="src"||ee==="xlink:href"||ee==="href")&&O!=="script"&&stringIndexOf(ae,"data:")===0&&be[O])){if(!($e&&!regExpTest(J,stringReplace(ae,M,"")))){if(ae)return!1}}}}}}return!0},Nt=function(O){return O!=="annotation-xml"&&stringMatch(O,R)},wt=function(O){q(B.beforeSanitizeAttributes,O,null);const{attributes:ee}=O;if(!ee||ft(O))return;const ae={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0};let Ee=ee.length;for(;Ee--;){const Ae=ee[Ee],{name:Fe,namespaceURI:Ye,value:dt}=Ae,Vt=xe(Fe),bt=dt;let je=Fe==="value"?bt:stringTrim(bt);if(ae.attrName=Vt,ae.attrValue=je,ae.keepAttr=!0,ae.forceKeepAttr=void 0,q(B.uponSanitizeAttribute,O,ae),je=ae.attrValue,tt&&(Vt==="id"||Vt==="name")&&(qe(Fe,O),je=pt+je),Se&&regExpTest(/((--!?|])>)|<\/(style|title)/i,je)){qe(Fe,O);continue}if(ae.forceKeepAttr)continue;if(!ae.keepAttr){qe(Fe,O);continue}if(!Ne&&regExpTest(/\/>/i,je)){qe(Fe,O);continue}Ve&&arrayForEach([I,L,U],St=>{je=stringReplace(je,St," ")});const Tt=xe(O.nodeName);if(!De(Tt,Vt,je)){qe(Fe,O);continue}if($&&typeof S=="object"&&typeof S.getAttributeType=="function"&&!Ye)switch(S.getAttributeType(Tt,Vt)){case"TrustedHTML":{je=$.createHTML(je);break}case"TrustedScriptURL":{je=$.createScriptURL(je);break}}if(je!==bt)try{Ye?O.setAttributeNS(Ye,Fe,je):O.setAttribute(Fe,je),ft(O)?Ze(O):arrayPop(e.removed)}catch{qe(Fe,O)}}q(B.afterSanitizeAttributes,O,null)},xt=function pe(O){let ee=null;const ae=ct(O);for(q(B.beforeSanitizeShadowDOM,O,null);ee=ae.nextNode();)q(B.uponSanitizeShadowNode,ee,null),Oe(ee),wt(ee),ee.content instanceof n&&pe(ee.content);q(B.afterSanitizeShadowDOM,O,null)};return e.sanitize=function(pe){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=null,ae=null,Ee=null,Ae=null;if(Ke=!pe,Ke&&(pe="<!-->"),typeof pe!="string"&&!_t(pe))if(typeof pe.toString=="function"){if(pe=pe.toString(),typeof pe!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!e.isSupported)return pe;if(Ie||at(O),e.removed=[],typeof pe=="string"&&(ht=!1),ht){if(pe.nodeName){const dt=xe(pe.nodeName);if(!K[dt]||ve[dt])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(pe instanceof d)ee=lt("<!---->"),ae=ee.ownerDocument.importNode(pe,!0),ae.nodeType===NODE_TYPE.element&&ae.nodeName==="BODY"||ae.nodeName==="HTML"?ee=ae:ee.appendChild(ae);else{if(!Te&&!Ve&&!Ue&&pe.indexOf("<")===-1)return $&&ut?$.createHTML(pe):pe;if(ee=lt(pe),!ee)return Te?null:ut?w:""}ee&&Je&&Ze(ee.firstChild);const Fe=ct(ht?pe:ee);for(;Ee=Fe.nextNode();)Oe(Ee),wt(Ee),Ee.content instanceof n&&xt(Ee.content);if(ht)return pe;if(Te){if(nt)for(Ae=C.call(ee.ownerDocument);ee.firstChild;)Ae.appendChild(ee.firstChild);else Ae=ee;return(W.shadowroot||W.shadowrootmode)&&(Ae=D.call(o,Ae,!0)),Ae}let Ye=Ue?ee.outerHTML:ee.innerHTML;return Ue&&K["!doctype"]&&ee.ownerDocument&&ee.ownerDocument.doctype&&ee.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,ee.ownerDocument.doctype.name)&&(Ye="<!DOCTYPE "+ee.ownerDocument.doctype.name+`>
`+Ye),Ve&&arrayForEach([I,L,U],dt=>{Ye=stringReplace(Ye,dt," ")}),$&&ut?$.createHTML(Ye):Ye},e.setConfig=function(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};at(pe),Ie=!0},e.clearConfig=function(){rt=null,Ie=!1},e.isValidAttribute=function(pe,O,ee){rt||at({});const ae=xe(pe),Ee=xe(O);return De(ae,Ee,ee)},e.addHook=function(pe,O){typeof O=="function"&&arrayPush(B[pe],O)},e.removeHook=function(pe,O){if(O!==void 0){const ee=arrayLastIndexOf(B[pe],O);return ee===-1?void 0:arraySplice(B[pe],ee,1)[0]}return arrayPop(B[pe])},e.removeHooks=function(pe){B[pe]=[]},e.removeAllHooks=function(){B=_createHooksMap()},e}var purify=createDOMPurify();const _hoisted_1$9=["innerHTML"],_sfc_main$9={__name:"MarkdownRenderer",props:{content:{type:String,required:!0}},setup(t){const e=t;marked.setOptions({breaks:!0,gfm:!0,sanitize:!1,pedantic:!1,smartLists:!0,smartypants:!1});const s=new marked.Renderer;s.link=function(n,r,d){const m=r?` title="${r}"`:"";return`<a href="${n}" target="_blank" rel="noopener noreferrer"${m}>${d}</a>`},s.code=function(n,r){return`<pre class="code-block"><code class="language-${r&&r.match(/^[a-zA-Z0-9_+-]*$/)?r:""}">${n}</code></pre>`},s.codespan=function(n){return`<code class="inline-code">${n}</code>`};const o=computed(()=>{if(!e.content)return!1;const n=typeof e.content=="string"?e.content:String(e.content);return n.includes("智能复盘")||n.includes("请帮我进行全面的智能投资复盘分析")}),a=computed(()=>{if(!e.content)return"";const n=typeof e.content=="string"?e.content:String(e.content);try{const r=marked(n,{renderer:s});return purify.sanitize(r,{ALLOWED_TAGS:["p","br","strong","em","u","del","s","strike","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","pre","code","a","table","thead","tbody","tr","th","td","div","span","input","hr"],ALLOWED_ATTR:["href","target","rel","title","class","type","checked","disabled"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i})}catch(r){return console.error("Markdown parsing error:",r),n}});return(n,r)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["markdown-content",{"compact-recap":o.value}]),innerHTML:a.value},null,10,_hoisted_1$9))}},MarkdownRenderer=_export_sfc(_sfc_main$9,[["__scopeId","data-v-e70464bd"]]),formatProfit=t=>t===0?"¥0.00":`${t>0?"+":""}¥${Math.abs(t).toFixed(2)}`,formatPercent=t=>t===0?"0.00%":`${t>0?"+":""}${t.toFixed(2)}%`,formatCurrency=t=>{const e=parseFloat(t);return e>=1e4?(e/1e4).toFixed(2)+"万":e.toFixed(2)},_hoisted_1$8={class:"header-content"},_hoisted_2$7={class:"greeting-section"},_hoisted_3$7={class:"greeting-icon"},_hoisted_4$6={class:"greeting-text"},_hoisted_5$6={class:"greeting-title"},_hoisted_6$6={class:"greeting-subtitle"},_hoisted_7$5={key:0,class:"performance-overview"},_hoisted_8$4={class:"performance-item"},_hoisted_9$4={class:"performance-item"},_hoisted_10$4={class:"performance-item"},_sfc_main$8={__name:"WelcomePerformanceHeader",props:{performanceData:{type:Object,default:()=>({todayProfit:0,totalProfit:0,totalProfitRate:0,portfolioValue:0})},userName:{type:String,default:""}},setup(t){const e=t,s=computed(()=>typeof window>"u"?!1:window.innerWidth<=768),o=computed(()=>e.performanceData.totalProfit!==0||e.performanceData.portfolioValue>0),a=computed(()=>{const{totalProfit:m}=e.performanceData,c=new Date().getHours();let l="早上好";c>=12&&c<18?l="下午好":c>=18&&(l="晚上好");const _=e.userName?`${l}，${e.userName}`:`${l}`;return o.value?m>1e3?{icon:"🎉",title:`${_}，投资达人！`,subtitle:"您的投资表现非常出色，继续保持这个节奏！"}:m>0?{icon:"😊",title:`${_}，稳健投资者！`,subtitle:"投资收益稳步增长，您的策略很不错！"}:m>-500?{icon:"💪",title:`${_}，坚持就是胜利！`,subtitle:"市场有起伏很正常，让我们一起寻找机会！"}:{icon:"🌟",title:`${_}，机会总在等待！`,subtitle:"每一次调整都是新的开始，让我们重新出发！"}:{icon:"🌟",title:_,subtitle:"开始您的智能投资之旅，让AI为您分析市场机会"}}),n=computed(()=>{if(!o.value)return"performance-welcome";const{totalProfit:m}=e.performanceData;return m>0?"performance-positive":m<-500?"performance-negative":"performance-neutral"}),r=computed(()=>{const m=e.performanceData.todayProfit;return m>0?"profit":m<0?"loss":"neutral"}),d=computed(()=>{const m=e.performanceData.totalProfit;return m>0?"profit":m<0?"loss":"neutral"});return(m,c)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["welcome-performance-header",[n.value,{mobile:s.value}]])},[createBaseVNode("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$7,toDisplayString(a.value.icon),1),createBaseVNode("div",_hoisted_4$6,[createBaseVNode("h2",_hoisted_5$6,toDisplayString(a.value.title),1),createBaseVNode("p",_hoisted_6$6,toDisplayString(a.value.subtitle),1)])]),o.value?(openBlock(),createElementBlock("div",_hoisted_7$5,[createBaseVNode("div",_hoisted_8$4,[c[0]||(c[0]=createBaseVNode("div",{class:"performance-label"},"今日收益",-1)),createBaseVNode("div",{class:normalizeClass(["performance-value",r.value])},toDisplayString(unref(formatProfit)(t.performanceData.todayProfit)),3)]),createBaseVNode("div",_hoisted_9$4,[c[1]||(c[1]=createBaseVNode("div",{class:"performance-label"},"总收益",-1)),createBaseVNode("div",{class:normalizeClass(["performance-value",d.value])},toDisplayString(unref(formatProfit)(t.performanceData.totalProfit)),3)]),createBaseVNode("div",_hoisted_10$4,[c[2]||(c[2]=createBaseVNode("div",{class:"performance-label"},"收益率",-1)),createBaseVNode("div",{class:normalizeClass(["performance-value",d.value])},toDisplayString(unref(formatPercent)(t.performanceData.totalProfitRate)),3)])])):createCommentVNode("",!0)]),c[3]||(c[3]=createBaseVNode("div",{class:"header-decoration"},[createBaseVNode("div",{class:"decoration-circle circle-1"}),createBaseVNode("div",{class:"decoration-circle circle-2"})],-1))],2))}},WelcomePerformanceHeader=_export_sfc(_sfc_main$8,[["__scopeId","data-v-aece3ea4"]]),_hoisted_1$7={class:"welcome-guest-header"},_hoisted_2$6={class:"header-content"},_hoisted_3$6={class:"greeting-section"},_hoisted_4$5={class:"greeting-text"},_hoisted_5$5={class:"greeting-title"},_hoisted_6$5={class:"greeting-subtitle"},_sfc_main$7={__name:"WelcomeGuestHeader",setup(t){const e=()=>navigator.userAgent.toLowerCase().includes("micromessenger"),s=()=>{const a=new Date().getHours();return`${a<6?"夜深了":a<9?"早上好":a<12?"上午好":a<14?"中午好":a<18?"下午好":a<22?"晚上好":"夜深了"}，我是智投小助`},o=()=>{const a=new Date().getHours();return a<6?"深夜时分也在关注投资，很专业！":a<9?"开始新的投资之旅吧":a<12?"今天的市场如何？一起来分析":a<14?"午间休息，回顾一下投资情况":a<18?"下午时光，继续投资分析":a<22?"晚间总结时间，看看今日收获":"夜深了，适度休息也很重要哦"};return onMounted(()=>{e()&&(document.body.classList.add("wechat-browser"),nextTick(()=>{const n=document.querySelector(".welcome-section");n&&n.style.setProperty("margin-top","20px","important")}))}),(a,n)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$6,[n[0]||(n[0]=createBaseVNode("div",{class:"greeting-icon"},"🌟",-1)),createBaseVNode("div",_hoisted_4$5,[createBaseVNode("h2",_hoisted_5$5,toDisplayString(s()),1),createBaseVNode("p",_hoisted_6$5,toDisplayString(o()),1)])])]),n[1]||(n[1]=createBaseVNode("div",{class:"header-decoration"},[createBaseVNode("div",{class:"decoration-circle circle-1"}),createBaseVNode("div",{class:"decoration-circle circle-2"})],-1))]))}},WelcomeGuestHeader=_export_sfc(_sfc_main$7,[["__scopeId","data-v-d6e0d34d"]]),_hoisted_1$6={class:"modern-navbar"},_hoisted_2$5={class:"navbar-right"},_hoisted_3$5={class:"modern-user"},_sfc_main$6={__name:"TopNavbar",emits:["show-login","show-profile","show-preferences","show-records","show-mobile-menu"],setup(t,{emit:e}){const s=e,o=useUserStore(),a=useRouter(),n=m=>{s("show-login",m)},r=async m=>{switch(console.log("Menu command clicked:",m),m){case"profile":s("show-profile");break;case"settings":s("show-preferences");break;case"records":s("show-records");break;case"logout":try{await ElMessageBox.confirm("确定要退出登录吗？退出后将清除所有本地数据。","退出登录",{confirmButtonText:"确定退出",cancelButtonText:"取消",type:"warning",center:!0}),o.logout(),ElMessage.success("已成功退出登录"),await a.push("/"),setTimeout(()=>{window.location.reload()},500)}catch{console.log("用户取消退出登录")}break}},d=()=>{s("show-mobile-menu")};return(m,c)=>{var N,f,E;const l=resolveComponent("el-icon"),_=resolveComponent("el-dropdown-item"),k=resolveComponent("el-dropdown-menu"),S=resolveComponent("el-dropdown"),g=resolveComponent("el-button");return openBlock(),createElementBlock("header",_hoisted_1$6,[c[8]||(c[8]=createBaseVNode("div",{class:"navbar-left"},[createBaseVNode("img",{src:_imports_0,class:"modern-logo",alt:"InvestAI Logo"}),createBaseVNode("span",{class:"app-title"},"智投小助")],-1)),createBaseVNode("div",_hoisted_2$5,[unref(o).isLoggedIn?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(S,{onCommand:r,class:"pc-user-menu"},{dropdown:withCtx(()=>[createVNode(k,null,{default:withCtx(()=>[createVNode(_,{command:"profile"},{default:withCtx(()=>c[2]||(c[2]=[createTextVNode("个人中心")])),_:1,__:[2]}),createVNode(_,{command:"settings"},{default:withCtx(()=>c[3]||(c[3]=[createTextVNode("偏好设置")])),_:1,__:[3]}),createVNode(_,{command:"records"},{default:withCtx(()=>c[4]||(c[4]=[createTextVNode("记录中心")])),_:1,__:[4]}),createVNode(_,{divided:"",command:"logout"},{default:withCtx(()=>c[5]||(c[5]=[createTextVNode("退出登录")])),_:1,__:[5]})]),_:1})]),default:withCtx(()=>[createBaseVNode("span",_hoisted_3$5,[createTextVNode(toDisplayString(unref(o).userInfo.nickname)+" ",1),createVNode(l,null,{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1})])]),_:1}),createBaseVNode("div",{class:"mobile-user-avatar",onClick:d},toDisplayString(((E=(f=(N=unref(o).userInfo)==null?void 0:N.nickname)==null?void 0:f.charAt(0))==null?void 0:E.toUpperCase())||"U"),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(g,{class:"modern-btn",onClick:c[0]||(c[0]=b=>n(!1))},{default:withCtx(()=>c[6]||(c[6]=[createTextVNode("登录")])),_:1,__:[6]}),createVNode(g,{class:"modern-btn",onClick:c[1]||(c[1]=b=>n(!0))},{default:withCtx(()=>c[7]||(c[7]=[createTextVNode("注册")])),_:1,__:[7]})],64))])])}}},TopNavbar=_export_sfc(_sfc_main$6,[["__scopeId","data-v-72d51c25"]]),_sfc_main$5={name:"AIInputCard",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"如：分析比亚迪近期走势及投资价值，考虑新能源政策影响..."},showHistoryButton:{type:Boolean,default:!1},isChatMode:{type:Boolean,default:!1},isMobileView:{type:Boolean,default:!1},isRecording:{type:Boolean,default:!1},recordingDuration:{type:Number,default:0},isGenerating:{type:Boolean,default:!1},showChatShortcuts:{type:Boolean,default:!1},isLoggedIn:{type:Boolean,default:!1},showChatHistory:{type:Boolean,default:!1}},emits:["update:modelValue","send-message","toggle-chat-history","voice-click","stop-generation","toggle-chat-shortcuts"],computed:{inputMessage:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}},buttonRowClass(){const t=[];return this.showHistoryButton&&(this.isChatMode?t.push("with-left-btn"):t.push("with-history")),t}},data(){return{sendButtonPressed:!1,resetButtonStateTimer:null}},methods:{handleSendMessage(){this.$emit("send-message")},handleSendButtonMouseDown(t){this.isMobileView||(t.preventDefault(),this.sendButtonPressed=!0,this.executeSendAction(),this.scheduleButtonStateReset())},handleSendButtonTouchStart(t){this.isMobileView&&(t.preventDefault(),t.stopPropagation(),this.sendButtonPressed=!0,this.executeSendAction(),this.scheduleButtonStateReset())},handleSendButtonClick(t){if(this.sendButtonPressed){this.sendButtonPressed=!1,t.preventDefault();return}this.executeSendAction()},executeSendAction(){this.isGenerating?this.$emit("stop-generation"):this.inputMessage.trim()&&this.handleSendMessage()},scheduleButtonStateReset(){this.resetButtonStateTimer&&clearTimeout(this.resetButtonStateTimer),this.resetButtonStateTimer=setTimeout(()=>{this.sendButtonPressed=!1,this.resetButtonStateTimer=null},200)}},beforeUnmount(){this.resetButtonStateTimer&&clearTimeout(this.resetButtonStateTimer)}},_hoisted_1$5={class:"ai-card"},_hoisted_2$4={class:"ai-input-row"},_hoisted_3$4={key:0,class:"left-buttons"},_hoisted_4$4={class:"right-buttons"},_hoisted_5$4={class:"voice-btn-container"},_hoisted_6$4={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},_hoisted_7$4=["stroke","fill"],_hoisted_8$3=["stroke"],_hoisted_9$3=["stroke"],_hoisted_10$3=["stroke"],_hoisted_11$3={key:0,class:"recording-timer"},_hoisted_12$3={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},_hoisted_13$3={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"};function _sfc_render(t,e,s,o,a,n){const r=resolveComponent("el-input"),d=resolveComponent("el-button");return openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$4,[createVNode(r,{modelValue:n.inputMessage,"onUpdate:modelValue":e[0]||(e[0]=m=>n.inputMessage=m),class:"ai-input",type:"textarea",autosize:{minRows:2,maxRows:6},placeholder:s.placeholder,onKeyup:withKeys(withModifiers(n.handleSendMessage,["ctrl"]),["enter"]),clearable:"",maxlength:"500","show-word-limit":""},null,8,["modelValue","placeholder","onKeyup"])]),createBaseVNode("div",{class:normalizeClass(["ai-buttons-row",n.buttonRowClass])},[s.showHistoryButton?(openBlock(),createElementBlock("div",_hoisted_3$4,[createVNode(d,{class:"ai-func-btn chat-history-btn",circle:"",onClick:e[1]||(e[1]=m=>t.$emit("toggle-chat-history")),title:"展开聊天记录"},{default:withCtx(()=>e[4]||(e[4]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M8 9h8M8 13h6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1,__:[4]})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$4,[createBaseVNode("div",_hoisted_5$4,[createVNode(d,{class:normalizeClass(["ai-func-btn voice-btn",{recording:s.isRecording}]),circle:"",onClick:e[2]||(e[2]=m=>t.$emit("voice-click")),title:s.isRecording?`录音中 ${s.recordingDuration}s`:"点击开始语音输入"},{default:withCtx(()=>[(openBlock(),createElementBlock("svg",_hoisted_6$4,[createBaseVNode("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z",stroke:s.isRecording?"#ff4757":"#888","stroke-width":"2",fill:s.isRecording?"#ff4757":"none"},null,8,_hoisted_7$4),createBaseVNode("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",stroke:s.isRecording?"#ff4757":"#888","stroke-width":"2",fill:"none"},null,8,_hoisted_8$3),createBaseVNode("line",{x1:"12",y1:"19",x2:"12",y2:"23",stroke:s.isRecording?"#ff4757":"#888","stroke-width":"2"},null,8,_hoisted_9$3),createBaseVNode("line",{x1:"8",y1:"23",x2:"16",y2:"23",stroke:s.isRecording?"#ff4757":"#888","stroke-width":"2"},null,8,_hoisted_10$3)]))]),_:1},8,["class","title"]),s.isRecording?(openBlock(),createElementBlock("div",_hoisted_11$3,toDisplayString(s.recordingDuration)+"s",1)):createCommentVNode("",!0)]),!s.showChatShortcuts&&s.isLoggedIn&&s.isChatMode?(openBlock(),createBlock(d,{key:0,class:"ai-func-btn shortcuts-toggle-btn",circle:"",onClick:e[3]||(e[3]=m=>t.$emit("toggle-chat-shortcuts"))},{default:withCtx(()=>e[5]||(e[5]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M12 5v14m-7-7h14",stroke:"#888","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1,__:[5]})):createCommentVNode("",!0),createVNode(d,{class:normalizeClass(["ai-send-btn",{generating:s.isGenerating}]),type:s.isGenerating?"danger":"primary",circle:"",onMousedown:n.handleSendButtonMouseDown,onTouchstart:n.handleSendButtonTouchStart,onClick:n.handleSendButtonClick,disabled:!s.isGenerating&&!n.inputMessage.trim(),title:s.isGenerating?"停止生成":"发送消息"},{default:withCtx(()=>[s.isGenerating?(openBlock(),createElementBlock("svg",_hoisted_12$3,e[6]||(e[6]=[createBaseVNode("rect",{x:"6",y:"6",width:"12",height:"12",fill:"currentColor",rx:"2"},null,-1)]))):(openBlock(),createElementBlock("svg",_hoisted_13$3,e[7]||(e[7]=[createBaseVNode("path",{d:"M22 2L11 13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),createBaseVNode("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),_:1},8,["class","type","onMousedown","onTouchstart","onClick","disabled","title"])])],2)])}const AIInputCard=_export_sfc(_sfc_main$5,[["render",_sfc_render],["__scopeId","data-v-5410095d"]]),_hoisted_1$4={class:"quick-examples"},_hoisted_2$3={class:"examples-content"},_hoisted_3$3=["onClick"],_hoisted_4$3={class:"examples-control"},_hoisted_5$3={class:"control-container"},_hoisted_6$3={class:"control-group"},_hoisted_7$3={class:"examples-indicator"},_sfc_main$4={__name:"QuickExamples",emits:["example-click"],setup(t,{emit:e}){const s=e,o=ref(0),a=[["我有10万元闲钱，月收入8千，适合什么投资组合？","帮我制定一个3年期的投资计划，目标年化收益12%","对比分析股票基金和指数基金，哪个更适合新手？","推荐几只适合定投的基金，风险等级中等偏低"],["分析宁德时代和比亚迪的竞争优势，哪个更值得长期持有？","白酒板块中茅台、五粮液、泸州老窖如何选择？","银行股现在估值如何？招商银行vs平安银行投资价值对比","医药板块恒瑞医药、药明康德近期表现分析"],["美联储加息对A股影响如何？现在应该加仓还是减仓？","如何利用技术指标判断大盘3000点支撑是否有效？","我持有的股票跌了20%，是止损还是补仓？具体策略","制定一个动态仓位管理策略，根据市场情况调整"],["巴菲特价值投资法则在A股是否适用？具体如何操作？","如何用DCF模型给贵州茅台估值？当前价格是否合理？","筛选ROE连续5年超15%的优质股票，并分析投资逻辑","长期持有腾讯、阿里巴巴还是短线操作更赚钱？"],["港股通投资腾讯、美团的优势和风险分析","对比A股、港股、美股的苹果公司，哪个更有投资价值？","人民币贬值背景下，如何配置海外资产对冲风险？","REITs基金收益率4-6%，与银行理财产品如何选择？"]],n=computed(()=>a[o.value]),r=m=>{s("example-click",m)},d=()=>{o.value=(o.value+1)%a.length,ElMessage.success(`已切换到第${o.value+1}组问题`)};return(m,c)=>{const l=resolveComponent("el-button");return openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,_=>(openBlock(),createElementBlock("span",{key:_,class:"example-tag",onClick:k=>r(_)},toDisplayString(_),9,_hoisted_3$3))),128))]),createBaseVNode("div",_hoisted_4$3,[createBaseVNode("div",_hoisted_5$3,[c[1]||(c[1]=createBaseVNode("span",{class:"examples-label"},"换一批问题",-1)),createBaseVNode("div",_hoisted_6$3,[createBaseVNode("span",_hoisted_7$3,toDisplayString(o.value+1)+"/"+toDisplayString(a.length),1),createVNode(l,{class:"refresh-examples-btn",size:"small",onClick:d,title:"点击切换到下一组问题"},{default:withCtx(()=>c[0]||(c[0]=[createBaseVNode("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",stroke:"currentColor","stroke-width":"2",fill:"none"}),createBaseVNode("path",{d:"M21 3v5h-5",stroke:"currentColor","stroke-width":"2",fill:"none"}),createBaseVNode("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",stroke:"currentColor","stroke-width":"2",fill:"none"}),createBaseVNode("path",{d:"M3 21v-5h5",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1)])),_:1,__:[0]})])])])])}}},QuickExamples=_export_sfc(_sfc_main$4,[["__scopeId","data-v-f42a2afb"]]),_hoisted_1$3={key:0,class:"shortcuts-bar"},_hoisted_2$2={key:0,class:"ai-suggestions"},_hoisted_3$2={class:"suggestion-row"},_hoisted_4$2={class:"btn-icon"},_hoisted_5$2={key:1,style:{display:"none"},class:"mobile-placeholder"},_hoisted_6$2={key:2,class:"chat-shortcuts pc-shortcuts"},_hoisted_7$2={class:"shortcuts-grid",style:{display:"grid !important",gridTemplateColumns:"repeat(5, 1fr) !important",gap:"6px !important",width:"100% !important",maxWidth:"none !important",margin:"0 !important",padding:"0 !important",boxSizing:"border-box !important"}},_hoisted_8$2={class:"btn-icon",style:{fontSize:"14px",lineHeight:"1"}},_hoisted_9$2={class:"btn-text",style:{fontSize:"10px",lineHeight:"1.2",fontWeight:"500"}},_hoisted_10$2={class:"shortcuts-grid-mobile"},_hoisted_11$2=["onClick"],_hoisted_12$2={class:"shortcut-icon"},_hoisted_13$2={class:"shortcut-text"},_sfc_main$3={__name:"ShortcutsBar",props:{mode:{type:String,default:"initial",validator:t=>["initial","chat"].includes(t)},showShortcuts:{type:Boolean,default:!0},showChatShortcuts:{type:Boolean,default:!1},isMobileView:{type:Boolean,default:!1},isLoggedIn:{type:Boolean,default:!1}},emits:["shortcut-click","customize-dialog-open","toggle-chat-shortcuts","shortcuts-updated"],setup(t,{expose:e,emit:s}){const o=t,a=s,n=ref([{id:"smart_review",icon:"📊",title:"智能复盘",shortTitle:"复盘",description:"智能分析市场表现和投资策略",action:"smart_review",isDefault:!0,isActive:!0},{id:"watchlist",icon:"⭐",title:"自选股",shortTitle:"自选",description:"查看和管理我的自选股票",action:"watchlist",isDefault:!0,isActive:!0},{id:"smart_recommendation",icon:"📈",title:"智能荐股",shortTitle:"荐股",description:"基于AI算法推荐优质股票",action:"smart_recommendation",isDefault:!0,isActive:!0},{id:"news_update",icon:"📄",title:"资讯推送",shortTitle:"资讯",description:"获取最新市场资讯和重要公告",action:"news_update",isDefault:!0,isActive:!0},{id:"asset_analysis",icon:"💼",title:"我的资产",shortTitle:"资产",description:"查看投资组合和账户分析",action:"asset_analysis",isDefault:!0,isActive:!0}]),r=ref([]);class d{static getDefaultStates(){const g=localStorage.getItem("defaultShortcutStates");return g?JSON.parse(g):{}}static getCustomShortcuts(){const g=localStorage.getItem("customShortcuts");return g?JSON.parse(g):[]}static loadActiveShortcuts(g){const N=[],f=this.getDefaultStates(),E=g.filter($=>(f.hasOwnProperty($.id)&&($.isActive=f[$.id]),$.isActive));N.push(...E);const y=this.getCustomShortcuts().filter($=>$.isActive).map($=>({...$,action:"custom"}));return N.push(...y),N}}const m=()=>{console.log("🔄 ShortcutsBar - 初始化快捷操作"),r.value=d.loadActiveShortcuts(n.value),console.log("✅ ShortcutsBar - 快捷操作初始化完成，总数:",r.value.length)},c=S=>{console.log("🚀 ShortcutsBar - 点击快捷操作:",S),a("shortcut-click",S)},l=()=>{a("customize-dialog-open")},_=()=>{a("toggle-chat-shortcuts")},k=()=>{console.log("🔄 ShortcutsBar - 处理快捷操作更新事件"),r.value=[],nextTick(()=>{m(),a("shortcuts-updated"),console.log("✅ ShortcutsBar - 快捷操作更新完成")})};return watch(()=>o.isLoggedIn,m,{immediate:!1}),watch(()=>o.showChatShortcuts,(S,g)=>{S&&o.isMobileView&&!g&&(console.log("📱 ShortcutsBar - 移动端快捷操作弹窗打开，重新初始化数据"),m())},{immediate:!1}),onMounted(()=>{console.log("🔧 ShortcutsBar - 组件已挂载",{mode:o.mode,showShortcuts:o.showShortcuts,isMobileView:o.isMobileView,isLoggedIn:o.isLoggedIn}),m()}),e({initializeShortcuts:m,handleShortcutsUpdated:k}),(S,g)=>{const N=resolveComponent("el-button");return t.showShortcuts?(openBlock(),createElementBlock("div",_hoisted_1$3,[t.mode==="initial"&&!t.isMobileView?(openBlock(),createElementBlock("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,f=>(openBlock(),createBlock(N,{key:f.id,class:"ai-suggestion-btn",onClick:E=>c(f)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_4$2,toDisplayString(f.icon),1),createTextVNode(" "+toDisplayString(f.title),1)]),_:2},1032,["onClick"]))),128)),createBaseVNode("button",{class:"customize-btn-inline",onClick:l,title:"自定义快捷操作"},g[1]||(g[1]=[createBaseVNode("span",{class:"customize-icon"},"⚙️",-1)]))])])):createCommentVNode("",!0),t.mode==="initial"&&t.isMobileView?(openBlock(),createElementBlock("div",_hoisted_5$2)):createCommentVNode("",!0),t.mode==="chat"&&t.showChatShortcuts&&!t.isMobileView?(openBlock(),createElementBlock("div",_hoisted_6$2,[createBaseVNode("div",_hoisted_7$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,f=>(openBlock(),createBlock(N,{key:f.id,class:"chat-shortcut-btn",onClick:E=>c(f),style:{width:"100%",height:"40px",minWidth:"0",maxWidth:"none",margin:"0",padding:"4px 2px",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1px",fontSize:"12px"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_8$2,toDisplayString(f.icon),1),createBaseVNode("span",_hoisted_9$2,toDisplayString(f.shortTitle||f.title),1)]),_:2},1032,["onClick"]))),128)),createVNode(N,{class:"chat-shortcut-btn customize-btn-chat",onClick:l,style:{width:"100%",height:"40px",minWidth:"0",maxWidth:"none",margin:"0",padding:"6px 8px",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1px",fontSize:"12px"}},{default:withCtx(()=>g[2]||(g[2]=[createBaseVNode("span",{class:"btn-icon",style:{fontSize:"14px",lineHeight:"1"}},"⚙️",-1),createBaseVNode("span",{class:"btn-text",style:{fontSize:"10px",lineHeight:"1.2",fontWeight:"500"}},"设置",-1)])),_:1,__:[2]}),createVNode(N,{class:"chat-shortcut-btn close-btn",onClick:_,style:{width:"100%",height:"40px",minWidth:"0",maxWidth:"none",margin:"0",padding:"6px 8px",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1px",fontSize:"12px"}},{default:withCtx(()=>g[3]||(g[3]=[createBaseVNode("span",{class:"btn-icon",style:{fontSize:"14px",lineHeight:"1"}},"✕",-1),createBaseVNode("span",{class:"btn-text",style:{fontSize:"10px",lineHeight:"1.2",fontWeight:"500"}},"收起",-1)])),_:1,__:[3]})])])):createCommentVNode("",!0),t.showChatShortcuts&&t.isMobileView?(openBlock(),createElementBlock("div",{key:3,class:"mobile-shortcuts-overlay",onClick:_},[createBaseVNode("div",{class:"mobile-shortcuts-container",onClick:g[0]||(g[0]=withModifiers(()=>{},["stop"]))},[g[7]||(g[7]=createBaseVNode("div",{class:"drag-indicator"},null,-1)),createBaseVNode("div",{class:"shortcuts-header"},[g[5]||(g[5]=createBaseVNode("h3",{class:"shortcuts-title"},"快捷操作",-1)),createBaseVNode("button",{class:"close-btn-header",onClick:_},g[4]||(g[4]=[createBaseVNode("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)]))]),createBaseVNode("div",_hoisted_10$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,f=>(openBlock(),createElementBlock("div",{key:f.id,class:"shortcut-item-mobile",onClick:E=>c(f)},[createBaseVNode("div",_hoisted_12$2,toDisplayString(f.icon),1),createBaseVNode("div",_hoisted_13$2,toDisplayString(f.shortTitle||f.title),1)],8,_hoisted_11$2))),128)),createBaseVNode("div",{class:"shortcut-item-mobile add-shortcut",onClick:l},g[6]||(g[6]=[createBaseVNode("div",{class:"shortcut-icon add-icon"},"+",-1),createBaseVNode("div",{class:"shortcut-text"},"自定义",-1)]))])])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}}},ShortcutsBar=_export_sfc(_sfc_main$3,[["__scopeId","data-v-bd01f30c"]]),_hoisted_1$2={class:"reminder-dialog-content"},_hoisted_2$1={class:"stock-info-section"},_hoisted_3$1={class:"stock-info-display"},_hoisted_4$1={class:"stock-name"},_hoisted_5$1={class:"stock-code"},_hoisted_6$1={class:"quant-analysis-summary"},_hoisted_7$1={class:"analysis-summary-grid"},_hoisted_8$1={class:"summary-item"},_hoisted_9$1={class:"summary-value score"},_hoisted_10$1={class:"summary-item"},_hoisted_11$1={class:"summary-value signal"},_hoisted_12$1={class:"summary-item"},_hoisted_13$1={class:"summary-value signal-score"},_hoisted_14$1={class:"summary-item"},_hoisted_15$1={class:"summary-value rating"},_hoisted_16$1={class:"reminder-form-section"},_hoisted_17$1={class:"batch-reminder-tip"},_hoisted_18$1={class:"quick-select-area"},_hoisted_19$1={class:"quick-select-header"},_hoisted_20$1={class:"quick-select-actions"},_hoisted_21$1={class:"conditions-grid"},_hoisted_22$1={class:"condition-category"},_hoisted_23$1={class:"category-items"},_hoisted_24$1={class:"condition-category"},_hoisted_25$1={class:"category-items"},_hoisted_26$1={class:"condition-category"},_hoisted_27$1={class:"category-items"},_hoisted_28$1={class:"condition-category"},_hoisted_29$1={class:"category-items"},_hoisted_30$1={key:0,class:"selected-summary"},_hoisted_31$1={class:"summary-header"},_hoisted_32$1={class:"summary-title"},_hoisted_33$1={class:"summary-tags"},_hoisted_34$1={key:0,class:"active-reminders-section"},_hoisted_35$1={class:"reminders-list"},_hoisted_36$1={class:"reminder-info"},_hoisted_37$1={class:"reminder-stock"},_hoisted_38$1={class:"reminder-desc"},_hoisted_39$1={class:"reminder-time"},_hoisted_40$1={class:"dialog-footer"},_sfc_main$2={__name:"QuantReminderDialog",props:{visible:{type:Boolean,default:!1},message:{type:Object,default:null},activeReminders:{type:Array,default:()=>[]}},emits:["update:visible","confirm","cancel","remove-reminder"],setup(t,{emit:e}){const s=t,o=e,a=ref({type:"overall_score",condition:"score_above",value:"",stockCode:"",stockName:""}),n=ref({overallScore:"7.8",signalStrength:"强",buySignalScore:"85",rating:"A级",technicalIndicators:{macd:{dif:1.25,dea:.89,status:"金叉"},rsi:{value:65.2,status:"强势区间"},boll:{status:"突破上轨"},kdj:{k:78,d:65,j:85,status:"多头排列"}},riskMetrics:{volatility:28.5,maxDrawdown:15.2,sharpeRatio:1.35,var95:2.1}}),r=ref({overall_score:{conditions:[],values:{score_above:"",score_below:"",score_change:""}},buy_signal:{conditions:[],values:{signal_above:"",signal_below:""}},technical:{conditions:[]},rating_change:{conditions:[],values:{rating_reach:""}},risk_alert:{conditions:[]}}),d=computed({get:()=>s.visible,set:x=>o("update:visible",x)}),m=computed(()=>{if(typeof window<"u"){const x=window.innerWidth;return x<480?"95%":x<768?"90%":x<1024?"500px":"600px"}return"500px"}),c=()=>{o("update:visible",!1),_(),o("cancel")},l=()=>{const x=k();if(x.length===0){ElMessage.error("请至少选择一个提醒条件");return}if(x.filter(T=>!!(T.needsValue&&(!T.value||T.value===""))).length>0){ElMessage.error("请填写所有需要数值的提醒条件");return}const C=x.map(T=>({id:Date.now()+Math.random(),type:T.type,condition:T.condition,value:T.value,stockCode:a.value.stockCode,stockName:a.value.stockName,createdAt:new Date().toLocaleString(),isActive:!0,isQuantAnalysis:!0}));o("confirm",C),o("update:visible",!1),_()},_=()=>{r.value={overall_score:{conditions:[],values:{score_above:"",score_below:"",score_change:""}},buy_signal:{conditions:[],values:{signal_above:"",signal_below:""}},technical:{conditions:[]},rating_change:{conditions:[],values:{rating_reach:""}},risk_alert:{conditions:[]}}},k=()=>{const x=[];return r.value.overall_score.conditions.forEach(v=>{const C=r.value.overall_score.values[v];x.push({type:"overall_score",condition:v,value:C?parseFloat(C):null,needsValue:["score_above","score_below","score_change"].includes(v)})}),r.value.buy_signal.conditions.forEach(v=>{const C=r.value.buy_signal.values[v];x.push({type:"buy_signal",condition:v,value:C?parseFloat(C):null,needsValue:["signal_above","signal_below"].includes(v)})}),r.value.technical.conditions.forEach(v=>{x.push({type:"technical",condition:v,value:null,needsValue:!1})}),r.value.rating_change.conditions.forEach(v=>{const C=r.value.rating_change.values[v];x.push({type:"rating_change",condition:v,value:C||null,needsValue:v==="rating_reach"})}),r.value.risk_alert.conditions.forEach(v=>{x.push({type:"risk_alert",condition:v,value:null,needsValue:!1})}),x},S=()=>k().length,g=()=>{const x=k(),v=a.value.stockName||"当前股票";return x.map((C,T)=>{const D={type:C.type,condition:C.condition,value:C.value},B=w(D),I={overall_score:"🎯",buy_signal:"📈",technical:"📊",rating_change:"⭐",risk_alert:"⚠️"};return{id:`${C.type}_${C.condition}`,icon:I[C.type]||"📋",text:`${v} ${B}`,shortText:B,type:C.type,condition:C.condition}})},N=(x,v)=>x==="overall_score"?r.value.overall_score.conditions.includes(v):x==="buy_signal"?r.value.buy_signal.conditions.includes(v):x==="technical"?r.value.technical.conditions.includes(v):x==="rating_change"?r.value.rating_change.conditions.includes(v):x==="risk_alert"?r.value.risk_alert.conditions.includes(v):!1,f=(x,v)=>{const C=r.value[x],T=C.conditions.indexOf(v);T>-1?C.conditions.splice(T,1):C.conditions.push(v)},E=()=>{Object.keys(r.value).forEach(x=>{r.value[x].conditions=[]})},b=()=>{E(),r.value.overall_score.conditions=["score_above"],r.value.overall_score.values.score_above="8.5",r.value.buy_signal.conditions=["buy_signal_trigger"],r.value.technical.conditions=["macd_golden","rsi_oversold"],r.value.rating_change.conditions=["rating_upgrade"],ElMessage.success("已应用推荐配置")},y=x=>{const v=r.value[x.type],C=v.conditions.indexOf(x.condition);C>-1&&v.conditions.splice(C,1)},$=x=>{o("remove-reminder",x)},w=x=>{let v="";switch(x.type){case"overall_score":x.condition==="score_above"?v=`综合评分上升至 ${x.value}分`:x.condition==="score_below"?v=`综合评分下降至 ${x.value}分`:x.condition==="score_change"&&(v=`综合评分变化超过 ${x.value}分`);break;case"buy_signal":x.condition==="signal_above"?v=`买入信号强度达到 ${x.value}分`:x.condition==="signal_below"?v=`买入信号强度低于 ${x.value}分`:x.condition==="buy_signal_trigger"?v="出现买入信号":x.condition==="sell_signal_trigger"&&(v="出现卖出信号");break;case"technical":v={macd_golden:"MACD出现金叉",macd_death:"MACD出现死叉",rsi_overbought:"RSI进入超买区域",rsi_oversold:"RSI进入超卖区域",boll_break:"价格突破布林带"}[x.condition]||"技术指标变化";break;case"rating_change":x.condition==="rating_upgrade"?v="量化评级上调":x.condition==="rating_downgrade"?v="量化评级下调":x.condition==="rating_reach"&&(v=`量化评级达到 ${x.value}`);break;case"risk_alert":v={risk_abnormal:"风险指标异常",volatility_high:"波动率过高",drawdown_large:"最大回撤过大",sharpe_abnormal:"夏普比率异常"}[x.condition]||"风险提醒";break;default:v="量化分析提醒"}return v};return watch(()=>s.visible,x=>{if(x&&s.message){const v=s.message.content,C=v.match(/\*\*(.+?)\((.+?)\)\s+量化分析报告\*\*/);C?(a.value.stockName=C[1],a.value.stockCode=C[2]):(a.value.stockName="量化分析股票",a.value.stockCode="000000");const T=v.match(/综合评分：(\d+\.?\d*)/);T&&(n.value.overallScore=T[1]);const D=v.match(/买入信号：多因子模型评分(\d+)/);D&&(n.value.buySignalScore=D[1]);const B=v.match(/信号强度【(.+?)】/);B&&(n.value.signalStrength=B[1]);const I=v.match(/量化评级：(.+?级)/);I&&(n.value.rating=I[1])}}),(x,v)=>{const C=resolveComponent("el-alert"),T=resolveComponent("el-button"),D=resolveComponent("el-input"),B=resolveComponent("el-tag"),I=resolveComponent("el-dialog");return openBlock(),createBlock(I,{modelValue:d.value,"onUpdate:modelValue":v[17]||(v[17]=L=>d.value=L),title:"设置量化分析提醒",width:m.value,"before-close":c,class:"reminder-dialog"},{footer:withCtx(()=>[createBaseVNode("div",_hoisted_40$1,[createVNode(T,{onClick:c},{default:withCtx(()=>v[50]||(v[50]=[createTextVNode("取消")])),_:1,__:[50]}),createVNode(T,{type:"primary",onClick:l},{default:withCtx(()=>v[51]||(v[51]=[createTextVNode("确认设置")])),_:1,__:[51]})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[v[18]||(v[18]=createBaseVNode("h4",null,"📊 量化分析股票",-1)),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("span",_hoisted_4$1,toDisplayString(a.value.stockName),1),createBaseVNode("span",_hoisted_5$1,"("+toDisplayString(a.value.stockCode)+")",1)])]),createBaseVNode("div",_hoisted_6$1,[v[23]||(v[23]=createBaseVNode("h4",null,"🎯 当前量化分析结果",-1)),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[v[19]||(v[19]=createBaseVNode("span",{class:"summary-label"},"综合评分",-1)),createBaseVNode("span",_hoisted_9$1,toDisplayString(n.value.overallScore)+"/10",1)]),createBaseVNode("div",_hoisted_10$1,[v[20]||(v[20]=createBaseVNode("span",{class:"summary-label"},"信号强度",-1)),createBaseVNode("span",_hoisted_11$1,toDisplayString(n.value.signalStrength),1)]),createBaseVNode("div",_hoisted_12$1,[v[21]||(v[21]=createBaseVNode("span",{class:"summary-label"},"买入信号",-1)),createBaseVNode("span",_hoisted_13$1,toDisplayString(n.value.buySignalScore)+"/100",1)]),createBaseVNode("div",_hoisted_14$1,[v[22]||(v[22]=createBaseVNode("span",{class:"summary-label"},"量化评级",-1)),createBaseVNode("span",_hoisted_15$1,toDisplayString(n.value.rating),1)])])]),createBaseVNode("div",_hoisted_16$1,[v[47]||(v[47]=createBaseVNode("h4",null,"⚙️ 量化条件提醒设置",-1)),createBaseVNode("div",_hoisted_17$1,[createVNode(C,{title:"批量设置",type:"info",closable:!1,"show-icon":""},{default:withCtx(()=>v[24]||(v[24]=[createTextVNode(" 勾选需要的提醒条件，可同时设置多个 ")])),_:1})]),createBaseVNode("div",_hoisted_18$1,[createBaseVNode("div",_hoisted_19$1,[v[27]||(v[27]=createBaseVNode("span",{class:"quick-select-title"},"🚀 快速选择",-1)),createBaseVNode("div",_hoisted_20$1,[createVNode(T,{size:"small",onClick:b,type:"primary",plain:""},{default:withCtx(()=>v[25]||(v[25]=[createTextVNode(" 推荐配置 ")])),_:1,__:[25]}),createVNode(T,{size:"small",onClick:E,plain:""},{default:withCtx(()=>v[26]||(v[26]=[createTextVNode(" 清空选择 ")])),_:1,__:[26]})])]),createBaseVNode("div",_hoisted_21$1,[createBaseVNode("div",_hoisted_22$1,[v[32]||(v[32]=createBaseVNode("div",{class:"category-header"},[createBaseVNode("span",{class:"category-icon"},"🎯"),createBaseVNode("span",{class:"category-name"},"综合评分")],-1)),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("overall_score","score_above")}]),onClick:v[2]||(v[2]=L=>f("overall_score","score_above"))},[v[29]||(v[29]=createBaseVNode("span",null,"评分上升至",-1)),N("overall_score","score_above")?(openBlock(),createBlock(D,{key:0,modelValue:r.value.overall_score.values.score_above,"onUpdate:modelValue":v[0]||(v[0]=L=>r.value.overall_score.values.score_above=L),type:"number",placeholder:"8.0",class:"chip-input",onClick:v[1]||(v[1]=withModifiers(()=>{},["stop"]))},{append:withCtx(()=>v[28]||(v[28]=[createTextVNode("分")])),_:1},8,["modelValue"])):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("overall_score","score_below")}]),onClick:v[5]||(v[5]=L=>f("overall_score","score_below"))},[v[31]||(v[31]=createBaseVNode("span",null,"评分下降至",-1)),N("overall_score","score_below")?(openBlock(),createBlock(D,{key:0,modelValue:r.value.overall_score.values.score_below,"onUpdate:modelValue":v[3]||(v[3]=L=>r.value.overall_score.values.score_below=L),type:"number",placeholder:"6.0",class:"chip-input",onClick:v[4]||(v[4]=withModifiers(()=>{},["stop"]))},{append:withCtx(()=>v[30]||(v[30]=[createTextVNode("分")])),_:1},8,["modelValue"])):createCommentVNode("",!0)],2)])]),createBaseVNode("div",_hoisted_24$1,[v[37]||(v[37]=createBaseVNode("div",{class:"category-header"},[createBaseVNode("span",{class:"category-icon"},"📈"),createBaseVNode("span",{class:"category-name"},"买入信号")],-1)),createBaseVNode("div",_hoisted_25$1,[createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("buy_signal","signal_above")}]),onClick:v[8]||(v[8]=L=>f("buy_signal","signal_above"))},[v[34]||(v[34]=createBaseVNode("span",null,"信号强度达到",-1)),N("buy_signal","signal_above")?(openBlock(),createBlock(D,{key:0,modelValue:r.value.buy_signal.values.signal_above,"onUpdate:modelValue":v[6]||(v[6]=L=>r.value.buy_signal.values.signal_above=L),type:"number",placeholder:"90",class:"chip-input",onClick:v[7]||(v[7]=withModifiers(()=>{},["stop"]))},{append:withCtx(()=>v[33]||(v[33]=[createTextVNode("分")])),_:1},8,["modelValue"])):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("buy_signal","buy_signal_trigger")}]),onClick:v[9]||(v[9]=L=>f("buy_signal","buy_signal_trigger"))},v[35]||(v[35]=[createBaseVNode("span",null,"出现买入信号",-1)]),2),createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("buy_signal","sell_signal_trigger")}]),onClick:v[10]||(v[10]=L=>f("buy_signal","sell_signal_trigger"))},v[36]||(v[36]=[createBaseVNode("span",null,"出现卖出信号",-1)]),2)])]),createBaseVNode("div",_hoisted_26$1,[v[41]||(v[41]=createBaseVNode("div",{class:"category-header"},[createBaseVNode("span",{class:"category-icon"},"📊"),createBaseVNode("span",{class:"category-name"},"技术指标")],-1)),createBaseVNode("div",_hoisted_27$1,[createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("technical","macd_golden")}]),onClick:v[11]||(v[11]=L=>f("technical","macd_golden"))},v[38]||(v[38]=[createBaseVNode("span",null,"MACD金叉",-1)]),2),createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("technical","rsi_oversold")}]),onClick:v[12]||(v[12]=L=>f("technical","rsi_oversold"))},v[39]||(v[39]=[createBaseVNode("span",null,"RSI超卖",-1)]),2),createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("technical","boll_break")}]),onClick:v[13]||(v[13]=L=>f("technical","boll_break"))},v[40]||(v[40]=[createBaseVNode("span",null,"布林带突破",-1)]),2)])]),createBaseVNode("div",_hoisted_28$1,[v[45]||(v[45]=createBaseVNode("div",{class:"category-header"},[createBaseVNode("span",{class:"category-icon"},"⭐"),createBaseVNode("span",{class:"category-name"},"评级风险")],-1)),createBaseVNode("div",_hoisted_29$1,[createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("rating_change","rating_upgrade")}]),onClick:v[14]||(v[14]=L=>f("rating_change","rating_upgrade"))},v[42]||(v[42]=[createBaseVNode("span",null,"评级上调",-1)]),2),createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("rating_change","rating_downgrade")}]),onClick:v[15]||(v[15]=L=>f("rating_change","rating_downgrade"))},v[43]||(v[43]=[createBaseVNode("span",null,"评级下调",-1)]),2),createBaseVNode("div",{class:normalizeClass(["condition-chip",{active:N("risk_alert","risk_abnormal")}]),onClick:v[16]||(v[16]=L=>f("risk_alert","risk_abnormal"))},v[44]||(v[44]=[createBaseVNode("span",null,"风险异常",-1)]),2)])])])]),S()>0?(openBlock(),createElementBlock("div",_hoisted_30$1,[createBaseVNode("div",_hoisted_31$1,[createBaseVNode("span",_hoisted_32$1,"📋 已选择 "+toDisplayString(S())+" 个提醒条件",1),createVNode(T,{size:"small",onClick:E,text:"",type:"danger"},{default:withCtx(()=>v[46]||(v[46]=[createTextVNode(" 清空 ")])),_:1,__:[46]})]),createBaseVNode("div",_hoisted_33$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(g(),L=>(openBlock(),createBlock(B,{key:L.id,closable:"",onClose:U=>y(L),class:"summary-tag"},{default:withCtx(()=>[createTextVNode(toDisplayString(L.icon)+" "+toDisplayString(L.shortText),1)]),_:2},1032,["onClose"]))),128))])])):createCommentVNode("",!0)]),t.activeReminders.length>0?(openBlock(),createElementBlock("div",_hoisted_34$1,[v[49]||(v[49]=createBaseVNode("h4",null,"🔔 当前活跃提醒",-1)),createBaseVNode("div",_hoisted_35$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.activeReminders.filter(L=>L.isActive),L=>(openBlock(),createElementBlock("div",{key:L.id,class:"reminder-item"},[createBaseVNode("div",_hoisted_36$1,[createBaseVNode("span",_hoisted_37$1,toDisplayString(L.stockName),1),createBaseVNode("span",_hoisted_38$1,toDisplayString(w(L)),1),createBaseVNode("span",_hoisted_39$1,toDisplayString(L.createdAt),1)]),createVNode(T,{size:"small",type:"danger",onClick:U=>$(L.id),class:"remove-btn"},{default:withCtx(()=>v[48]||(v[48]=[createTextVNode("删除")])),_:2,__:[48]},1032,["onClick"])]))),128))])])):createCommentVNode("",!0)])]),_:1},8,["modelValue","width"])}}},QuantReminderDialog=_export_sfc(_sfc_main$2,[["__scopeId","data-v-47fcfb64"]]),_hoisted_1$1={class:"copyright-footer"},_sfc_main$1={__name:"CopyrightFooter",props:{isChatMode:{type:Boolean,default:!1},isMobileView:{type:Boolean,default:!1},isWechatEnv:{type:Boolean,default:!1}},setup(t){const e=t;return computed(()=>!e.isChatMode&&(!e.isMobileView||!e.isWechatEnv)),(s,o)=>withDirectives((openBlock(),createElementBlock("div",_hoisted_1$1,o[0]||(o[0]=[createBaseVNode("div",{class:"copyright-content"},[createBaseVNode("p",null,"© 2024 上海九方云智能科技有限公司 版权所有")],-1)]),512)),[[vShow,!t.isChatMode&&(!t.isMobileView||!t.isWechatEnv)]])}},CopyrightFooter=_export_sfc(_sfc_main$1,[["__scopeId","data-v-57a66c4d"]]);function useMobileLayout(){const{isMobileView:t}=useResponsiveBreakpoints(),e=ref(0),s=ref(!1),o=ref(window.innerHeight),a=[],n=()=>{if(typeof window>"u")return;const S=window.innerHeight*.01;if(document.documentElement.style.setProperty("--vh",`${S}px`),window.visualViewport){const g=window.visualViewport.height*.01;document.documentElement.style.setProperty("--visual-vh",`${g}px`)}o.value=window.innerHeight},r=S=>{if(!t.value)return;const N=[".main-content",".content-wrapper",".stock-section",".welcome-section"].map(b=>document.querySelector(b)),f=Math.min(S,80);N.forEach((b,y)=>{if(!b)return;const $=[f+20,f+15,f+10,0];if(y<3){const w=y===2?"margin-bottom":"padding-bottom";b.style.setProperty(w,`${$[y]}px`,"important"),b.style.setProperty("transition",`${w} 0.3s ease`,"important")}});const E=N[3];if(E){const y=navigator.userAgent.toLowerCase().includes("micromessenger"),$=y?Math.min(S*.2,15):Math.min(S*.4,50),w=y?25:70;E.style.setProperty("margin-bottom",`${w+$}px`,"important"),E.style.setProperty("transition","margin-bottom 0.3s ease","important")}e.value=S},d=()=>{[".main-content",".content-wrapper",".stock-section",".welcome-section"].forEach(g=>{const N=document.querySelector(g);N&&(N.style.removeProperty("padding-bottom"),N.style.removeProperty("margin-bottom"))}),document.body.style.removeProperty("padding-bottom"),e.value=0},m=(S=!1)=>{if(!t.value)return;const g=document.querySelector(".input-area");g&&(S?(g.style.setProperty("position","fixed","important"),g.style.setProperty("bottom","0","important"),g.style.setProperty("left","0","important"),g.style.setProperty("right","0","important"),g.style.setProperty("z-index","1000","important"),console.log("移动端聊天模式：输入框已固定到底部")):(["position","bottom","left","right","z-index"].forEach(f=>{g.style.removeProperty(f)}),console.log("移动端主页模式：已移除输入框固定定位")))},c=()=>{if(!t.value)return;let S=window.innerHeight,g=0;const N=()=>{const f=window.innerHeight,E=S-f,b=E>150;b!==s.value&&(s.value=b,g=b?E:0,console.log("键盘状态变化:",{visible:b,height:g,viewportHeight:f}),n(),window.dispatchEvent(new CustomEvent("keyboardToggle",{detail:{visible:b,height:g}})))};if(window.visualViewport){const f=()=>{const b=window.innerHeight-window.visualViewport.height>150;b!==s.value&&(s.value=b,n())};window.visualViewport.addEventListener("resize",f),a.push(()=>{window.visualViewport.removeEventListener("resize",f)})}else window.addEventListener("resize",N,{passive:!0}),a.push(()=>{window.removeEventListener("resize",N)})},l=()=>{if(!t.value)return;const S=E=>{const b=Date.now();b-(S.lastTap||0)<300&&E.preventDefault(),S.lastTap=b},g=E=>E.preventDefault(),N=E=>{(E.ctrlKey||E.metaKey)&&(E.key==="+"||E.key==="-"||E.key==="0")&&E.preventDefault()},f=E=>{(E.ctrlKey||E.metaKey)&&E.preventDefault()};document.addEventListener("touchend",S,{passive:!1}),document.addEventListener("gesturestart",g,{passive:!1}),document.addEventListener("gesturechange",g,{passive:!1}),document.addEventListener("gestureend",g,{passive:!1}),document.addEventListener("keydown",N),document.addEventListener("wheel",f,{passive:!1}),a.push(()=>{document.removeEventListener("touchend",S),document.removeEventListener("gesturestart",g),document.removeEventListener("gesturechange",g),document.removeEventListener("gestureend",g),document.removeEventListener("keydown",N),document.removeEventListener("wheel",f)})},_=(S=!1)=>{t.value&&(console.log("重置移动端布局:",{isChatMode:S}),d(),m(S),n())},k=()=>{t.value&&(console.log("初始化移动端布局"),n(),c(),l())};return onMounted(()=>{t.value&&nextTick(()=>{k()})}),onUnmounted(()=>{a.forEach(S=>S()),a.length=0}),{currentOffset:e,isKeyboardVisible:s,viewportHeight:o,setDynamicViewportHeight:n,adjustContentForOffset:r,resetContentPosition:d,fixMobileChatBox:m,resetMobileLayout:_,initMobileLayout:k}}function useMobileMenu(){const{isMobileView:t}=useResponsiveBreakpoints(),e=ref(!1),s=()=>{t.value&&(e.value=!0,console.log("显示移动端用户菜单"))},o=()=>{e.value=!1,console.log("隐藏移动端用户菜单")};return{showMobileMenu:e,showMobileUserMenu:s,hideMobileUserMenu:o,handleMobileCommand:async(r,d)=>{t.value&&(o(),setTimeout(()=>{d&&d(r)},200))},toggleMobileSidebar:r=>{t.value&&(console.log("toggleMobileSidebar被调用",{sidebarRef:r==null?void 0:r.value,isMobileView:t.value}),r!=null&&r.value&&typeof r.value.toggleSidebar=="function"?r.value.toggleSidebar():console.warn("侧边栏引用无效或方法不存在"))}}}function useMobileAdaptation(){const t=useResponsiveBreakpoints(),e=useMobileLayout(),s=useMobileMenu(),o=ref(!1),a=e.setDynamicViewportHeight,n=s.showMobileUserMenu,r=s.hideMobileUserMenu,d=s.handleMobileCommand,m=s.toggleMobileSidebar,c=()=>{console.log("移动端检测:",{windowWidth:t.currentWidth.value,isMobileView:t.isMobileView.value,deviceType:t.deviceType.value})},l=(w,x)=>{const v=x("smartRecommendation");return{...v,showRecommendIndex:v.showRecommendIndex,showWatchlistStatus:v.showWatchlistStatus,showPositionStatus:v.showPositionStatus,showDetails:!0,showReason:v.showReason,actions:v.actions}},_=w=>{t.isMobileView.value&&e.adjustContentForOffset(w)},k=()=>{e.resetContentPosition()},S=(w=!1)=>{if(!(!t.isMobileView.value||w)){if(o.value){console.log("手动调试模式，跳过ensureMobileFixApplied");return}e.resetContentPosition(),console.log("移动端布局已重置")}},g=(w=!1)=>{if(console.log("fixMobileChatBox被调用",{isMobileView:t.isMobileView.value,isChatMode:w,isManualDebug:o.value}),o.value){console.log("手动调试模式，跳过自动修复");return}e.fixMobileChatBox(w)},N=(w=!1,x=null,v=null,C=null)=>{console.log("resetMobileLayout被调用",{isMobileView:t.isMobileView.value,isChatMode:w}),t.isMobileView.value&&(e.resetMobileLayout(w),x&&x(),v&&v(),C&&C())},f=(w=null)=>{t.isMobileView.value&&(console.log("处理移动端键盘"),e.setDynamicViewportHeight(),w&&setTimeout(()=>w(),100))},E=(w,x)=>{let v;return function(...T){const D=()=>{clearTimeout(v),w(...T)};clearTimeout(v),v=setTimeout(D,x)}},b=w=>{if(!t.isMobileView.value)return;console.log("设置移动端视口监听器");const x=v=>{console.log("断点变化:",v),w&&w()};return t.addBreakpointListener(x),()=>{t.removeBreakpointListener(x)}},y=()=>{t.isMobileView.value&&console.log("初始化移动端浏览器检测",{deviceType:t.deviceType.value,isTouchDevice:t.isTouchDevice.value})},$=()=>{console.log("防缩放功能已在useMobileLayout中处理")};return onMounted(()=>{t.isMobileView.value&&y()}),{isMobileView:t.isMobileView,currentOffset:e.currentOffset,isManualDebug:o,showMobileMenu:s.showMobileMenu,checkMobileView:c,setDynamicViewportHeight:a,showMobileUserMenu:n,hideMobileUserMenu:r,handleMobileCommand:d,toggleMobileSidebar:m,getMobileSmartRecommendationConfig:l,adjustContentForOffset:_,resetContentPosition:k,ensureMobileFixApplied:S,fixMobileChatBox:g,resetMobileLayout:N,handleMobileKeyboard:f,debounce:E,setupMobileViewportListeners:b,initializeMobileBrowserDetection:y,preventZoom:$,breakpoints:t,layout:e,menu:s}}function useChatManager(){const t=useChatHistoryStore(),e=ref([]),s=ref(null),o=ref(!1),a=ref(!1),n=ref(null),r=ref(""),d=async(b,y,$,w)=>{const x=r.value.trim();if(!x||a.value)return;e.value.push({role:"user",content:x,timestamp:Date.now()}),r.value="",o.value=!0;let v=t.currentChatId;t.currentChatId||(v=await t.createNewChat()),e.value.push({role:"assistant",content:"",isGenerating:!0,timestamp:Date.now()}),a.value=!0,n.value=new AbortController;try{await authFetchEventSource(`${api.devPrefix}${api.chatStreamApi}?conversationId=${v}&userInput=${encodeURIComponent(x)}`,{method:"GET",headers:{Accept:"text/event-stream","Cache-Control":"no-cache"},signal:n.value.signal,onopen:async C=>{console.log("流式连接已建立")},onmessage:C=>{try{const T=C.data;if(T.trim().length===0)return;const D=e.value[e.value.length-1];D&&D.role==="assistant"&&(D.content+=T,D.isGenerating=!1,requestAnimationFrame(()=>{w()}))}catch(T){console.error("解析消息时出错:",T)}},onclose:()=>{console.log("流式连接已关闭"),a.value=!1,n.value=null},onerror:C=>{if(console.error("流式连接错误:",C),a.value=!1,n.value=null,e.value.length>0&&e.value[e.value.length-1].role==="assistant"){const T=e.value[e.value.length-1];T.content?T.content+=`

[连接中断]`:T.content="[连接中断]",T.isGenerating=!1,e.value=[...e.value]}ElMessage.error("连接中断，请重试")}})}catch(C){if(console.error("发送消息失败:",C),a.value=!1,n.value=null,e.value.length>0&&e.value[e.value.length-1].role==="assistant"){const T=e.value[e.value.length-1];T.content?T.content+=`

[请求失败]`:T.content="[请求失败]",T.isGenerating=!1,e.value=[...e.value]}ElMessage.error("发送消息失败，请重试")}y.value&&setTimeout(()=>{$.fixMobileChatBox(o.value)},100)},m=()=>{if(n.value&&(n.value.abort(),n.value=null),a.value){if(a.value=!1,e.value.length>0&&e.value[e.value.length-1].role==="assistant"){const b=e.value[e.value.length-1];b.content&&b.content.trim()!==""?b.content+=`

[已停止生成]`:b.content="[已停止生成]",b.isGenerating=!1,e.value=[...e.value]}console.log("🛑 生成已停止")}else console.log("🛑 当前没有正在进行的生成任务")},c=(b,y,$)=>{e.value=[],r.value="",o.value=!1,t.clearCurrentChat(),b.value&&nextTick(()=>{setTimeout(()=>{y.resetMobileLayout(o.value,$)},100)}),ElMessage.success("已创建新聊天")},l=()=>{s.value&&nextTick(()=>{s.value.scrollTo({top:s.value.scrollHeight,behavior:"smooth"})})};return{chatHistory:e,chatHistoryRef:s,isChatMode:o,isGenerating:a,inputMessage:r,currentAbortController:n,sendMessage:d,stopGeneration:m,createNewChat:c,scrollToBottom:l,scrollToTop:()=>{s.value&&s.value.scrollTo({top:0,behavior:"smooth"})},handleScroll:()=>{},updateChatHistoryHeight:()=>{nextTick(()=>{if(s.value){const w=window.innerHeight-60-120;s.value.style.maxHeight=`${w}px`,console.log("聊天历史区域高度已更新:",w)}})},handleLoadChat:b=>{e.value=b.messages||[],o.value=e.value.length>0,t.setCurrentChat(b.id),nextTick(()=>{l()})},handleCreateNewChat:async()=>{try{const b=await t.createNewChat();c(),console.log("新聊天创建成功:",b)}catch(b){console.error("创建新聊天失败:",b),ElMessage.error("创建新聊天失败")}},handleRenameChat:(b,y)=>{t.renameChat(b,y)},handleDeleteChat:b=>{t.deleteChat(b),t.currentChatId===b&&c()}}}function useVoiceInput(){const t=ref(!1),e=ref(null),s=ref(null),o=ref(0),a=ref(""),n=ref(!1),r=ref(!1),d=()=>navigator.userAgent.toLowerCase().includes("micromessenger"),m=()=>{if(d()&&typeof wx<"u")try{wx.checkJsApi({jsApiList:["startRecord","stopRecord","translateVoice"],success:function(y){y.checkResult.startRecord&&y.checkResult.stopRecord&&y.checkResult.translateVoice&&(n.value=!0,console.log("微信语音识别功能可用"))}})}catch{console.log("微信JS-SDK未配置或不可用")}},c=()=>{o.value=0,s.value=setInterval(()=>{o.value++,o.value===15&&ElMessage.info("💡 继续说话，或点击麦克风按钮结束录音"),o.value===45&&ElMessage.warning("⏰ 录音即将结束，还有15秒"),o.value>=60&&(ElMessage.info("⏱️ 录音时间已达上限，自动停止"),N())},1e3)},l=()=>{t.value=!1,s.value&&(clearInterval(s.value),s.value=null),o.value=0},_=()=>{if(!n.value){ElMessage.error("微信语音功能不可用，请确保在微信中打开并配置了JS-SDK");return}wx.startRecord({success:function(){t.value=!0,c(),ElMessage.success("🎤 开始微信语音输入，请说话...")},cancel:function(){ElMessage.info("用户取消录音"),l()}})},k=y=>{n.value&&wx.stopRecord({success:function($){a.value=$.localId,wx.translateVoice({localId:a.value,isShowProgressTips:1,success:function(w){const x=w.translateResult;if(x&&x.trim()){const v=y.value.trim();v?y.value=v+" "+x.trim():y.value=x.trim(),ElMessage.success(`语音识别完成: "${x.substring(0,20)}${x.length>20?"...":""}"`)}else ElMessage.warning("未识别到语音内容，请重试");l()},fail:function(w){ElMessage.error("语音识别失败，请重试"),l()}})},fail:function($){ElMessage.error("录音失败，请重试"),l()}})},S=y=>{if(d())return console.log("微信内置浏览器不支持语音识别"),!1;if("webkitSpeechRecognition"in window||"SpeechRecognition"in window)try{const $=window.SpeechRecognition||window.webkitSpeechRecognition;return e.value=new $,e.value.continuous=!0,e.value.interimResults=!0,e.value.lang="zh-CN",e.value.maxAlternatives=1,e.value.onresult=w=>{let x="";for(let v=w.resultIndex;v<w.results.length;v++){const C=w.results[v][0].transcript;w.results[v].isFinal&&(x+=C)}if(x){const v=x.trim(),C=y.value.trim();C?y.value=C+" "+v:y.value=v}},e.value.onstart=()=>{console.log("语音识别开始"),c()},e.value.onend=()=>{console.log("语音识别结束"),l()},e.value.onerror=w=>{console.error("语音识别错误:",w.error);let x="语音识别失败";switch(w.error){case"no-speech":x="未检测到语音，请重新尝试";break;case"audio-capture":x="无法访问麦克风，请检查权限设置";break;case"not-allowed":x="麦克风权限被拒绝，请在浏览器设置中允许麦克风访问";break;case"network":x="网络连接异常，请检查网络后重试";break;case"language-not-supported":x="不支持中文语音识别";break}ElMessage.error(x),l()},!0}catch($){return console.error("初始化语音识别失败:",$),!1}return!1},g=()=>{if(d()){n.value?_():console.log("微信环境：语音功能需要JS-SDK配置");return}if(!e.value){ElMessage.error("您的浏览器不支持语音识别功能，建议使用Chrome浏览器");return}try{t.value=!0,e.value.start(),ElMessage.success("🎤 开始语音输入，请说话...")}catch(y){console.error("启动语音识别失败:",y),ElMessage.error("启动语音识别失败，请重试"),l()}},N=y=>{if(d()&&n.value){k(y);return}e.value&&t.value&&e.value.stop(),l()};return{isRecording:t,recordingDuration:o,isWechatEnv:r,onVoiceClick:y=>{if(console.log("语音按钮点击"),d()){ElMessage({message:"💬 微信语音功能需要JS-SDK配置，当前暂不可用",type:"warning",duration:4e3,showClose:!0,dangerouslyUseHTMLString:!1});return}t.value?(N(y),ElMessage.info("🛑 语音输入已停止")):g()},initVoice:y=>{r.value=d(),r.value?m():S(y)},cleanupVoice:()=>{e.value&&t.value&&e.value.stop(),s.value&&clearInterval(s.value),l()},startVoiceRecording:g,stopVoiceRecording:N}}function useStockOperations(){const t=ref(null),e=ref("buy"),s=ref(!1),o=ref(!1),a=ref(null),n=ref(!1),r=ref(null),d=ref([]),m=I=>({"000001":12.68,"000858":52.3,"000002":24.15,300750:485.2,600519:1680.5,"000700":15.8,600036:35.67,"002415":28.9})[I]||10,c=I=>{if(!I)return"";const L=new Date(I),Y=new Date-L,se=Math.floor(Y/(1e3*60)),J=Math.floor(Y/(1e3*60*60)),M=Math.floor(Y/(1e3*60*60*24));return se<1?"刚刚生成":se<60?`${se}分钟前`:J<24?`${J}小时前`:M<7?`${M}天前`:L.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})},l=()=>{nextTick(()=>{const I=document.querySelectorAll(".persistent-stock-list");if(I.length>0){const L=I[I.length-1];L.scrollIntoView({behavior:"smooth",block:"center"}),L.classList.add("highlight-recommendation"),setTimeout(()=>{L.classList.remove("highlight-recommendation")},2e3)}})},_=I=>{const U=[{riskLevel:1,title:"保守型"},{riskLevel:2,title:"稳健型"},{riskLevel:3,title:"平衡型"},{riskLevel:4,title:"成长型"},{riskLevel:5,title:"激进型"}].find(Y=>Y.riskLevel===I);return U?U.title:"未设置"},k=I=>I===1?"新手":I===2?"有经验":"未设置",S=I=>{const L=[];return I=I||[],I.forEach(U=>{U.children&&Array.isArray(U.children)&&U.children.forEach(Y=>{Y.label&&L.push(Y.label)})}),L.length>0?L.join("、"):"未设置"},g=async(I,L,U,Y,se,J,M,R)=>{var ue,he;Y.value=!0;const P=(ue=I.userInfo)==null?void 0:ue.preferences;let K=`智能荐股：根据我的投资偏好推荐优质股票
`,X="";P&&(X+=`我的投资偏好：
            - 风险偏好：${_(P.riskLevel)} 
            - 投资经验：${k(P.experience)} 
            - 关注板块：${S((he=P.sectors)==null?void 0:he.categories)}`);const W={role:"user",content:K.concat(X)},Be={role:"assistant",content:"",isGenerating:!0};if(U.value.push(W,Be),R&&!R()){console.log("🚀 智能荐股 - 在API调用前被中断");return}L.currentChatId||await L.createNewChat();const de=L.currentChatId;console.log("当前聊天ID:",de);const ve=await mockApi.sendMessage(K);if(R&&!R()){console.log("🚀 智能荐股 - 在API调用后被中断");return}try{let Re=await recommendStock({pageNo:1,pageSize:3,conversationId:de});if(R&&!R()){console.log("🚀 智能荐股 - 在数据处理前被中断");return}if(Re&&Re.data&&Re.data.success){let $e=[];(Re.data.data||[]).forEach(Se=>{$e.push({name:Se.name,code:Se.code,recommendIndex:Se.recommendScore,recommendLevel:Se.recommendLevel,price:Se.latestPrice,change:Se.change||0,changePercent:(Se.rise||0).concat("%"),targetPrice:Se.targetPrice,riskLevel:Se.riskLevel,industry:Se.industry,reason:Se.recommendReason})}),$e.sort((Se,Ue)=>Ue.recommendIndex-Se.recommendIndex),console.log("智能荐股API响应:",$e);const Ve=U.value[U.value.length-1];Ve&&Ve.role==="assistant"&&(Ve.content=ve.data.content,Ve.isGenerating=!1,Ve.hasStockInfo=$e.length>0,Ve.isRecommendation=$e.length>0,Ve.stockList=$e,Ve.isPersistent=!0,Ve.messageId=`recommendation-${Date.now()}`,Ve.timestamp=new Date().toISOString(),U.value=[...U.value]),await nextTick(),se(),ElMessage.success("已为您生成个性化股票推荐"),J.value&&setTimeout(()=>{J.value=!1},300)}else{const $e=U.value[U.value.length-1];$e.content?$e.content+=`
[已终止，${Re.exceptionTip||"服务器繁忙"}]`:$e.content=`[已终止，${Re.exceptionTip||"服务器繁忙"}]`,$e.isGenerating=!1,U.value=[...U.value]}}catch(Re){console.error("智能荐股API调用失败:",JSON.stringify(Re));const $e=U.value[U.value.length-1];$e.content?$e.content+=`
[已终止，${Re.message||"服务器繁忙"}]`:$e.content=`[已终止，${Re.message||"服务器繁忙"}]`,$e.isGenerating=!1,U.value=[...U.value]}},N=async(I,L,U,Y,se,J,M)=>{if(U.value=!0,L.value.push({role:"user",content:"资讯推送"},{role:"assistant",content:"",isGenerating:!0}),M&&!M()){console.log("🚀 资讯推送 - 被中断");return}const K=await mockApi.sendMessage("资讯推送：今日重要财经新闻和市场动态");if(M&&!M()){console.log("🚀 资讯推送 - API调用后被中断");return}const X=L.value[L.value.length-1];X&&X.role==="assistant"&&(X.content=K.data.content,X.isGenerating=!1,L.value=[...L.value]),await nextTick(),Y(),ElMessage.success("已为您推送最新财经资讯"),se.value&&setTimeout(()=>{se.value=!1},300)},f=I=>{const L=m(I.code),U=L*(1-(Math.random()*.1-.05)),Y=L-U,se=(Y/U*100).toFixed(2),J=1.1+Math.random()*.2,M=(L*J).toFixed(2),R=((M-L)/L*100).toFixed(1),P=["低风险","中低风险","中风险","中高风险","高风险"],K=P[Math.floor(Math.random()*P.length)],X=["强烈推荐","推荐","中性","谨慎","不推荐"],W=X[Math.floor(Math.random()*X.length)];return{...I,price:I.price||L.toFixed(2),change:I.change||(Y>=0?`+${Y.toFixed(2)}`:Y.toFixed(2)),changePercent:I.changePercent||(parseFloat(se)>=0?`+${se}%`:`${se}%`),currentPrice:L.toFixed(2),changeAmount:Y.toFixed(2),changePct:parseFloat(se),targetPrice:M,expectedReturn:`${R}%`,riskLevel:K,recommendLevel:W,industry:I.industry||"未分类"}},E=async(I,L,U,Y,se,J,M)=>{if(U.value=!0,L.value.push({role:"user",content:"我的资产分析"},{role:"assistant",content:"",isGenerating:!0}),M&&!M()){console.log("🚀 资产分析 - 被中断");return}if(I.portfolio.length===0){const Ne=[{code:"000001",name:"平安银行",quantity:1e3,avgPrice:11.5,industry:"银行",buyTime:"2024-01-10T09:30:00.000Z"},{code:"600036",name:"招商银行",quantity:500,avgPrice:34.2,industry:"银行",buyTime:"2024-01-08T10:15:00.000Z"},{code:"000858",name:"五粮液",quantity:200,avgPrice:155.8,industry:"食品饮料",buyTime:"2024-01-05T14:20:00.000Z"},{code:"300750",name:"宁德时代",quantity:100,avgPrice:180.5,industry:"新能源",buyTime:"2024-01-03T11:45:00.000Z"}];I.portfolio.push(...Ne),localStorage.setItem("portfolio",JSON.stringify(I.portfolio)),ElMessage.info("已为您添加示例持仓数据")}const P=I.getTotalAssets(),K=I.portfolio.length,X=I.watchlist.length,W=I.portfolio.map(Ne=>{const Ve=m(Ne.code),Se=Ne.quantity*Ve,Ue=Ne.quantity*Ne.avgPrice,Ie=Se-Ue,Je=(Ie/Ue*100).toFixed(2);return{...Ne,currentPrice:Ve,marketValue:Se,costValue:Ue,profit:Ie,profitPercent:parseFloat(Je)}}),Be=W.reduce((Ne,Ve)=>Ne+Ve.profit,0),de=W.reduce((Ne,Ve)=>Ne+Ve.costValue,0),ve=de>0?(Be/de*100).toFixed(2):"0.00",ue=W.reduce((Ne,Ve)=>Ne+Ve.marketValue,0),he=`资产分析：请分析我的投资组合表现
        
持仓概况：
- 持仓股票数量：${K}只
- 持仓总市值：¥${ue.toLocaleString()}
- 持仓成本：¥${de.toLocaleString()}
- 总盈亏：¥${Be.toLocaleString()} (${ve}%)
- 自选股数量：${X}只

请提供投资组合优化建议和风险评估。`,Re=await mockApi.sendMessage(he);if(M&&!M()){console.log("🚀 资产分析 - API调用后被中断");return}const $e=L.value[L.value.length-1];$e&&$e.role==="assistant"&&($e.content=Re.data.content,$e.isGenerating=!1,$e.hasAssetInfo=!0,$e.assetData={totalAssets:P,balance:P-ue,portfolioCount:K,watchlistCount:X,portfolioData:W.map(Ne=>({...Ne,price:Ne.currentPrice.toFixed(2),change:(Ne.currentPrice-Ne.avgPrice).toFixed(2),changePercent:`${Ne.profitPercent}%`})),watchlistData:I.watchlist.map(Ne=>f(Ne)),totalProfit:Be,totalProfitPercent:parseFloat(ve),portfolioValue:ue},L.value=[...L.value]),await nextTick(),Y(),ElMessage.success("已为您生成资产分析报告"),se.value&&setTimeout(()=>{se.value=!1},300)},b=async(I,L,U)=>{var J,M,R;ElMessage.info("正在刷新荐股列表...");const Y=(J=L.userInfo)==null?void 0:J.preferences;let se="智能荐股：根据我的投资偏好推荐优质股票";Y&&(se+=`

我的投资偏好：
- 风险偏好：${_(Y.riskLevel)}
- 投资经验：${Y.experience==="beginner"?"新手":"有经验"}
- 关注板块：${((R=(M=Y.sectors)==null?void 0:M.majorCategories)==null?void 0:R.join("、"))||"未设置"}`);try{const P=await mockApi.sendMessage(se),K=U.value.findIndex(X=>X.messageId===I.messageId);K!==-1&&(U.value[K]={...P.data,isPersistent:!0,messageId:I.messageId,timestamp:new Date().toISOString()}),ElMessage.success("荐股列表已刷新"),nextTick(()=>{l()})}catch{ElMessage.error("刷新失败，请稍后重试")}},y=(I,L="buy")=>{t.value=I,e.value=L,s.value=!0},$=I=>{y(I,"sell")},w=(I,L,U)=>{ElMessageBox.confirm(`量化分析 ${I.name}(${I.code}) 促销价仅需 1智点（原价3智点），是否继续？`,"付费服务确认",{confirmButtonText:"确认支付 1智点",cancelButtonText:"取消",type:"warning",customClass:"paid-service-dialog high-z-index-dialog",appendTo:"body"}).then(()=>{if(L.smartPointsBalance<1){ElMessage.error("智点余额不足，请先充值");return}if(L.deductSmartPoints(1))L.addSmartPointsTransaction({type:"consumption",amount:1,description:`量化分析报告 - ${I.name}`,serviceType:"quant-analysis",stockInfo:{name:I.name,code:I.code},balanceAfter:L.smartPointsBalance}),ElMessage.success("支付成功，正在生成量化分析报告...");else{ElMessage.error("支付失败，智点余额不足");return}U(I,!0)}).catch(()=>{ElMessage.info("已取消付费分析")})},x=I=>{o.value=!0,a.value=I},v=async(I,L,U,Y)=>{const{stock:se,tradingParams:J,message:M}=I;try{const R=await mockApi.sendMessage(M);L.value.push({role:"user",content:`AI委托交易设置 ${se.name}(${se.code})`},{...R.data,hasStockInfo:!0,stockInfo:se,isAITradingReport:!0,tradingParams:J}),await nextTick(),Y(),U.value=!0}catch(R){ElMessage.error("设置失败，请稍后重试"),console.error("AI委托交易设置失败:",R)}},C=I=>{r.value=I,n.value=!0},T=I=>{d.value.push(...I),ElMessage.success(`已成功设置 ${I.length} 个量化分析提醒`),I.forEach((L,U)=>{setTimeout(()=>{const Y=D(L);ElMessage({message:`🔔 量化分析提醒触发：${L.stockName} ${Y}`,type:"warning",duration:5e3,showClose:!0});const se=d.value.findIndex(J=>J.id===L.id);se!==-1&&(d.value[se].triggered=!0)},(U+1)*3e3)})},D=I=>({price_above:`价格突破 ¥${I.value}`,price_below:`价格跌破 ¥${I.value}`,volume_spike:"成交量异常放大",rsi_oversold:"RSI指标超卖",rsi_overbought:"RSI指标超买",ma_golden_cross:"均线金叉",ma_death_cross:"均线死叉"})[I.condition]||I.condition,B=computed(()=>!1);return{selectedStock:t,tradeType:e,buyDialogVisible:s,showAITradingDialog:o,selectedStockForAITrading:a,showQuantReminderDialog:n,currentReminderMessage:r,activeReminders:d,getCurrentStockPrice:m,formatRecommendationTime:c,scrollToRecommendation:l,getRiskLevelText:_,getExperienceText:k,getFocusIndustryText:S,handleSmartRecommendation:g,handleNewsUpdate:N,handleAssetAnalysis:E,generateWatchlistStockData:f,refreshRecommendation:b,showBuyDialog:y,handleShowSellDialog:$,showPaidAnalysisDialog:w,showQuantAnalysisDialog:x,handleAITradingConfirmed:v,setQuantAnalysisReminder:C,handleReminderConfirm:T,getReminderDescription:D,hasRecommendationInHistory:B}}function useAuthentication(){const t=useRouter(),e=useRoute(),s=useUserStore(),o=ref(!1),a=ref(!1),n=ref(!1),r=(E=!1)=>{a.value=E,o.value=!0},d=({isNewUser:E,userInfo:b},y,$)=>{m(),s.generateMockRecords(),E?(setTimeout(()=>{y&&y()},500),ElMessage.success("注册成功！已为您准备了100万资金和10智点用于体验交易功能")):s.shouldShowOnboarding()?(setTimeout(()=>{y&&y()},500),ElMessage.success("欢迎回来！让我们继续完成您的投资偏好设置")):($&&$(),ElMessage.success("欢迎回来！"))},m=()=>{s.balance<=0&&(s.addBalance(1e6),console.log("已为用户设置初始资金余额：100万元")),s.smartPointsBalance<=0&&(s.addSmartPoints(10),console.log("已为用户设置初始智点余额：10智点"))},c=async E=>{try{await ElMessageBox.confirm("确定要退出登录吗？退出后将清除所有本地数据。","退出登录",{confirmButtonText:"确定退出",cancelButtonText:"取消",type:"warning",center:!0}),s.logout(),E&&E(),ElMessage.success("已成功退出登录"),await t.push("/"),setTimeout(()=>{window.location.reload()},500)}catch{console.log("用户取消退出登录")}};return{loginDialogVisible:o,isRegisterMode:a,recoveryDialogVisible:n,showLogin:r,handleLoginSuccess:d,handleLogout:c,showPasswordRecovery:()=>{n.value=!0},backToLogin:()=>{n.value=!1,o.value=!0},handleRecoverySuccess:()=>{o.value=!0},handleUserCommand:async(E,b={})=>{const{onShowProfile:y,onShowPreferences:$,onShowRecords:w,onResetPageState:x}=b;switch(console.log("Menu command clicked:",E),E){case"profile":y&&y();break;case"settings":$&&$();break;case"records":w&&w();break;case"logout":await c(x);break}},checkRouteParams:()=>{e.query.showLogin==="true"&&!s.isLoggedIn&&(o.value=!0)},checkAuthStatus:(E="操作")=>s.isLoggedIn?!0:(ElMessage.warning(`请先登录后再${E}`),r(!1),!1),getAuthState:()=>({isLoggedIn:s.isLoggedIn,userInfo:s.userInfo,token:s.token,loginDialogVisible:o.value,isRegisterMode:a.value,recoveryDialogVisible:n.value}),initializeUserBalances:m}}const _hoisted_1={key:1,class:"center-container chat-area"},_hoisted_2={key:2,class:"home-input-area"},_hoisted_3={class:"chat-message-content"},_hoisted_4={key:0,class:"message-text generating-message"},_hoisted_5={key:1,class:"message-text"},_hoisted_6={key:2,class:"interaction-suggestions"},_hoisted_7={class:"suggestion-intro"},_hoisted_8={class:"intro-text"},_hoisted_9={class:"suggestion-items"},_hoisted_10=["onClick"],_hoisted_11={class:"suggestion-icon"},_hoisted_12={class:"suggestion-text"},_hoisted_13={key:3,class:"stock-actions"},_hoisted_14={key:0,class:"reminder-count-badge-small"},_hoisted_15={key:4,class:"watchlist-display-container"},_hoisted_16={class:"watchlist-overview"},_hoisted_17={class:"overview-stats"},_hoisted_18={class:"stat-item total"},_hoisted_19={class:"stat-info"},_hoisted_20={class:"stat-value"},_hoisted_21={class:"stat-item up"},_hoisted_22={class:"stat-info"},_hoisted_23={class:"stat-value"},_hoisted_24={class:"stat-item down"},_hoisted_25={class:"stat-info"},_hoisted_26={class:"stat-value"},_hoisted_27={key:2,class:"interaction-suggestions"},_hoisted_28={class:"suggestion-items"},_hoisted_29=["onClick"],_hoisted_30={class:"suggestion-icon"},_hoisted_31={class:"suggestion-text"},_hoisted_32={key:0,class:"suggestion-time"},_hoisted_33={key:5,class:"stock-account-container"},_hoisted_34={class:"account-header"},_hoisted_35={class:"account-title-section"},_hoisted_36={class:"account-time"},_hoisted_37={class:"account-overview"},_hoisted_38={class:"overview-main"},_hoisted_39={class:"total-asset-card"},_hoisted_40={class:"asset-amount"},_hoisted_41={class:"amount-value"},_hoisted_42={class:"change-icon"},_hoisted_43={class:"change-text"},_hoisted_44={class:"overview-stats"},_hoisted_45={class:"stat-item"},_hoisted_46={class:"stat-info"},_hoisted_47={class:"stat-value"},_hoisted_48={class:"stat-item"},_hoisted_49={class:"stat-info"},_hoisted_50={class:"stat-value"},_hoisted_51={class:"stat-item"},_hoisted_52={class:"stat-info"},_hoisted_53={class:"stat-value"},_hoisted_54={class:"stat-item"},_hoisted_55={class:"stat-info"},_hoisted_56={class:"stat-value"},_hoisted_57={class:"account-tabs"},_hoisted_58={class:"tab-nav"},_hoisted_59={class:"tab-content"},_hoisted_60={key:0,class:"tab-panel"},_hoisted_61={key:1,class:"empty-state"},_hoisted_62={key:1,class:"tab-panel"},_hoisted_63={key:1,class:"empty-state"},_hoisted_64=["onClick"],_hoisted_65={key:0,class:"message-actions-external"},_hoisted_66={class:"action-buttons"},_hoisted_67={class:"action-text"},_hoisted_68={key:0,class:"mobile-chat-spacer"},_hoisted_69={key:3,class:"input-area"},_hoisted_70={key:0,class:"new-chat-section"},_hoisted_71={class:"chat-actions"},_hoisted_72={key:6,class:"guide-tip"},_hoisted_73={class:"guide-content"},_hoisted_74={class:"guide-header"},_hoisted_75={class:"guide-title"},_hoisted_76={class:"guide-text"},_hoisted_77={class:"guide-actions"},_sfc_main={__name:"Main",setup(t){const e=useUserStore(),s=useChatHistoryStore(),o=useAuthentication(),{loginDialogVisible:a,isRegisterMode:n,recoveryDialogVisible:r,showLogin:d,handleLoginSuccess:m,showPasswordRecovery:c,backToLogin:l,handleRecoverySuccess:_,handleUserCommand:k,checkRouteParams:S,checkAuthStatus:g}=o,N=useChatManager(),{chatHistory:f,chatHistoryRef:E,isChatMode:b,isGenerating:y,inputMessage:$,currentAbortController:w,sendMessage:x,stopGeneration:v,createNewChat:C,scrollToBottom:T,scrollToTop:D,handleScroll:B,updateChatHistoryHeight:I,handleLoadChat:L,handleCreateNewChat:U,handleRenameChat:Y,handleDeleteChat:se}=N,J=ref(!1),M=ref(!1),R=ref(!1),P=useMobileAdaptation(),{isMobileView:K,showMobileMenu:X,showMobileUserMenu:W,hideMobileUserMenu:Be,handleMobileCommand:de,getMobileSmartRecommendationConfig:ve,breakpoints:ue,layout:he,menu:Re}=P,$e=useVoiceInput(),{isRecording:Ne,recordingDuration:Ve,isWechatEnv:Se,onVoiceClick:Ue,initVoice:Ie,cleanupVoice:Je}=$e,Te=useStockOperations(),{selectedStock:nt,tradeType:ut,buyDialogVisible:et,showAITradingDialog:tt,selectedStockForAITrading:pt,showQuantReminderDialog:st,currentReminderMessage:ht,activeReminders:Ge,getCurrentStockPrice:Z,formatRecommendationTime:z,getRiskLevelText:be,handleSmartRecommendation:ke,handleNewsUpdate:Pe,handleAssetAnalysis:me,generateWatchlistStockData:p,handleAITradingConfirmed:ne,setQuantAnalysisReminder:ye,showBuyDialog:ze,showQuantAnalysisDialog:Ke,showPaidAnalysisDialog:mt,handleShowSellDialog:Xe,scrollToRecommendation:We,handleReminderConfirm:ot}=Te,it=()=>{console.log("用户跳过了偏好设置")},te=H=>{console.log("交易完成:",H),H&&H.type==="buy"?ElMessage.success(`成功买入 ${H.quantity} 股 ${H.stockName}`):H&&H.type==="sell"&&ElMessage.success(`成功卖出 ${H.quantity} 股 ${H.stockName}`)},Ce=H=>{console.log("自选股发生变化:",H),H&&H.action==="add"?ElMessage.success(`已添加 ${H.stockName} 到自选股`):H&&H.action==="remove"&&ElMessage.success(`已从自选股移除 ${H.stockName}`)},Qe=H=>(console.log("AI交易确认:",H),ne(H,f,b,T)),xe=ref(!1),rt=ref("开始体验"),yt=H=>ot(H),ie=H=>{console.log("取消提醒:",H),ElMessage.info("提醒已取消")},at=H=>{console.log("删除提醒:",H);const F=Ge.value.findIndex(Q=>Q.id===H);F!==-1&&(Ge.value.splice(F,1),ElMessage.success("提醒已删除"))},Bt=()=>{console.log("处理引导操作"),xe.value=!1},gt=()=>{console.log("关闭引导提示"),xe.value=!1},He=ref(!1),Ze=ref(null),qe=ref(new Map),lt=ref(!1),ct=ref("portfolio"),ft=H=>{[Lt.value,Xt.value].forEach((F,Q)=>{if(F&&typeof F[H]=="function")try{F[H](),console.log(`✅ 已通知${Q===0?"初始模式":"聊天模式"}ShortcutsBar组件执行${H}`)}catch(le){console.warn(`⚠️ 通知ShortcutsBar执行${H}时出错:`,le)}})},_t=()=>{console.log("🔄 初始化快捷操作"),ft("initializeShortcuts"),console.log("✅ 快捷操作初始化完成")},q=computed(()=>{if(!e.isLoggedIn||e.portfolio.length===0)return{todayProfit:0,totalProfit:0,totalProfitRate:0,portfolioValue:0};const H=e.portfolio.map(fe=>{const Me=Z(fe.code),kt=fe.quantity*Me,Zt=fe.quantity*fe.avgPrice,_s=kt-Zt;return{...fe,currentPrice:Me,marketValue:kt,costValue:Zt,profit:_s}}),F=H.reduce((fe,Me)=>fe+Me.profit,0),Q=H.reduce((fe,Me)=>fe+Me.costValue,0),le=Q>0?F/Q*100:0,j=H.reduce((fe,Me)=>fe+Me.marketValue,0),_e=F*(Math.random()*.3-.15);return{todayProfit:parseFloat(_e.toFixed(2)),totalProfit:parseFloat(F.toFixed(2)),totalProfitRate:parseFloat(le.toFixed(2)),portfolioValue:parseFloat(j.toFixed(2))}}),Oe=ref(!1),De=ref(!1),Nt=async H=>{await k(H,{onShowProfile:()=>{J.value=!0},onShowPreferences:()=>{De.value=!0},onShowRecords:()=>{M.value=!0},onResetPageState:()=>{f.value=[],$.value="",b.value=!1,J.value=!1,M.value=!1}})},wt=()=>{J.value=!0},xt=()=>{De.value=!0},pe=()=>{M.value=!0},O=async()=>{g("开始对话")&&await x(e,K,P,T)},ee=()=>{C(K,P,D)};watch(f,()=>{nextTick(()=>{T(),E.value&&!E.value.hasScrollListener&&(E.value.addEventListener("scroll",B,{passive:!0}),E.value.hasScrollListener=!0)})},{deep:!0}),watch(b,H=>{console.log("isChatMode变化:",{newVal:H,isMobileView:K.value}),H?nextTick(()=>{T(),I(),K.value&&(console.log("准备调用fixMobileChatBox - isChatMode监听器"),P.fixMobileChatBox(b.value),setTimeout(()=>{P.fixMobileChatBox(b.value),P.handleMobileKeyboard(T),I(),T()},100),setTimeout(()=>{P.fixMobileChatBox(b.value),I()},300))}):nextTick(()=>{K.value&&(document.querySelector(".input-area")&&console.log("保持input-area样式，让CSS控制布局"),setTimeout(()=>{P.resetMobileLayout(b.value,D)},100))})});const ae=()=>{Ue($)},Ee=()=>{R.value=!R.value,console.log("toggleChatShortcuts:",{showChatShortcuts:R.value,userLoggedIn:e.isLoggedIn,activeShortcuts:activeShortcuts.value.length,isMobileView:K.value}),K.value||I()},Ae=ref(null),Fe=computed(()=>e.isLoggedIn&&K.value&&Ae.value&&typeof Ae.value.toggleSidebar=="function"),Ye=()=>{var H;e.isLoggedIn&&K.value&&Ae.value&&typeof Ae.value.toggleSidebar=="function"?P.toggleMobileSidebar(Ae):console.warn("移动端侧边栏不可用，忽略点击事件",{isLoggedIn:e.isLoggedIn,isMobileView:K.value,hasRef:!!Ae.value,hasMethod:!!((H=Ae.value)!=null&&H.toggleSidebar)})},dt=async H=>{console.log("🚀 setSuggestionAndSend 被调用:",H),$.value=H,b.value||(b.value=!0),R.value&&(R.value=!1),console.log("🔄 设置 isGenerating = true"),y.value=!0;try{if(await nextTick(),await new Promise(F=>setTimeout(F,500)),!y.value){console.log("🔄 智能复盘 - 操作被用户中断");return}console.log("🔄 准备发送消息，重置 isGenerating = false"),y.value=!1,O()}catch(F){console.error("🔄 setSuggestionAndSend 执行出错:",F),y.value=!1}},Vt=H=>{$.value=H,nextTick(()=>{const F=document.querySelector(".ai-input textarea");F&&F.focus()})},bt=()=>{He.value=!He.value},je=()=>{He.value=!1},Tt=H=>{if(!He.value)return;const F=document.querySelector(".chat-history-container");if(F&&F.contains(H.target)||H.target.closest(".chat-history-btn"))return;const le=["button","input","textarea","select","a"],j=H.target.tagName.toLowerCase();le.includes(j)||H.target.closest("button, input, textarea, select, a, .el-button, .el-input")||(He.value=!1,K.value&&console.log("移动端点击主页区域，聊天历史面板已关闭"))},St=H=>{const F=H.id||H.timestamp||Date.now(),Q=qe.value.get(F);return(Q==null?void 0:Q.text)||"复制"},ns=async H=>{const F=H.id||H.timestamp||Date.now(),Q=qe.value.get(F);if(!(Q!=null&&Q.isCopying))try{qe.value.set(F,{isCopying:!0,text:"复制中..."});const le=H.content||"";if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(le);else{const j=document.createElement("textarea");j.value=le,j.style.position="fixed",j.style.left="-999999px",j.style.top="-999999px",document.body.appendChild(j),j.focus(),j.select(),document.execCommand("copy"),j.remove()}qe.value.set(F,{isCopying:!1,text:"已复制"}),ElMessage.success("消息已复制到剪贴板"),setTimeout(()=>{qe.value.set(F,{isCopying:!1,text:"复制"})},2e3)}catch(le){console.error("复制失败:",le),qe.value.set(F,{isCopying:!1,text:"复制失败"}),ElMessage.error("复制失败，请手动选择文本复制"),setTimeout(()=>{qe.value.set(F,{isCopying:!1,text:"复制"})},2e3)}},Ft=async H=>{try{const F=f.value.findIndex(_e=>_e.id&&_e.id===H.id||_e.timestamp&&_e.timestamp===H.timestamp);if(F===-1){ElMessage.error("无法找到要重新生成的消息");return}let Q=-1;for(let _e=F-1;_e>=0;_e--)if(f.value[_e].role==="user"){Q=_e;break}let le;if(Q===-1){const _e=f.value[F];_e.hasStockInfo||_e.stockList||_e.content.includes("智能荐股")||_e.content.includes("推荐")?le={content:"智能荐股"}:_e.isNewsUpdate||_e.content.includes("资讯")||_e.content.includes("新闻")?le={content:"资讯推送"}:_e.hasAssetInfo||_e.assetData||_e.content.includes("资产")||_e.content.includes("持仓")?le={content:"我的资产分析"}:_e.isWatchlistDisplay||_e.watchlistData||_e.content.includes("自选股")?le={content:"查看自选股"}:le={content:"请重新生成回复"}}else le=f.value[Q];const j=f.value[F];j.content="",j.isGenerating=!0,j.timestamp=Date.now(),f.value=[...f.value],s.saveChatHistory(),ElMessage.info("正在重新生成回复..."),await nextTick(),await new Promise(_e=>setTimeout(_e,200)),y.value=!0,w.value=new AbortController;try{let _e=s.currentChatId;_e||(_e=await s.createNewChat()),await authFetchEventSource(`${api.devPrefix}${api.chatStreamApi}?conversationId=${_e}&userInput=${encodeURIComponent(le.content)}`,{method:"GET",headers:{Accept:"text/event-stream","Cache-Control":"no-cache"},signal:w.value.signal,onopen:async fe=>{console.log("重新生成 - 流式连接已建立")},onmessage:fe=>{try{const Me=fe.data;if(Me.trim().length===0)return;const kt=f.value[F];kt&&kt.role==="assistant"&&(kt.content+=Me,kt.isGenerating=!1,requestAnimationFrame(()=>{T()}))}catch(Me){console.error("重新生成 - 解析消息时出错:",Me)}},onclose:()=>{console.log("重新生成 - 流式连接已关闭"),y.value=!1,w.value=null},onerror:fe=>{console.error("重新生成 - 流式连接错误:",fe),y.value=!1,w.value=null;const Me=f.value[F];Me&&Me.role==="assistant"&&(Me.content?Me.content+=`

[连接中断]`:Me.content="[连接中断]",Me.isGenerating=!1,f.value=[...f.value]),ElMessage.error("重新生成失败，连接中断")}})}catch(_e){console.error("重新生成失败:",_e),y.value=!1,w.value=null;const fe=f.value[F];fe&&fe.role==="assistant"&&(fe.content?fe.content+=`

[请求失败]`:fe.content="[请求失败]",fe.isGenerating=!1,f.value=[...f.value]),ElMessage.error("重新生成失败，请稍后重试")}}catch(F){console.error("重新生成消息失败:",F),ElMessage.error("重新生成失败，请稍后重试")}},zt=async()=>{if(g("使用智能荐股功能")){console.log("🚀 智能荐股 - 设置生成状态"),y.value=!0;try{if(await new Promise(H=>setTimeout(H,800)),!y.value){console.log("🚀 智能荐股 - 操作被用户中断");return}await ke(e,s,f,b,T,R,Mt,()=>y.value)}finally{console.log("🚀 智能荐股 - 重置生成状态"),y.value=!1}}};watch(()=>e.isLoggedIn,H=>{H?nextTick(()=>{e.shouldShowOnboarding()&&(Oe.value=!0)}):Oe.value=!1});const is=async()=>{if(g("获取资讯推送")){console.log("🚀 资讯推送 - 设置生成状态"),y.value=!0;try{if(await new Promise(H=>setTimeout(H,800)),!y.value){console.log("🚀 资讯推送 - 操作被用户中断");return}await Pe(e,f,b,T,R,Mt,()=>y.value)}finally{console.log("🚀 资讯推送 - 重置生成状态"),y.value=!1}}},Ut=async()=>{if(g("进行资产分析")){console.log("🚀 资产分析 - 设置生成状态"),y.value=!0;try{if(await new Promise(H=>setTimeout(H,800)),!y.value){console.log("🚀 资产分析 - 操作被用户中断");return}await me(e,f,b,T,R,Mt,()=>y.value)}finally{console.log("🚀 资产分析 - 重置生成状态"),y.value=!1}}},Ht=async()=>{if(g("查看自选股")){console.log("🚀 自选股查看 - 设置生成状态"),y.value=!0;try{if(await new Promise(le=>setTimeout(le,800)),!y.value){console.log("🚀 自选股查看 - 操作被用户中断");return}if(b.value=!0,f.value.push({role:"user",content:"查看我的自选股列表"},{role:"assistant",content:"",isGenerating:!0}),!y.value){console.log("🚀 自选股查看 - 在数据处理前被中断");return}if(e.watchlist.length===0){const le=[{code:"600519",name:"贵州茅台",industry:"食品饮料",addedAt:"2024-01-15T09:30:00.000Z",price:"1680.50",change:"+28.50",changePercent:"+1.72%"},{code:"000001",name:"平安银行",industry:"银行",addedAt:"2024-01-14T10:15:00.000Z",price:"12.68",change:"-0.15",changePercent:"-1.17%"},{code:"300750",name:"宁德时代",industry:"新能源",addedAt:"2024-01-13T14:20:00.000Z",price:"485.20",change:"+12.30",changePercent:"+2.60%"},{code:"000858",name:"五粮液",industry:"食品饮料",addedAt:"2024-01-12T11:45:00.000Z",price:"52.30",change:"-1.20",changePercent:"-2.24%"},{code:"002415",name:"海康威视",industry:"电子",addedAt:"2024-01-11T13:30:00.000Z",price:"28.90",change:"+0.45",changePercent:"+1.58%"}];e.watchlist.push(...le),localStorage.setItem("watchlist",JSON.stringify(e.watchlist)),ElMessage.info("已为您添加示例自选股数据")}const H=e.watchlist.map(le=>p(le)),F=`📋 **我的自选股列表**

您当前关注 **${e.watchlist.length}** 只股票，详细信息如下：`,Q=f.value[f.value.length-1];Q&&Q.role==="assistant"&&(Q.content=F,Q.isGenerating=!1,Q.hasWatchlistInfo=!0,Q.watchlistData=H,Q.isWatchlistDisplay=!0,Q.hasInteractionButtons=!0,Q.interactionData={recommendActions:[{id:"analyze_overall",icon:"📊",description:"分析整体表现",actionType:"analyze",prompt:"分析我的自选股整体表现"},{id:"trading_advice",icon:"💰",description:"获取交易建议",actionType:"advice",prompt:"给出我的自选股交易建议"},{id:"related_recommend",icon:"🔥",description:"相关热门推荐",actionType:"recommend",prompt:"推荐与我自选股相关的热门股票"}]},Q.watchlistStats={total:e.watchlist.length,upCount:H.filter(le=>le.changePct>=0).length,downCount:H.filter(le=>le.changePct<0).length,bestPerformer:H.sort((le,j)=>j.changePct-le.changePct)[0],worstPerformer:H.sort((le,j)=>le.changePct-j.changePct)[0],updateTime:new Date().toLocaleString("zh-CN")},f.value=[...f.value]),await nextTick(),T(),ElMessage.success("已显示您的自选股列表"),R.value&&setTimeout(()=>{R.value=!1},300)}finally{console.log("🚀 自选股查看 - 重置生成状态"),y.value=!1}}},rs=async H=>{const{type:F,content:Q,title:le}=H;let j;switch(F){case"stock":j=`请详细分析一下${Q.name}(${Q.code})这只股票，包括基本面分析、技术面分析、投资建议和风险提示。`;break;case"message":j=`请分析"${le}"这条市场消息对相关板块和个股的具体影响，并评估潜在投资机会。消息内容：${Q}`;break;case"market":j=`请分析一下${Q.name}当前的走势，包括技术指标分析和后市预判。`;break;case"strategy":j=`请详细分析"${Q.name}"量化策略的具体实施方案，包括：
1. 策略原理和适用市场环境
2. 具体的交易规则和参数设置
3. 风险控制措施和止损策略
4. 预期收益和最大回撤分析
5. 实际操作建议和注意事项

策略信息：
- 策略类型：${Q.name}
- 风险等级：${Q.riskText}
- 预期年化收益：${Q.annualReturn}%
- 最大回撤：${Q.maxDrawdown}%
- 夏普比率：${Q.sharpeRatio}`;break;case"signal":j=`请分析"${Q.name}(${Q.code})"的交易信号，详细说明：
1. 信号产生的技术原理
2. 当前市场环境是否适合该信号
3. 具体的买入/卖出建议和时机
4. 风险评估和止损位设置
5. 后续跟踪要点

信号详情：
- 股票：${Q.name}(${Q.code})
- 信号类型：${Q.signal==="buy"?"买入":"卖出"}
- 策略：${Q.strategy}
- 当前价格：¥${Q.price}
- 置信度：${Q.confidence}%
- 信号时间：${Q.time}`;break;case"factor":j=`请分析多因子选股模型的应用，包括：
1. 各因子的有效性分析
2. 因子权重配置建议
3. 选股策略优化方案
4. 风险控制和组合管理
5. 实际操作指导

请基于当前市场环境给出具体的多因子选股建议。`;break;case"backtest":j=`请分析量化策略的回测结果，包括：
1. 回测结果的可信度评估
2. 策略优缺点分析
3. 市场适应性评价
4. 实盘交易建议
5. 风险提示和改进方向

请帮我解读这些回测数据的实际意义。`;break;case"show-ai-trading-dialog":tt.value=!0,pt.value=Q;return;default:typeof Q=="string"?j=Q:Q&&typeof Q=="object"?j=Q.name||Q.title||Q.text||JSON.stringify(Q):j=String(Q||"请提供具体的市场分析和投资建议")}if(!e.isLoggedIn){ElMessage.warning("请先登录后再开始对话"),Mt("login");return}b.value=!0,typeof j!="string"&&(j=String(j||"请提供具体的市场分析和投资建议"));const _e=await mockApi.sendMessage(j);f.value.push({role:"user",content:j},_e.data),await nextTick(),T(),ElMessage.success("已为您分析相关内容")},qt=H=>{e.addToWatchlist(H)?(ElMessage.success(`${H.name} 已加入自选股`),Wt()):ElMessage.warning(`${H.name} 已在自选股中`)},jt=H=>{e.removeFromWatchlist(H)?(ElMessage.success("已从自选股中移除"),Wt()):ElMessage.error("移除失败")},Wt=()=>{f.value.forEach(H=>{if(H.isWatchlistDisplay&&H.watchlistData){const F=e.watchlist.map(Q=>p(Q));H.watchlistData=F,H.watchlistStats&&(H.watchlistStats.total=F.length,H.watchlistStats.upCount=F.filter(Q=>Q.changePct>=0).length,H.watchlistStats.downCount=F.filter(Q=>Q.changePct<0).length,H.watchlistStats.bestPerformer=F.length>0?F.sort((Q,le)=>le.changePct-Q.changePct)[0]:null,H.watchlistStats.worstPerformer=F.length>0?F.sort((Q,le)=>Q.changePct-le.changePct)[0]:null)}H.hasAssetInfo&&H.assetData&&H.assetData.watchlistData&&(H.assetData.watchlistData=e.watchlist.map(F=>p(F)),H.assetData.watchlistCount=e.watchlist.length)})},ls=async(H,F=!1)=>{s.currentChatId||await s.createNewChat();const Q=s.currentChatId;console.log("当前聊天ID:",Q),f.value.push({role:"assistant",content:"",isGenerating:!0,hasStockInfo:!1,stockInfo:H});try{let le="";const j=new AbortController;authFetchEventSource(`${api.devPrefix}${api.analyzeStockApi}?conversationId=${Q}&stock=${encodeURIComponent(H.code)}`,{method:"GET",signal:j.signal,retryInterval:0,backoffMultiplier:0,onopen:async _e=>{console.log("连接成功")},onmessage:_e=>{try{console.log("量化分析：收到数据:",_e.data);let fe=_e.data;fe.trim().length===0&&(fe+=" "),le+=fe;const Me=f.value[f.value.length-1];Me.content=le,Me.isGenerating=!1,f.value=[...f.value],requestAnimationFrame(()=>{T()})}catch(fe){console.error("解析错误:",fe)}},onclose:()=>{f.value[f.value.length-1].hasStockInfo=!0,f.value[f.value.length-1].isQuantAnalysis=!0,console.log("连接关闭")},onerror:_e=>{throw j.abort(),le+=`

[${_e.message||"请求中断"}]`,_e}})}catch{aiContent="响应失败，请重试",f.value=[...f.value]}},Et=computed(()=>getStockActionConfig("watchlist",{isMobile:K.value,maxButtons:K.value?3:4})),Gt=computed(()=>getStockActionConfig("portfolio",{isMobile:K.value,maxButtons:K.value?3:4})),$t=({action:H,stock:F})=>{console.log("执行股票操作:",H,F);const le={addWatchlist:()=>qt(F),removeWatchlist:()=>jt(F.code),analysis:()=>mt(F,e,ls),aiTrading:()=>Ke(F),buy:()=>ze(F,"buy"),addPosition:()=>ze(F,"buy"),sell:()=>ze(F,"sell")}[H];le?le():typeof H=="function"?H():(console.error("未知的股票操作类型:",H),ElMessage.error("股票操作配置错误"))},Kt=$t,Dt=$t,At=$t,cs=$t,ds=H=>({...getStockListConfig("smartRecommendation"),toolbarTitle:"智能荐股推荐",timestamp:H.timestamp,showToolbar:H.isPersistent}),vt=H=>{console.log("点击了股票:",H)},us=H=>H.isBuyMode?getStockActionConfig("chatCompact",{isMobile:K.value,maxButtons:2}):getStockActionConfig("chatFull",{isMobile:K.value,maxButtons:K.value?3:4}),ps=H=>{setTimeout(()=>{f.value.push({role:"assistant",content:`欢迎使用智投小助！根据您的投资偏好（${be(H.riskLevel)}），我将为您提供个性化的投资建议。您可以问我任何关于投资的问题。`}),nextTick(()=>{T()})},500)},Mt=H=>{switch(H){case"login":d(!1);break;case"register":d(!0);break}},Yt=()=>{P.checkMobileView(),I(),K.value&&b.value&&setTimeout(()=>{P.fixMobileChatBox(b.value),T()},100)};onMounted(()=>{if(T(),e.isLoggedIn&&e.shouldShowOnboarding()&&(Oe.value=!0),P.initializeMobileBrowserDetection(),P.preventZoom(),S(),P.checkMobileView(),P.setDynamicViewportHeight(),I(),_t(),Ie($),Se.value&&document.body.classList.add("wechat-browser"),P.initializeMobileBrowserDetection(),P.preventZoom(),s.currentChatId){const H=s.getCurrentChat;H&&(f.value=[...H.messages],b.value=f.value.length>0)}window.addEventListener("resize",Yt),nextTick(()=>{E.value&&!E.value.hasScrollListener&&(E.value.addEventListener("scroll",B,{passive:!0}),E.value.hasScrollListener=!0)}),K.value&&(P.resetMobileLayout(b.value,D),P.handleMobileKeyboard(T),setTimeout(()=>{P.fixMobileChatBox(b.value),P.ensureMobileFixApplied(b.value)},100),setTimeout(()=>{console.log("二次检查移动端修复效果"),P.fixMobileChatBox(b.value),P.ensureMobileFixApplied(b.value)},500),P.setupMobileViewportListeners(T))}),onUnmounted(()=>{E.value&&E.value.removeEventListener("scroll",B),Je(),window.removeEventListener("resize",Yt),window.visualViewport&&(window.visualViewport.removeEventListener("resize",()=>{}),window.visualViewport.removeEventListener("scroll",()=>{})),window.removeEventListener("orientationchange",()=>{})});const hs=()=>{J.value=!1},ms=()=>{M.value=!1},Jt=async(H,F)=>{console.log("交互操作按钮被点击:",H,F);let Q="";if(F.isNewsUpdate)switch(H.actionType){case"analysis":Q=`基于今日财经资讯分析对我的持仓影响：
                
${F.interactionData.newsItems.map(le=>`- ${le.title}: ${le.summary}`).join(`
`)}

请详细分析：
1. 这些资讯对我持仓股票的具体影响
2. 哪些持仓可能受到正面/负面影响
3. 建议调整的仓位和原因
4. 短期和中期的应对策略
5. 风险提示和机会识别

请结合我的实际持仓情况给出个性化建议。`;break;case"opportunity":Q=`基于今日财经资讯寻找投资机会：

相关资讯：
${F.interactionData.newsItems.map(le=>`- ${le.title}: ${le.summary}`).join(`
`)}

受益板块：${F.interactionData.affectedSectors.join("、")}

请分析：
1. 这些资讯催生的具体投资机会
2. 推荐关注的个股和理由
3. 最佳买入时机和价位
4. 预期收益和风险评估
5. 资金配置建议

请为我筛选出3-5只最有潜力的投资标的。`;break;case"risk":Q=`基于今日财经资讯进行风险排查：

相关资讯：
${F.interactionData.newsItems.map(le=>`- ${le.title}: ${le.summary}`).join(`
`)}

请帮我排查：
1. 我的持仓中哪些股票可能面临风险
2. 宏观政策变化的影响程度
3. 行业轮动对投资组合的影响
4. 需要设置止损的股票和位置
5. 资产配置优化建议

请制定详细的风险控制方案。`;break}else if(F.isReview)switch(H.actionType){case"portfolio":Q=`基于智能复盘结果优化投资组合：

市场表现：
- 上证指数：${F.interactionData.marketPerformance.shangzheng.value}点 (${F.interactionData.marketPerformance.shangzheng.change>0?"+":""}${F.interactionData.marketPerformance.shangzheng.change}%)
- 深证成指：${F.interactionData.marketPerformance.shenzhen.value}点 (${F.interactionData.marketPerformance.shenzhen.change>0?"+":""}${F.interactionData.marketPerformance.shenzhen.change}%)
- 创业板指：${F.interactionData.marketPerformance.chuangye.value}点 (${F.interactionData.marketPerformance.chuangye.change>0?"+":""}${F.interactionData.marketPerformance.chuangye.change}%)

请基于复盘结果提供：
1. 投资组合优化建议
2. 仓位调整方案
3. 行业配置建议
4. 个股替换建议
5. 风险控制措施`;break;case"hotspot":Q=`基于复盘结果分析热点板块投资机会：

当前热点：新能源汽车、人工智能、医药生物

请分析：
1. 各热点板块的投资逻辑
2. 推荐的龙头股票和理由
3. 最佳介入时机和策略
4. 预期收益和风险评估
5. 资金分配建议

请为我制定热点跟进策略。`;break;case"risk":Q=`基于复盘结果制定风险控制策略：

请帮我制定：
1. 今日交易风险控制方案
2. 止损止盈位设置建议
3. 仓位管理优化方案
4. 市场异常情况应对策略
5. 风险预警机制设置

请提供具体可执行的风控措施。`;break;case"strategy":Q=`基于复盘结果制定投资策略：

请帮我规划：
1. 短期（1周）投资策略
2. 中期（1个月）投资策略
3. 长期（3个月）投资策略
4. 资产配置优化方案
5. 投资节奏控制建议

请提供完整的策略执行方案。`;break}else if(F.isWatchlistDisplay)switch(H.actionType){case"analyze":Q=H.prompt||"分析我的自选股整体表现";break;case"advice":Q=H.prompt||"给出我的自选股交易建议";break;case"recommend":Q=H.prompt||"推荐与我自选股相关的热门股票";break}if(Q){const le=await mockApi.sendMessage(Q);f.value.push({role:"user",content:H.description||Q},le.data),await nextTick(),T(),ElMessage.success("已为您生成分析结果")}},fs=H=>{Oe.value=!1,H&&H.profile&&setTimeout(()=>{f.value.push({role:"assistant",content:`🎉 欢迎使用智投小助！根据您的投资风格（${H.profile.riskLabel}），我将为您提供个性化的投资建议。

您可以随时问我关于投资的任何问题，我会基于您的偏好为您量身定制答案。`})},500)},vs=H=>{Oe.value=!1,b.value=!0,setTimeout(()=>{const F=`请详细分析一下${H.name}(${H.code})这只股票，包括基本面分析、技术面分析、投资建议和风险提示。`;$.value=F,O()},300)},gs=async H=>{const{type:F,task:Q,suggestion:le}=H;switch(F){case"diagnosis":ElMessage.success("AI诊断功能已体验完成！");break;case"mock-trade":ElMessage.success("模拟交易功能已体验完成！");break;case"risk-control":ElMessage.success("风控设置功能已体验完成！");break;case"auto-invest":Oe.value=!1,b.value=!0,setTimeout(()=>{$.value=`一键设置：${le}`,O()},300);break;default:console.log("未知操作类型:",F)}},Rt=H=>{console.log("🚀 点击快捷操作:",H);try{if(H.isDefault){const Q={smart_review:()=>dt(`智能复盘：请帮我进行全面的智能投资复盘分析，包括：

1. 市场整体走势分析（主要指数表现、板块轮动）
2. 我的投资组合表现分析和风险评估
3. 基于AI算法的策略优化建议
4. 市场情绪和技术指标综合分析
5. 个性化的下一步操作建议
6. 风险预警和机会识别
7. 智能资产配置优化方案

请结合我的投资风格和市场大数据，给出专业的智能化复盘建议。`),watchlist:Ht,smart_recommendation:zt,news_update:is,asset_analysis:Ut}[H.action];Q?Q():typeof H.action=="function"?H.action():(console.error("未知的快捷操作类型:",H.action),ElMessage.error("快捷操作配置错误"))}else H.prompt?dt(H.prompt):(console.error("自定义快捷操作缺少prompt:",H),ElMessage.error("自定义快捷操作配置错误"))}catch(F){console.error("执行快捷操作失败:",F),ElMessage.error("执行快捷操作时发生错误")}},Pt=()=>{lt.value=!0},Lt=ref(null),Xt=ref(null),Qt=()=>{console.log("🔄 快捷操作更新事件触发"),ft("handleShortcutsUpdated"),K.value&&R.value&&(console.log("📱 移动端快捷操作弹窗刷新"),R.value=!1,nextTick(()=>{R.value=!0}))};return onMounted(()=>{_t()}),(H,F)=>{var le;const Q=resolveComponent("el-button");return openBlock(),createElementBlock("div",{class:normalizeClass(["main-modern",{"onboarding-active":Oe.value,"with-chat-history":He.value}])},[createVNode(TopNavbar,{onShowLogin:unref(d),onShowProfile:wt,onShowPreferences:xt,onShowRecords:pe,onShowMobileMenu:unref(W)},null,8,["onShowLogin","onShowMobileMenu"]),unref(e).isLoggedIn?(openBlock(),createBlock(ChatHistory,{key:0,visible:He.value,"current-chat-id":unref(s).currentChatId,"chat-history":unref(f),onLoadChat:unref(L),onCreateNewChat:unref(U),onRenameChat:unref(Y),onDeleteChat:unref(se),onClosePanel:je,ref_key:"chatHistoryComponentRef",ref:Ze},null,8,["visible","current-chat-id","chat-history","onLoadChat","onCreateNewChat","onRenameChat","onDeleteChat"])):createCommentVNode("",!0),withDirectives(createBaseVNode("button",{class:"floating-sidebar-toggle",onClick:Ye,title:"打开功能面板"},F[17]||(F[17]=[createBaseVNode("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M3 12h18m-9 9l9-9-9-9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),512),[[vShow,Fe.value]]),createBaseVNode("main",{class:normalizeClass(["modern-content main-container",{chatting:unref(b),"with-sidebar":unref(e).isLoggedIn,"with-chat-history":He.value}]),onClick:Tt},[Oe.value?(openBlock(),createBlock(OnboardingFlow,{key:0,onComplete:fs,onAnalyzeStock:vs,onExecuteAction:gs})):unref(b)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_1,[unref(e).isLoggedIn?(openBlock(),createBlock(WelcomePerformanceHeader,{key:0,"performance-data":q.value,"user-name":(le=unref(e).userInfo)==null?void 0:le.nickname},null,8,["performance-data","user-name"])):createCommentVNode("",!0),unref(e).isLoggedIn?createCommentVNode("",!0):(openBlock(),createBlock(WelcomeGuestHeader,{key:1})),createBaseVNode("div",{class:normalizeClass(["welcome-section",{"with-performance":unref(e).isLoggedIn}])},[createVNode(QuickExamples,{onExampleClick:Vt})],2),unref(K)?(openBlock(),createElementBlock("div",_hoisted_2,[createVNode(AIInputCard,{modelValue:unref($),"onUpdate:modelValue":F[0]||(F[0]=j=>isRef($)?$.value=j:null),"show-history-button":unref(e).isLoggedIn&&!He.value,"is-chat-mode":!1,"is-mobile-view":unref(K),"is-recording":unref(Ne),"recording-duration":unref(Ve),"is-generating":unref(y),"show-chat-shortcuts":R.value,"is-logged-in":unref(e).isLoggedIn,"show-chat-history":He.value,onSendMessage:O,onToggleChatHistory:bt,onVoiceClick:ae,onStopGeneration:unref(v),onToggleChatShortcuts:Ee},null,8,["modelValue","show-history-button","is-mobile-view","is-recording","recording-duration","is-generating","show-chat-shortcuts","is-logged-in","show-chat-history","onStopGeneration"]),createVNode(ShortcutsBar,{mode:"initial","show-shortcuts":!0,"show-chat-shortcuts":R.value,"is-mobile-view":unref(K),"is-logged-in":unref(e).isLoggedIn,onShortcutClick:Rt,onCustomizeDialogOpen:Pt,onToggleChatShortcuts:Ee,ref_key:"shortcutsBarRef",ref:Lt},null,8,["show-chat-shortcuts","is-mobile-view","is-logged-in"])])):(openBlock(),createElementBlock(Fragment,{key:3},[createVNode(AIInputCard,{modelValue:unref($),"onUpdate:modelValue":F[1]||(F[1]=j=>isRef($)?$.value=j:null),"show-history-button":unref(e).isLoggedIn&&!He.value,"is-chat-mode":!1,"is-mobile-view":unref(K),"is-recording":unref(Ne),"recording-duration":unref(Ve),"is-generating":unref(y),"show-chat-shortcuts":R.value,"is-logged-in":unref(e).isLoggedIn,"show-chat-history":He.value,onSendMessage:O,onToggleChatHistory:bt,onVoiceClick:ae,onStopGeneration:unref(v),onToggleChatShortcuts:Ee},null,8,["modelValue","show-history-button","is-mobile-view","is-recording","recording-duration","is-generating","show-chat-shortcuts","is-logged-in","show-chat-history","onStopGeneration"]),createVNode(ShortcutsBar,{mode:"initial","show-shortcuts":!0,"show-chat-shortcuts":R.value,"is-mobile-view":unref(K),"is-logged-in":unref(e).isLoggedIn,onShortcutClick:Rt,onCustomizeDialogOpen:Pt,onToggleChatShortcuts:Ee,ref_key:"shortcutsBarRef",ref:Lt},null,8,["show-chat-shortcuts","is-mobile-view","is-logged-in"])],64))])),unref(b)&&unref(f).length?(openBlock(),createElementBlock("div",{key:2,class:"chat-history-area chat-area",ref_key:"chatHistoryRef",ref:E},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(f),(j,_e)=>(openBlock(),createElementBlock("div",{key:_e,class:normalizeClass(["chat-message",j.role])},[createBaseVNode("div",_hoisted_3,[j.role==="assistant"&&(j.isGenerating||!j.content&&unref(y)&&_e===unref(f).length-1)?(openBlock(),createElementBlock("div",_hoisted_4,F[18]||(F[18]=[createStaticVNode('<div class="generating-content-inline" data-v-c44626eb><div class="generating-dots" data-v-c44626eb><span class="dot" data-v-c44626eb></span><span class="dot" data-v-c44626eb></span><span class="dot" data-v-c44626eb></span></div><span class="generating-label" data-v-c44626eb>AI正在思考中...</span></div>',1)]))):j.content&&!j.isGenerating?(openBlock(),createElementBlock("div",_hoisted_5,[createVNode(MarkdownRenderer,{content:j.content},null,8,["content"])])):createCommentVNode("",!0),j.hasInteractionButtons&&j.interactionData&&!j.isWatchlistDisplay?(openBlock(),createElementBlock("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[F[19]||(F[19]=createTextVNode(" 💡 ")),createBaseVNode("span",_hoisted_8,toDisplayString(j.isNewsUpdate?"基于这些资讯，我建议您可以：":"基于复盘结果，我建议您可以："),1)]),createBaseVNode("div",_hoisted_9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(j.interactionData.recommendActions,fe=>(openBlock(),createElementBlock("div",{key:fe.id,onClick:Me=>Jt(fe,j),class:"suggestion-item"},[createBaseVNode("span",_hoisted_11,toDisplayString(fe.icon),1),createBaseVNode("span",_hoisted_12,toDisplayString(fe.description),1),F[20]||(F[20]=createBaseVNode("span",{class:"suggestion-arrow"},"→",-1))],8,_hoisted_10))),128))])])):createCommentVNode("",!0),j.hasStockInfo&&j.stockInfo?(openBlock(),createElementBlock("div",_hoisted_13,[createVNode(StockActionButtons,{stock:j.stockInfo,actions:us(j),"is-mobile":unref(K),mode:j.isBuyMode?"minimal":"compact",onActionClick:unref(cs),onAddWatchlist:qt,onRemoveWatchlist:F[2]||(F[2]=fe=>jt(fe.code)),onShowBuyDialog:unref(ze),onShowAiTradingDialog:unref(Ke)},null,8,["stock","actions","is-mobile","mode","onActionClick","onShowBuyDialog","onShowAiTradingDialog"]),j.isQuantAnalysis?(openBlock(),createBlock(Q,{key:0,size:"small",onClick:fe=>unref(ye)(j),class:"reminder-btn-small"},{default:withCtx(()=>[F[21]||(F[21]=createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z",fill:"currentColor"})],-1)),F[22]||(F[22]=createTextVNode(" 设置提醒 ")),unref(Ge).filter(fe=>fe.isActive).length>0?(openBlock(),createElementBlock("span",_hoisted_14,toDisplayString(unref(Ge).filter(fe=>fe.isActive).length),1)):createCommentVNode("",!0)]),_:2,__:[21,22]},1032,["onClick"])):createCommentVNode("",!0)])):createCommentVNode("",!0),j.isWatchlistDisplay&&j.watchlistData?(openBlock(),createElementBlock("div",_hoisted_15,[createBaseVNode("div",_hoisted_16,[createBaseVNode("div",_hoisted_17,[createBaseVNode("div",_hoisted_18,[F[24]||(F[24]=createBaseVNode("div",{class:"stat-icon"},"⭐",-1)),createBaseVNode("div",_hoisted_19,[createBaseVNode("span",_hoisted_20,toDisplayString(j.watchlistStats.total),1),F[23]||(F[23]=createBaseVNode("span",{class:"stat-label"},"关注",-1))])]),createBaseVNode("div",_hoisted_21,[F[26]||(F[26]=createBaseVNode("div",{class:"stat-icon"},"📈",-1)),createBaseVNode("div",_hoisted_22,[createBaseVNode("span",_hoisted_23,toDisplayString(j.watchlistStats.upCount),1),F[25]||(F[25]=createBaseVNode("span",{class:"stat-label"},"上涨",-1))])]),createBaseVNode("div",_hoisted_24,[F[28]||(F[28]=createBaseVNode("div",{class:"stat-icon"},"📉",-1)),createBaseVNode("div",_hoisted_25,[createBaseVNode("span",_hoisted_26,toDisplayString(j.watchlistStats.downCount),1),F[27]||(F[27]=createBaseVNode("span",{class:"stat-label"},"下跌",-1))])])])]),unref(K)?(openBlock(),createBlock(MobileStockList,{key:1,stocks:j.watchlistData,"show-watchlist-status":!0,"show-details":!0,actions:Et.value,onStockClick:vt,onActionClick:unref(Dt)},null,8,["stocks","actions","onActionClick"])):(openBlock(),createBlock(StockList,{key:0,stocks:j.watchlistData,"show-watchlist-status":!0,"show-basic-details":!0,actions:Et.value,onStockClick:vt,onActionClick:unref(Dt)},null,8,["stocks","actions","onActionClick"])),j.hasInteractionButtons&&j.interactionData?(openBlock(),createElementBlock("div",_hoisted_27,[F[30]||(F[30]=createBaseVNode("div",{class:"suggestion-intro"},[createTextVNode(" 💡 "),createBaseVNode("span",{class:"intro-text"},"基于您的自选股，建议您可以：")],-1)),createBaseVNode("div",_hoisted_28,[(openBlock(!0),createElementBlock(Fragment,null,renderList(j.interactionData.recommendActions,fe=>(openBlock(),createElementBlock("div",{key:fe.id,onClick:Me=>Jt(fe,j),class:"suggestion-item"},[createBaseVNode("span",_hoisted_30,toDisplayString(fe.icon),1),createBaseVNode("span",_hoisted_31,toDisplayString(fe.description),1),F[29]||(F[29]=createBaseVNode("span",{class:"suggestion-arrow"},"→",-1))],8,_hoisted_29))),128))]),j.watchlistStats?(openBlock(),createElementBlock("div",_hoisted_32," 数据更新时间："+toDisplayString(j.watchlistStats.updateTime),1)):createCommentVNode("",!0)])):createCommentVNode("",!0)])):createCommentVNode("",!0),j.hasAssetInfo&&j.assetData?(openBlock(),createElementBlock("div",_hoisted_33,[createBaseVNode("div",_hoisted_34,[createBaseVNode("div",_hoisted_35,[F[31]||(F[31]=createBaseVNode("h3",{class:"account-title"},"📊 我的股票账户",-1)),createBaseVNode("div",_hoisted_36,toDisplayString(unref(z)(j.timestamp)),1)])]),createBaseVNode("div",_hoisted_37,[createBaseVNode("div",_hoisted_38,[createBaseVNode("div",_hoisted_39,[createBaseVNode("div",_hoisted_40,[F[32]||(F[32]=createBaseVNode("span",{class:"amount-label"},"总资产",-1)),createBaseVNode("span",_hoisted_41,"¥"+toDisplayString(unref(formatCurrency)(j.assetData.totalAssets)),1)]),createBaseVNode("div",{class:normalizeClass(["asset-change",[j.assetData.totalProfitPercent>=0?"profit":"loss"]])},[createBaseVNode("span",_hoisted_42,toDisplayString(j.assetData.totalProfitPercent>=0?"📈":"📉"),1),F[33]||(F[33]=createBaseVNode("span",{class:"change-label"},"今日盈亏：",-1)),createBaseVNode("span",_hoisted_43,toDisplayString(j.assetData.totalProfitPercent>=0?"+":"")+"¥"+toDisplayString(j.assetData.totalProfit)+" ("+toDisplayString(j.assetData.totalProfitPercent>=0?"+":"")+toDisplayString(j.assetData.totalProfitPercent)+"%) ",1)],2)])]),createBaseVNode("div",_hoisted_44,[createBaseVNode("div",_hoisted_45,[F[35]||(F[35]=createBaseVNode("div",{class:"stat-icon cash"},"💵",-1)),createBaseVNode("div",_hoisted_46,[F[34]||(F[34]=createBaseVNode("div",{class:"stat-label"},"可用资金",-1)),createBaseVNode("div",_hoisted_47,"¥"+toDisplayString(unref(formatCurrency)(j.assetData.balance)),1)])]),createBaseVNode("div",_hoisted_48,[F[37]||(F[37]=createBaseVNode("div",{class:"stat-icon portfolio"},"📊",-1)),createBaseVNode("div",_hoisted_49,[F[36]||(F[36]=createBaseVNode("div",{class:"stat-label"},"持仓市值",-1)),createBaseVNode("div",_hoisted_50,"¥"+toDisplayString(unref(formatCurrency)(j.assetData.portfolioValue)),1)])]),createBaseVNode("div",_hoisted_51,[F[39]||(F[39]=createBaseVNode("div",{class:"stat-icon stocks"},"🏢",-1)),createBaseVNode("div",_hoisted_52,[F[38]||(F[38]=createBaseVNode("div",{class:"stat-label"},"持仓股票",-1)),createBaseVNode("div",_hoisted_53,toDisplayString(j.assetData.portfolioCount)+"只",1)])]),createBaseVNode("div",_hoisted_54,[F[41]||(F[41]=createBaseVNode("div",{class:"stat-icon watchlist"},"⭐",-1)),createBaseVNode("div",_hoisted_55,[F[40]||(F[40]=createBaseVNode("div",{class:"stat-label"},"自选股票",-1)),createBaseVNode("div",_hoisted_56,toDisplayString(j.assetData.watchlistCount)+"只",1)])])])]),createBaseVNode("div",_hoisted_57,[createBaseVNode("div",_hoisted_58,[createBaseVNode("div",{class:normalizeClass(["tab-item",{active:ct.value==="portfolio"}]),onClick:F[3]||(F[3]=fe=>ct.value="portfolio")}," 📈 持仓明细 ("+toDisplayString(j.assetData.portfolioCount)+") ",3),createBaseVNode("div",{class:normalizeClass(["tab-item",{active:ct.value==="watchlist"}]),onClick:F[4]||(F[4]=fe=>ct.value="watchlist")}," ⭐ 自选股票 ("+toDisplayString(j.assetData.watchlistCount)+") ",3)]),createBaseVNode("div",_hoisted_59,[ct.value==="portfolio"?(openBlock(),createElementBlock("div",_hoisted_60,[j.assetData.portfolioData.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[unref(K)?(openBlock(),createBlock(MobileStockList,{key:1,stocks:j.assetData.portfolioData,"show-position-status":!0,"show-details":!0,actions:Gt.value,onStockClick:vt,onActionClick:unref(At)},null,8,["stocks","actions","onActionClick"])):(openBlock(),createBlock(StockList,{key:0,stocks:j.assetData.portfolioData,"show-position-status":!0,"show-position-details":!0,"show-basic-details":!1,actions:Gt.value,onStockClick:vt,onActionClick:unref(At)},null,8,["stocks","actions","onActionClick"]))],64)):(openBlock(),createElementBlock("div",_hoisted_61,F[42]||(F[42]=[createBaseVNode("div",{class:"empty-icon"},"📊",-1),createBaseVNode("div",{class:"empty-text"},[createBaseVNode("h4",null,"暂无持仓"),createBaseVNode("p",null,"您还没有购买任何股票，可以通过AI分析后进行投资")],-1)])))])):createCommentVNode("",!0),ct.value==="watchlist"?(openBlock(),createElementBlock("div",_hoisted_62,[j.assetData.watchlistData.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[unref(K)?(openBlock(),createBlock(MobileStockList,{key:1,stocks:j.assetData.watchlistData,"show-watchlist-status":!0,"show-details":!0,actions:Et.value,onStockClick:vt,onActionClick:unref(Dt)},null,8,["stocks","actions","onActionClick"])):(openBlock(),createBlock(StockList,{key:0,stocks:j.assetData.watchlistData,"show-watchlist-status":!0,"show-basic-details":!0,actions:Et.value,onStockClick:vt,onActionClick:unref(Dt)},null,8,["stocks","actions","onActionClick"]))],64)):(openBlock(),createElementBlock("div",_hoisted_63,F[43]||(F[43]=[createBaseVNode("div",{class:"empty-icon"},"⭐",-1),createBaseVNode("div",{class:"empty-text"},[createBaseVNode("h4",null,"暂无自选股"),createBaseVNode("p",null,"您还没有添加任何自选股票，可以通过搜索添加关注的股票")],-1)])))])):createCommentVNode("",!0)])])])):createCommentVNode("",!0),j.hasStockInfo&&j.stockList?(openBlock(),createElementBlock("div",{key:6,class:normalizeClass(["stock-list",{"persistent-stock-list":j.isPersistent}])},[unref(K)?(openBlock(),createBlock(MobileStockList,mergeProps({key:1,stocks:j.stockList},{ref_for:!0},unref(ve)(j,unref(getStockListConfig)),{onStockClick:vt,onActionClick:unref(Kt),"show-toolbar":!0,"toolbar-title":"智能荐股","show-time":!0,timestamp:j.timestamp}),{"toolbar-actions":withCtx(()=>[createBaseVNode("button",{onClick:fe=>H.refreshRecommendation(j),class:"mobile-refresh-btn"},F[45]||(F[45]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M23 4v6h-6M1 20v-6h6M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1)]),8,_hoisted_64)]),_:2},1040,["stocks","onActionClick","timestamp"])):(openBlock(),createBlock(StockList,mergeProps({key:0,stocks:j.stockList},{ref_for:!0},ds(j),{onStockClick:vt,onActionClick:unref(Kt)}),createSlots({_:2},[j.isPersistent?{name:"toolbar-actions",fn:withCtx(()=>[createVNode(Q,{size:"small",text:"",onClick:fe=>H.refreshRecommendation(j),class:"refresh-recommendation-btn"},{default:withCtx(()=>F[44]||(F[44]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M23 4v6h-6M1 20v-6h6M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1),createTextVNode(" 刷新荐股 ")])),_:2,__:[44]},1032,["onClick"])]),key:"0"}:void 0]),1040,["stocks","onActionClick"]))],2)):createCommentVNode("",!0)]),j.role==="assistant"&&j.content&&!j.isGenerating?(openBlock(),createElementBlock("div",_hoisted_65,[createBaseVNode("div",_hoisted_66,[createVNode(Q,{size:"small",text:"",onClick:fe=>ns(j),class:"action-btn copy-btn",title:St(j)},{default:withCtx(()=>[F[46]||(F[46]=createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2",stroke:"currentColor","stroke-width":"2"}),createBaseVNode("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1",stroke:"currentColor","stroke-width":"2"})],-1)),createBaseVNode("span",_hoisted_67,toDisplayString(St(j)),1)]),_:2,__:[46]},1032,["onClick","title"]),createVNode(Q,{size:"small",text:"",onClick:fe=>Ft(j),class:"action-btn regenerate-btn",title:"重新生成"},{default:withCtx(()=>F[47]||(F[47]=[createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M23 4v6h-6M1 20v-6h6M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1),createBaseVNode("span",{class:"action-text"},"重新生成",-1)])),_:2,__:[47]},1032,["onClick"])])])):createCommentVNode("",!0)],2))),128)),unref(K)?(openBlock(),createElementBlock("div",_hoisted_68)):createCommentVNode("",!0)],512)):createCommentVNode("",!0),unref(b)?(openBlock(),createElementBlock("div",_hoisted_69,[unref(f).length>0?(openBlock(),createElementBlock("div",_hoisted_70,[createBaseVNode("div",_hoisted_71,[createVNode(Q,{class:"new-chat-btn",onClick:ee},{default:withCtx(()=>F[48]||(F[48]=[createBaseVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M12 5v14m-7-7h14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),createTextVNode(" 新建聊天 ")])),_:1,__:[48]}),H.hasRecommendationInHistory?(openBlock(),createBlock(Q,{key:0,class:"goto-recommendation-btn",onClick:unref(We)},{default:withCtx(()=>F[49]||(F[49]=[createTextVNode(" 🎯 查看荐股 ")])),_:1,__:[49]},8,["onClick"])):createCommentVNode("",!0)])])):createCommentVNode("",!0),createVNode(ShortcutsBar,{mode:"chat","show-shortcuts":!0,"show-chat-shortcuts":R.value,"is-mobile-view":unref(K),"is-logged-in":unref(e).isLoggedIn,onShortcutClick:Rt,onCustomizeDialogOpen:Pt,onToggleChatShortcuts:Ee,ref_key:"chatShortcutsBarRef",ref:Xt},null,8,["show-chat-shortcuts","is-mobile-view","is-logged-in"]),createVNode(AIInputCard,{modelValue:unref($),"onUpdate:modelValue":F[5]||(F[5]=j=>isRef($)?$.value=j:null),"show-history-button":unref(e).isLoggedIn&&!He.value,"is-chat-mode":!0,"is-mobile-view":unref(K),"is-recording":unref(Ne),"recording-duration":unref(Ve),"is-generating":unref(y),"show-chat-shortcuts":R.value,"is-logged-in":unref(e).isLoggedIn,"show-chat-history":He.value,onSendMessage:O,onToggleChatHistory:bt,onVoiceClick:ae,onStopGeneration:unref(v),onToggleChatShortcuts:Ee},null,8,["modelValue","show-history-button","is-mobile-view","is-recording","recording-duration","is-generating","show-chat-shortcuts","is-logged-in","show-chat-history","onStopGeneration"])])):createCommentVNode("",!0)],2),unref(e).isLoggedIn?(openBlock(),createBlock(Sidebar,{key:1,ref_key:"sidebarRef",ref:Ae,onSendToChat:rs,onShowBuyDialog:unref(ze),onShowSellDialog:unref(Xe),onStockAction:$t},null,8,["onShowBuyDialog","onShowSellDialog"])):createCommentVNode("",!0),createVNode(MobileUserMenu,{visible:unref(X),"user-info":unref(e).userInfo,onClose:unref(Be),onCommand:F[6]||(F[6]=j=>unref(de)(j,Nt))},null,8,["visible","user-info","onClose"]),createVNode(LoginDialog,{modelValue:unref(a),"onUpdate:modelValue":F[7]||(F[7]=j=>isRef(a)?a.value=j:null),"register-mode":unref(n),onLoginSuccess:F[8]||(F[8]=j=>unref(m)(j,()=>{Oe.value=!0},gt)),onShowRecovery:unref(c)},null,8,["modelValue","register-mode","onShowRecovery"]),createVNode(PasswordRecoveryDialog,{modelValue:unref(r),"onUpdate:modelValue":F[9]||(F[9]=j=>isRef(r)?r.value=j:null),onBackToLogin:unref(l),onRecoverySuccess:unref(_)},null,8,["modelValue","onBackToLogin","onRecoverySuccess"]),createVNode(InvestmentPreferencesDialog,{modelValue:De.value,"onUpdate:modelValue":F[10]||(F[10]=j=>De.value=j),onPreferencesCompleted:ps,onPreferencesSkipped:it},null,8,["modelValue"]),unref(K)?createCommentVNode("",!0):(openBlock(),createBlock(StockTradingDialog,{key:2,modelValue:unref(et),"onUpdate:modelValue":F[11]||(F[11]=j=>isRef(et)?et.value=j:null),stock:unref(nt),"trade-type":unref(ut),onTradeCompleted:te,onWatchlistChanged:Ce},null,8,["modelValue","stock","trade-type"])),unref(K)?(openBlock(),createBlock(MobileStockTradingDialog,{key:3,modelValue:unref(et),"onUpdate:modelValue":F[12]||(F[12]=j=>isRef(et)?et.value=j:null),stock:unref(nt),"trade-type":unref(ut),onTradeCompleted:te,onWatchlistChanged:Ce},null,8,["modelValue","stock","trade-type"])):createCommentVNode("",!0),createVNode(AITradingDialog,{modelValue:unref(tt),"onUpdate:modelValue":F[13]||(F[13]=j=>isRef(tt)?tt.value=j:null),stock:unref(pt),onAiTradingConfirmed:Qe},null,8,["modelValue","stock"]),unref(K)?createCommentVNode("",!0):(openBlock(),createBlock(CustomizeShortcutsDialog,{key:4,modelValue:lt.value,"onUpdate:modelValue":F[14]||(F[14]=j=>lt.value=j),onShortcutsUpdated:Qt},null,8,["modelValue"])),unref(K)?(openBlock(),createBlock(MobileShortcutsDialog,{key:5,modelValue:lt.value,"onUpdate:modelValue":F[15]||(F[15]=j=>lt.value=j),onShortcutsUpdated:Qt},null,8,["modelValue"])):createCommentVNode("",!0),xe.value?(openBlock(),createElementBlock("div",_hoisted_72,[createBaseVNode("div",_hoisted_73,[createBaseVNode("div",_hoisted_74,[F[50]||(F[50]=createBaseVNode("div",{class:"guide-icon"},"👋",-1)),createBaseVNode("h4",_hoisted_75,toDisplayString(H.guideTitle),1)]),createBaseVNode("div",_hoisted_76,[createBaseVNode("p",null,toDisplayString(H.guideMessage),1)]),createBaseVNode("div",_hoisted_77,[createVNode(Q,{type:"primary",size:"small",onClick:Bt},{default:withCtx(()=>[createTextVNode(toDisplayString(rt.value),1)]),_:1}),createVNode(Q,{size:"small",onClick:gt},{default:withCtx(()=>F[51]||(F[51]=[createTextVNode("稍后")])),_:1,__:[51]})])])])):createCommentVNode("",!0),J.value?(openBlock(),createBlock(UserProfile,{key:7,onClose:hs})):createCommentVNode("",!0),M.value?(openBlock(),createBlock(RecordsCenter,{key:8,onClose:ms})):createCommentVNode("",!0),createVNode(QuantReminderDialog,{visible:unref(st),"onUpdate:visible":F[16]||(F[16]=j=>isRef(st)?st.value=j:null),message:unref(ht),"active-reminders":unref(Ge),onConfirm:yt,onCancel:ie,onRemoveReminder:at},null,8,["visible","message","active-reminders"]),createVNode(CopyrightFooter,{"is-chat-mode":unref(b),"is-mobile-view":unref(K),"is-wechat-env":unref(Se)},null,8,["is-chat-mode","is-mobile-view","is-wechat-env"])],2)}}},Main=_export_sfc(_sfc_main,[["__scopeId","data-v-c44626eb"]]);export{Main as default};

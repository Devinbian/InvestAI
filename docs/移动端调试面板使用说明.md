# 移动端调试面板使用说明

## 功能介绍

为了方便在手机上调试底部聊天框被遮挡的问题，我们添加了一个可视化的调试面板，可以直接在手机屏幕上查看检测数据。

## 如何使用

### 1. 打开调试面板

1. 在手机上打开应用
2. 登录账号并进入聊天模式（发送一条消息）
3. 在右侧会看到一个黄色的小虫子图标 🐛
4. 点击这个图标打开调试面板

### 2. 调试面板信息说明

调试面板会显示以下关键信息：

- **浏览器**: 检测到的浏览器类型（如：iOS Safari、iOS Chrome等）
- **屏幕高度**: 设备屏幕的总高度
- **窗口高度**: 浏览器窗口的高度
- **可视高度**: 实际可见区域的高度（排除工具栏）
- **工具栏高度**: 浏览器工具栏占用的高度
- **底部偏移**: 系统计算的原始偏移量
- **最终偏移**: 应用到输入框的最终偏移量（红色高亮显示）
- **iOS设备**: 是否为iOS设备
- **有底部栏**: 是否检测到底部安全区域

### 3. 调试操作

面板底部提供两个按钮：

- **刷新数据**: 重新检测并更新所有数据
- **强制修复**: 强制应用更大的偏移量来修复遮挡问题

### 4. 关键数值分析

**正常情况下的参考值：**

- **iOS Safari**: 最终偏移应该在 80-140px 之间
- **iOS Chrome**: 最终偏移应该在 90-150px 之间
- **Android Chrome**: 最终偏移应该在 60-90px 之间

**如果最终偏移值太小（<50px），说明检测可能有问题，可以：**

1. 点击"强制修复"按钮
2. 尝试旋转屏幕后再旋转回来
3. 切换到其他应用再切换回来

### 5. 问题排查

**如果输入框仍然被遮挡：**

1. 查看"最终偏移"的数值
2. 如果数值很小（<50px），点击"强制修复"
3. 如果数值已经很大（>100px）但仍被遮挡，可能需要进一步调整

**如果调试面板不显示：**

1. 确保已经登录账号
2. 确保已经进入聊天模式（发送过消息）
3. 确保在移动端设备上（屏幕宽度 ≤ 768px）

## 反馈信息

在使用调试面板时，请记录以下信息以便进一步优化：

1. 设备型号和系统版本
2. 浏览器类型和版本
3. 调试面板显示的各项数值
4. 是否仍然存在遮挡问题
5. "强制修复"是否有效

这些信息将帮助我们进一步优化适配逻辑。

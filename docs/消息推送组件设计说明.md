# 消息推送组件设计说明

## 概述

侧边栏消息推送组件是一个功能完整的消息管理系统，支持消息分类、详情展示、交互操作等功能。该组件专为投资AI应用设计，能够有效管理各类财经消息、市场提醒、交易通知等。

## 核心功能

### 1. 消息分类系统

- **全部消息**: 显示所有类型的消息
- **市场动态**: 股市行情、指数变化、板块异动等
- **财经资讯**: 政策新闻、公司公告、行业分析等
- **风险提醒**: 价格预警、风险评估、止损提醒等
- **系统通知**: 系统更新、设置变更、功能通知等
- **交易记录**: 买卖记录、委托状态、资金变动等

### 2. 消息优先级

- **紧急**: 红色标识，需要立即处理的消息
- **高**: 橙色标识，重要但不紧急的消息
- **中**: 蓝色标识，一般重要性的消息
- **低**: 灰色标识，普通信息类消息

### 3. 消息详情展示

每条消息包含以下信息：

- 消息标题和内容
- 发送时间和消息类型
- 优先级标识
- 相关标签
- 详细信息（如股票价格、涨跌幅等）
- 相关链接
- 快捷操作按钮

## 界面设计

### 1. 头部区域

- 消息推送标题和图标
- 未读消息数量统计
- "全部已读"快捷按钮

### 2. 分类选项卡

- 横向滚动的消息分类标签
- 每个分类显示未读消息数量徽章
- 支持点击切换不同消息类型

### 3. 消息列表

- 当前分类的消息数量统计
- 消息项卡片式展示
- 支持悬停效果和点击交互
- 未读消息特殊标识

### 4. 消息详情弹窗

- 模态弹窗展示完整消息信息
- 消息元数据（时间、类型、优先级）
- 详细内容和相关信息
- 操作按钮（关闭、发送到对话）

### 5. 底部操作

- 查看全部消息按钮
- 推送设置按钮

## 交互功能

### 1. 消息操作

- 点击消息查看详情
- 自动标记已读
- 快捷操作按钮（分析、关注、评估等）
- 发送消息到AI对话框

### 2. 批量操作

- 一键标记所有消息为已读
- 按分类筛选消息
- 消息搜索和排序

### 3. 响应式设计

- 桌面端完整功能展示
- 移动端优化布局
- 侧边栏模式特殊优化

## 数据结构

### 消息对象结构

```javascript
{
  id: 1,                          // 消息唯一ID
  type: 'market',                 // 消息类型
  priority: 'urgent',             // 优先级
  title: '市场异动提醒',           // 消息标题
  message: '芯片板块大幅上涨...',  // 消息内容
  time: new Date(),               // 发送时间
  read: false,                    // 是否已读
  tags: ['芯片股', '异动'],       // 相关标签
  details: {                      // 详细信息
    '涨幅': '+8.5%',
    '成交量': '放大120%'
  },
  links: [{                       // 相关链接
    title: '查看详情',
    url: '#'
  }],
  actions: [{                     // 快捷操作
    key: 'analyze',
    text: '深度分析',
    type: 'primary'
  }]
}
```

## 样式特性

### 1. 视觉层次

- 清晰的信息层级
- 合理的颜色搭配
- 一致的间距和圆角

### 2. 交互反馈

- 悬停效果
- 点击动画
- 状态变化过渡

### 3. 响应式适配

- 移动端布局优化
- 侧边栏模式适配
- 不同屏幕尺寸支持

## 使用方式

### 1. 基础使用

```vue
<MessageNotifications @send-to-chat="handleSendToChat" />
```

### 2. 事件处理

```javascript
const handleSendToChat = (data) => {
  // 处理发送到对话框的消息
  console.log("发送消息:", data);
};
```

### 3. 消息数据更新

组件内部管理消息数据，支持：

- 实时消息推送
- 消息状态更新
- 分类统计刷新

## 扩展功能

### 1. 消息推送设置

- 推送类型开关
- 推送时间设置
- 免打扰模式

### 2. 消息搜索

- 关键词搜索
- 时间范围筛选
- 标签过滤

### 3. 消息导出

- 消息历史导出
- 重要消息收藏
- 消息分享功能

## 技术实现

### 1. 响应式数据

使用 Vue 3 Composition API 管理状态

### 2. 组件通信

通过 emit 事件与父组件通信

### 3. 样式架构

- CSS 模块化
- 响应式媒体查询
- 主题色彩系统

### 4. 性能优化

- 虚拟滚动（大量消息时）
- 懒加载详情内容
- 防抖搜索

## 最佳实践

### 1. 消息管理

- 及时清理过期消息
- 合理设置消息优先级
- 避免消息过载

### 2. 用户体验

- 重要消息突出显示
- 提供快捷操作
- 保持界面简洁

### 3. 性能考虑

- 分页加载历史消息
- 缓存常用数据
- 优化动画性能

这个消息推送组件为用户提供了完整的消息管理体验，支持多种消息类型，具有良好的交互性和扩展性。

<template>
    <div class="shortcuts-bar" v-if="showShortcuts">
        <!-- PCÁ´ØÂø´Êç∑Êìç‰ΩúÊ†èÔºàÂàùÂßãÊ®°ÂºèÔºâ - Âè™Âú®PCÁ´ØÊòæÁ§∫ -->
        <div class="ai-suggestions" v-if="mode === 'initial' && !isMobileView">
            <div class="suggestion-row">
                <el-button v-for="shortcut in activeShortcuts" :key="shortcut.id" class="ai-suggestion-btn"
                    @click="handleShortcutClick(shortcut)">
                    <span class="btn-icon">{{ shortcut.icon }}</span>
                    {{ shortcut.title }}
                </el-button>
                <!-- Ëá™ÂÆö‰πâÊåâÈíÆ - ‰ΩéË∞ÉÊ†∑Âºè -->
                <button class="customize-btn-inline" @click="openCustomizeDialog" title="Ëá™ÂÆö‰πâÂø´Êç∑Êìç‰Ωú">
                    <span class="customize-icon">‚öôÔ∏è</span>
                </button>
            </div>
        </div>

        <!-- ÁßªÂä®Á´ØÂàùÂßãÊ®°ÂºèÈöêËóèÂç†‰ΩçÂÖÉÁ¥† - Á°Æ‰øùÁªÑ‰ª∂ÂßãÁªàË¢´Ê∏≤Êüì -->
        <div v-if="mode === 'initial' && isMobileView" style="display: none;" class="mobile-placeholder">
            <!-- ÈöêËóèÁöÑÂç†‰ΩçÂÖÉÁ¥†ÔºåÁ°Æ‰øùÁßªÂä®Á´ØÁªÑ‰ª∂ËÉΩË¢´Ê≠£Á°ÆÊ∏≤ÊüìÂíåÂºïÁî® -->
        </div>

        <!-- PCÁ´ØÂø´Êç∑Êìç‰ΩúÊ†èÔºàËÅäÂ§©Ê®°Âºè‰∏ãÊòæÁ§∫Âú®ËæìÂÖ•Ê°Ü‰∏äÊñπÔºâ -->
        <div class="chat-shortcuts pc-shortcuts" v-if="mode === 'chat' && showChatShortcuts && !isMobileView">
            <div class="shortcuts-grid">
                <el-button v-for="shortcut in activeShortcuts" :key="shortcut.id" class="chat-shortcut-btn"
                    @click="handleShortcutClick(shortcut)">
                    <span class="btn-icon">{{ shortcut.icon }}</span>
                    <span class="btn-text">{{ shortcut.shortTitle || shortcut.title }}</span>
                </el-button>
                <el-button class="chat-shortcut-btn customize-btn-chat" @click="openCustomizeDialog">
                    <span class="btn-icon">‚öôÔ∏è</span>
                    <span class="btn-text">ËÆæÁΩÆ</span>
                </el-button>
                <el-button class="chat-shortcut-btn close-btn" @click="toggleChatShortcuts">
                    <span class="btn-icon">‚úï</span>
                    <span class="btn-text">Êî∂Ëµ∑</span>
                </el-button>
            </div>
        </div>

        <!-- ÁßªÂä®Á´ØÂø´Êç∑Êìç‰ΩúÊ†èÔºàÂéüÁîüËÆæËÆ°Ôºâ -->
        <div class="mobile-shortcuts-overlay" v-if="showChatShortcuts && isMobileView" @click="toggleChatShortcuts">
            <div class="mobile-shortcuts-container" @click.stop>
                <!-- È°∂ÈÉ®ÊãñÊãΩÊåáÁ§∫Âô® -->
                <div class="drag-indicator"></div>

                <!-- Ê†áÈ¢òÂå∫Âüü -->
                <div class="shortcuts-header">
                    <h3 class="shortcuts-title">Âø´Êç∑Êìç‰Ωú</h3>
                    <button class="close-btn-header" @click="toggleChatShortcuts">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" />
                        </svg>
                    </button>
                </div>

                <!-- Âø´Êç∑Êìç‰ΩúÁΩëÊ†º -->
                <div class="shortcuts-grid-mobile">
                    <div v-for="shortcut in activeShortcuts" :key="shortcut.id" class="shortcut-item-mobile"
                        @click="handleShortcutClick(shortcut)">
                        <div class="shortcut-icon">{{ shortcut.icon }}</div>
                        <div class="shortcut-text">{{ shortcut.shortTitle || shortcut.title }}</div>
                    </div>

                    <!-- Ëá™ÂÆö‰πâÊåâÈíÆ -->
                    <div class="shortcut-item-mobile add-shortcut" @click="openCustomizeDialog">
                        <div class="shortcut-icon add-icon">+</div>
                        <div class="shortcut-text">Ëá™ÂÆö‰πâ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup>
import { ref, computed, onMounted, watch, nextTick } from 'vue';
import { ElMessage } from 'element-plus';

// PropsÂÆö‰πâ
const props = defineProps({
    // ÊòæÁ§∫Ê®°ÂºèÔºö'initial' | 'chat'
    mode: {
        type: String,
        default: 'initial',
        validator: (value) => ['initial', 'chat'].includes(value)
    },
    // ÊòØÂê¶ÊòæÁ§∫Âø´Êç∑Êìç‰ΩúÊ†è
    showShortcuts: {
        type: Boolean,
        default: true
    },
    // ÊòØÂê¶ÊòæÁ§∫ËÅäÂ§©Âø´Êç∑Êìç‰ΩúÔºà‰ªÖÂú®chatÊ®°Âºè‰∏ãÊúâÊïàÔºâ
    showChatShortcuts: {
        type: Boolean,
        default: false
    },
    // ÊòØÂê¶‰∏∫ÁßªÂä®Á´ØËßÜÂõæ
    isMobileView: {
        type: Boolean,
        default: false
    },
    // ÊòØÂê¶Â∑≤ÁôªÂΩï
    isLoggedIn: {
        type: Boolean,
        default: false
    }
});

// EmitsÂÆö‰πâ
const emit = defineEmits([
    'shortcut-click',
    'customize-dialog-open',
    'toggle-chat-shortcuts',
    'shortcuts-updated'
]);

// ÈªòËÆ§Âø´Êç∑Êìç‰ΩúÈÖçÁΩÆ
const defaultShortcuts = ref([
    {
        id: 'smart_review',
        icon: 'üìä',
        title: 'Êô∫ËÉΩÂ§çÁõò',
        shortTitle: 'Â§çÁõò',
        description: 'Êô∫ËÉΩÂàÜÊûêÂ∏ÇÂú∫Ë°®Áé∞ÂíåÊäïËµÑÁ≠ñÁï•',
        action: 'smart_review',
        isDefault: true,
        isActive: true
    },
    {
        id: 'watchlist',
        icon: '‚≠ê',
        title: 'Ëá™ÈÄâËÇ°',
        shortTitle: 'Ëá™ÈÄâ',
        description: 'Êü•ÁúãÂíåÁÆ°ÁêÜÊàëÁöÑËá™ÈÄâËÇ°Á•®',
        action: 'watchlist',
        isDefault: true,
        isActive: true
    },
    {
        id: 'smart_recommendation',
        icon: 'üìà',
        title: 'Êô∫ËÉΩËçêËÇ°',
        shortTitle: 'ËçêËÇ°',
        description: 'Âü∫‰∫éAIÁÆóÊ≥ïÊé®Ëçê‰ºòË¥®ËÇ°Á•®',
        action: 'smart_recommendation',
        isDefault: true,
        isActive: true
    },
    {
        id: 'news_update',
        icon: 'üìÑ',
        title: 'ËµÑËÆØÊé®ÈÄÅ',
        shortTitle: 'ËµÑËÆØ',
        description: 'Ëé∑ÂèñÊúÄÊñ∞Â∏ÇÂú∫ËµÑËÆØÂíåÈáçË¶ÅÂÖ¨Âëä',
        action: 'news_update',
        isDefault: true,
        isActive: true
    },
    {
        id: 'asset_analysis',
        icon: 'üíº',
        title: 'ÊàëÁöÑËµÑ‰∫ß',
        shortTitle: 'ËµÑ‰∫ß',
        description: 'Êü•ÁúãÊäïËµÑÁªÑÂêàÂíåË¥¶Êà∑ÂàÜÊûê',
        action: 'asset_analysis',
        isDefault: true,
        isActive: true
    }
]);

// ÂΩìÂâçÊøÄÊ¥ªÁöÑÂø´Êç∑Êìç‰Ωú
const activeShortcuts = ref([]);

// ÁõëÂê¨activeShortcutsÂèòÂåñÔºàÁî®‰∫éË∞ÉËØïÔºâ
watch(activeShortcuts, (newShortcuts, oldShortcuts) => {
    console.log('üîÑ ShortcutsBar - activeShortcuts Êï∞ÊçÆÂèòÂåñ');
    console.log('ÊóßÊï∞ÊçÆÈïøÂ∫¶:', oldShortcuts?.length || 0);
    console.log('Êñ∞Êï∞ÊçÆÈïøÂ∫¶:', newShortcuts?.length || 0);
    console.log('Êñ∞Êï∞ÊçÆÂÜÖÂÆπ:', newShortcuts);
}, { deep: true });

// ÂàùÂßãÂåñÂø´Êç∑Êìç‰Ωú
const initializeShortcuts = () => {
    console.log('üîÑ ShortcutsBar - ÂºÄÂßãÂàùÂßãÂåñÂø´Êç∑Êìç‰Ωú');
    const result = [];

    // Âä†ËΩΩÈªòËÆ§Âø´Êç∑Êìç‰ΩúÁä∂ÊÄÅ
    const savedStates = localStorage.getItem('defaultShortcutStates');
    const states = savedStates ? JSON.parse(savedStates) : {};
    console.log('üìä ShortcutsBar - ÈªòËÆ§Âø´Êç∑Êìç‰ΩúÁä∂ÊÄÅ:', states);

    // Ê∑ªÂä†ÊøÄÊ¥ªÁöÑÈªòËÆ§Âø´Êç∑Êìç‰Ωú
    const activeDefaultShortcuts = defaultShortcuts.value.filter(s => {
        if (states.hasOwnProperty(s.id)) {
            s.isActive = states[s.id];
        }
        return s.isActive;
    });
    result.push(...activeDefaultShortcuts);
    console.log('‚úÖ ShortcutsBar - ÊøÄÊ¥ªÁöÑÈªòËÆ§Âø´Êç∑Êìç‰Ωú:', activeDefaultShortcuts.length, activeDefaultShortcuts);

    // Ê∑ªÂä†ÊøÄÊ¥ªÁöÑËá™ÂÆö‰πâÂø´Êç∑Êìç‰Ωú
    const savedCustomShortcuts = localStorage.getItem('customShortcuts');
    if (savedCustomShortcuts) {
        const customShortcuts = JSON.parse(savedCustomShortcuts);
        console.log('üíæ ShortcutsBar - ‰øùÂ≠òÁöÑËá™ÂÆö‰πâÂø´Êç∑Êìç‰Ωú:', customShortcuts);
        const activeCustomShortcuts = customShortcuts
            .filter(s => s.isActive)
            .map(shortcut => ({
                ...shortcut,
                action: 'custom'
            }));
        result.push(...activeCustomShortcuts);
        console.log('‚úÖ ShortcutsBar - ÊøÄÊ¥ªÁöÑËá™ÂÆö‰πâÂø´Êç∑Êìç‰Ωú:', activeCustomShortcuts.length, activeCustomShortcuts);
    } else {
        console.log('üìù ShortcutsBar - Ê≤°Êúâ‰øùÂ≠òÁöÑËá™ÂÆö‰πâÂø´Êç∑Êìç‰Ωú');
    }

    console.log('üîç ShortcutsBar - Êõ¥Êñ∞ÂâçÁöÑactiveShortcuts:', activeShortcuts.value.length);
    activeShortcuts.value = result;
    console.log('üéØ ShortcutsBar - ÊúÄÁªàÊøÄÊ¥ªÁöÑÂø´Êç∑Êìç‰ΩúÊÄªÊï∞:', result.length);
    console.log('üéØ ShortcutsBar - ÊúÄÁªàÊøÄÊ¥ªÁöÑÂø´Êç∑Êìç‰ΩúËØ¶ÊÉÖ:', result);
};

// Âø´Êç∑Êìç‰ΩúÁÇπÂáªÂ§ÑÁêÜ
const handleShortcutClick = (shortcut) => {
    console.log('üöÄ ShortcutsBar - ÁÇπÂáªÂø´Êç∑Êìç‰Ωú:', shortcut);

    try {
        // ÂèëÈÄÅ‰∫ã‰ª∂ÁªôÁà∂ÁªÑ‰ª∂Â§ÑÁêÜ
        emit('shortcut-click', shortcut);
    } catch (error) {
        console.error('ShortcutsBar - ÊâßË°åÂø´Êç∑Êìç‰ΩúÂ§±Ë¥•:', error);
        ElMessage.error('ÊâßË°åÂø´Êç∑Êìç‰ΩúÊó∂ÂèëÁîüÈîôËØØ');
    }
};

// ÊâìÂºÄËá™ÂÆö‰πâÂØπËØùÊ°Ü
const openCustomizeDialog = () => {
    emit('customize-dialog-open');
};

// ÂàáÊç¢ËÅäÂ§©Âø´Êç∑Êìç‰ΩúÊòæÁ§∫Áä∂ÊÄÅ
const toggleChatShortcuts = () => {
    emit('toggle-chat-shortcuts');
};

// Â§ÑÁêÜÂø´Êç∑Êìç‰ΩúÊõ¥Êñ∞
const handleShortcutsUpdated = () => {
    console.log('üîÑ ShortcutsBar - Â§ÑÁêÜÂø´Êç∑Êìç‰ΩúÊõ¥Êñ∞‰∫ã‰ª∂');
    console.log('üîç ShortcutsBar - Êõ¥Êñ∞ÂâçÁöÑactiveShortcutsÊï∞Èáè:', activeShortcuts.value.length);

    // Âº∫Âà∂Ê∏ÖÁ©∫Êï∞ÁªÑÔºåÁ°Æ‰øùÂìçÂ∫îÂºèÊõ¥Êñ∞
    activeShortcuts.value = [];

    // ‰ΩøÁî®nextTickÁ°Æ‰øùDOMÊõ¥Êñ∞ÂêéÂÜçÈáçÊñ∞Âä†ËΩΩÊï∞ÊçÆ
    nextTick(() => {
        initializeShortcuts();

        console.log('üîç ShortcutsBar - Êõ¥Êñ∞ÂêéÁöÑactiveShortcutsÊï∞Èáè:', activeShortcuts.value.length);
        console.log('üîç ShortcutsBar - Êõ¥Êñ∞ÂêéÁöÑactiveShortcutsËØ¶ÊÉÖ:', activeShortcuts.value);

        emit('shortcuts-updated');
        console.log('‚úÖ ShortcutsBar - Âø´Êç∑Êìç‰ΩúÊõ¥Êñ∞ÂÆåÊàê');
    });
};

// ÁõëÂê¨propsÂèòÂåñÔºåÈáçÊñ∞ÂàùÂßãÂåñÂø´Êç∑Êìç‰Ωú
watch(() => props.isLoggedIn, () => {
    initializeShortcuts();
}, { immediate: false });

// ÁõëÂê¨ÁßªÂä®Á´ØÂø´Êç∑Êìç‰ΩúÂºπÁ™óÊòæÁ§∫Áä∂ÊÄÅÔºåÊØèÊ¨°ÊòæÁ§∫Êó∂ÈáçÊñ∞Âä†ËΩΩÊï∞ÊçÆ
watch(() => props.showChatShortcuts, (newVal, oldVal) => {
    if (newVal && props.isMobileView && !oldVal) {
        console.log('üì± ShortcutsBar - ÁßªÂä®Á´ØÂø´Êç∑Êìç‰ΩúÂºπÁ™óÊâìÂºÄÔºåÈáçÊñ∞ÂàùÂßãÂåñÊï∞ÊçÆ');
        initializeShortcuts();
    }
}, { immediate: false });

// ÁªÑ‰ª∂ÊåÇËΩΩÊó∂ÂàùÂßãÂåñ
onMounted(() => {
    console.log('üîß ShortcutsBar - ÁªÑ‰ª∂Â∑≤ÊåÇËΩΩ', {
        mode: props.mode,
        showShortcuts: props.showShortcuts,
        isMobileView: props.isMobileView,
        isLoggedIn: props.isLoggedIn
    });
    initializeShortcuts();
});

// ÁõëÂê¨ÁªÑ‰ª∂ÂàõÂª∫
console.log('üîß ShortcutsBar - ÁªÑ‰ª∂Ê≠£Âú®ÂàõÂª∫', {
    timestamp: Date.now()
});

// Êö¥Èú≤ÊñπÊ≥ïÁªôÁà∂ÁªÑ‰ª∂
defineExpose({
    initializeShortcuts,
    handleShortcutsUpdated
});
</script>

<style scoped>
/* Âø´Êç∑Êìç‰ΩúÊ†èÂü∫Á°ÄÊ†∑Âºè */
.shortcuts-bar {
    width: 100%;
}

/* PCÁ´ØÂàùÂßãÊ®°ÂºèÂø´Êç∑Êìç‰ΩúÊ†∑Âºè */
.ai-suggestions {
    margin-top: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.suggestion-row {
    display: flex;
    gap: 12px;
    align-items: center;
    flex-wrap: wrap;
    justify-content: center;
}

.ai-suggestion-btn {
    height: 44px;
    padding: 0 20px;
    border-radius: 22px;
    border: 1px solid #e5e7eb;
    background: white;
    color: #374151;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.ai-suggestion-btn:hover {
    border-color: #3b82f6;
    color: #3b82f6;
    background: #f8faff;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}

.ai-suggestion-btn .btn-icon {
    font-size: 16px;
}

/* Ëá™ÂÆö‰πâÊåâÈíÆÊ†∑Âºè */
.customize-btn-inline {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    border: 1px solid #e5e7eb;
    background: white;
    color: #9ca3af;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.customize-btn-inline:hover {
    border-color: #6b7280;
    color: #374151;
    background: #f9fafb;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.customize-icon {
    font-size: 16px;
}

/* PCÁ´ØËÅäÂ§©Ê®°ÂºèÂø´Êç∑Êìç‰ΩúÊ†∑Âºè */
.chat-shortcuts.pc-shortcuts {
    margin-bottom: 16px;
    padding: 16px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    border: 1px solid rgba(0, 0, 0, 0.06);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.shortcuts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 12px;
    max-width: 100%;
}

.chat-shortcut-btn {
    height: 48px;
    padding: 0 16px;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    background: white;
    color: #374151;
    font-size: 13px;
    font-weight: 500;
    transition: all 0.2s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
    cursor: pointer;
    min-width: 120px;
}

.chat-shortcut-btn:hover {
    border-color: #3b82f6;
    color: #3b82f6;
    background: #f8faff;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);
}

.chat-shortcut-btn .btn-icon {
    font-size: 16px;
}

.chat-shortcut-btn .btn-text {
    font-size: 12px;
    font-weight: 500;
}

/* ÁâπÊÆäÊåâÈíÆÊ†∑Âºè */
.customize-btn-chat {
    border-color: #d1d5db;
    color: #6b7280;
}

.customize-btn-chat:hover {
    border-color: #9ca3af;
    color: #374151;
    background: #f9fafb;
}

.close-btn {
    border-color: #f87171;
    color: #dc2626;
}

.close-btn:hover {
    border-color: #dc2626;
    background: #fef2f2;
}

/* ÁßªÂä®Á´ØÂø´Êç∑Êìç‰ΩúÊ†∑Âºè - ÂéüÁîüËÆæËÆ° */
.mobile-shortcuts-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.4);
    z-index: 2000;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding: 0;
    animation: fadeIn 0.2s ease-out;
}

.mobile-shortcuts-container {
    width: 100%;
    background: #f8f9fa;
    border-radius: 16px 16px 0 0;
    padding: 0 0 env(safe-area-inset-bottom, 20px) 0;
    max-height: 60vh;
    overflow: hidden;
    animation: slideUp 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.1);
}

@keyframes slideUp {
    from {
        transform: translateY(100%);
    }

    to {
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* ÊãñÊãΩÊåáÁ§∫Âô® */
.drag-indicator {
    width: 36px;
    height: 4px;
    background: #d1d5db;
    border-radius: 2px;
    margin: 8px auto 0;
}

/* Ê†áÈ¢òÂå∫Âüü */
.shortcuts-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px 12px;
    border-bottom: 1px solid #e5e7eb;
    background: white;
}

.shortcuts-title {
    font-size: 16px;
    font-weight: 600;
    color: #1f2937;
    margin: 0;
}

.close-btn-header {
    width: 32px;
    height: 32px;
    border: none;
    background: #f3f4f6;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    color: #6b7280;
}

.close-btn-header:hover {
    background: #e5e7eb;
    color: #374151;
}

.close-btn-header:active {
    transform: scale(0.95);
    background: #d1d5db;
}

/* Âø´Êç∑Êìç‰ΩúÁΩëÊ†º */
.shortcuts-grid-mobile {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0;
    padding: 20px 16px 16px;
    background: white;
}

.shortcut-item-mobile {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 16px 8px;
    cursor: pointer;
    border-radius: 12px;
    transition: all 0.2s ease;
    min-height: 80px;
    justify-content: center;
}

.shortcut-item-mobile:active {
    transform: scale(0.95);
    background: #f3f4f6;
}

.shortcut-icon {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    background: #f8faff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    margin-bottom: 8px;
    transition: all 0.2s ease;
}

.shortcut-text {
    font-size: 12px;
    color: #374151;
    text-align: center;
    font-weight: 500;
    line-height: 1.2;
}

/* Ëá™ÂÆö‰πâÊåâÈíÆÁâπÊÆäÊ†∑Âºè */
.add-shortcut .shortcut-icon {
    background: #f0f9ff;
    color: #3b82f6;
    border: 1px dashed #93c5fd;
}

.add-shortcut .shortcut-icon.add-icon {
    font-size: 18px;
    font-weight: 300;
}

.add-shortcut .shortcut-text {
    color: #3b82f6;
}

/* Ëß¶Êë∏ÂèçÈ¶à */
@media (hover: none) and (pointer: coarse) {
    .shortcut-item-mobile:hover {
        background: transparent;
    }

    .shortcut-item-mobile:active {
        background: #f3f4f6;
    }
}

/* ÂìçÂ∫îÂºèËÆæËÆ° */
@media (max-width: 768px) {
    .ai-suggestions {
        margin-top: 16px;
        padding: 0 16px;
    }

    .suggestion-row {
        gap: 8px;
    }

    .ai-suggestion-btn {
        height: 40px;
        padding: 0 16px;
        font-size: 13px;
        border-radius: 20px;
    }

    .customize-btn-inline {
        width: 40px;
        height: 40px;
    }
}

@media (max-width: 480px) {
    .ai-suggestion-btn {
        min-width: auto;
        flex: 1;
    }

    /* Ë∂ÖÂ∞èÂ±èÂπï‰ºòÂåñÁßªÂä®Á´ØÂºπÁ™ó */
    .shortcuts-grid-mobile {
        grid-template-columns: repeat(3, 1fr);
        padding: 16px 12px 12px;
    }

    .shortcut-item-mobile {
        padding: 12px 6px;
        min-height: 72px;
    }

    .shortcut-icon {
        width: 40px;
        height: 40px;
        font-size: 18px;
        margin-bottom: 6px;
    }

    .shortcut-text {
        font-size: 11px;
    }

    .shortcuts-header {
        padding: 12px 16px 8px;
    }

    .shortcuts-title {
        font-size: 15px;
    }

    .close-btn-header {
        width: 28px;
        height: 28px;
    }

    .close-btn-header svg {
        width: 16px;
        height: 16px;
    }
}
</style>
